/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","@emotion/css","@grafana/ui","react","lodash","@grafana/runtime","react-router-dom","rxjs","react-dom","@emotion/react","redux","react-redux"],((e,t,n,r,o,i,a,s,l,c,u,d)=>(()=>{var p,f,h={144:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)>0},200:e=>{"use strict";e.exports=d},278:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},291:(e,t,n)=>{"use strict";n.d(t,{_q:()=>r.A});var r=n(8728);n(9273),n(9115),"undefined"==typeof Reflect?Object.keys:Reflect.ownKeys,n(4358)},362:(e,t,n)=>{"use strict";var r=n(6441);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const o=!(0,r.isNum)(e.lastX),a=i(e);return o?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:a}=e.props;a="string"==typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);const s=i(e);if("string"==typeof a){const{ownerDocument:e}=s,t=e.defaultView;let n;if(n="parent"===a?s.parentNode:e.querySelector(a),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');const i=n,l=t.getComputedStyle(s),c=t.getComputedStyle(i);a={left:-s.offsetLeft+(0,r.int)(c.paddingLeft)+(0,r.int)(l.marginLeft),top:-s.offsetTop+(0,r.int)(c.paddingTop)+(0,r.int)(l.marginTop),right:(0,o.innerWidth)(i)-(0,o.outerWidth)(s)-s.offsetLeft+(0,r.int)(c.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,o.innerHeight)(i)-(0,o.outerHeight)(s)-s.offsetTop+(0,r.int)(c.paddingBottom)-(0,r.int)(l.marginBottom)}}return(0,r.isNum)(a.right)&&(t=Math.min(t,a.right)),(0,r.isNum)(a.bottom)&&(n=Math.min(n,a.bottom)),(0,r.isNum)(a.left)&&(t=Math.max(t,a.left)),(0,r.isNum)(a.top)&&(n=Math.max(n,a.top)),[t,n]},t.getControlPosition=function(e,t,n){const r="number"==typeof t?(0,o.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;const a=i(n),s=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,o.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]};var r=n(6732),o=n(2837);function i(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=l,t.childrenEqual=function(e,t){return(0,o.deepEqual)(i.default.Children.map(e,(e=>e?.key)),i.default.Children.map(t,(e=>e?.key)))&&(0,o.deepEqual)(i.default.Children.map(e,(e=>e?.props["data-grid"])),i.default.Children.map(t,(e=>e?.props["data-grid"])))},t.cloneLayout=c,t.cloneLayoutItem=d,t.collides=p,t.compact=f,t.compactItem=g,t.compactType=function(e){const{verticalCompact:t,compactType:n}=e||{};return!1===t?null:n},t.correctBounds=b,t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.fastRGLPropsEqual=void 0,t.getAllCollisions=w,t.getFirstCollision=y,t.getLayoutItem=v,t.getStatics=S,t.modifyLayout=u,t.moveElement=E,t.moveElementAwayFromCollision=A,t.noop=void 0,t.perc=function(e){return 100*e+"%"},t.resizeItemInDirection=function(e,t,n,r){const o=_[e];return o?o(t,{...t,...n},r):n},t.setTopLeft=function(e){let{top:t,left:n,width:r,height:o}=e;return{top:`${t}px`,left:`${n}px`,width:`${r}px`,height:`${o}px`,position:"absolute"}},t.setTransform=function(e){let{top:t,left:n,width:r,height:o}=e;const i=`translate(${n}px,${t}px)`;return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i,OTransform:i,width:`${r}px`,height:`${o}px`,position:"absolute"}},t.sortLayoutItems=k,t.sortLayoutItemsByColRow=M,t.sortLayoutItemsByRowCol=B,t.synchronizeLayoutWithChildren=function(e,t,n,r,o){e=e||[];const s=[];i.default.Children.forEach(t,(t=>{if(null==t?.key)return;const n=v(e,String(t.key)),r=t.props["data-grid"];n&&null==r?s.push(d(n)):r?(a||L([r],"ReactGridLayout.children"),s.push(d({...r,i:t.key}))):s.push(d({w:1,h:1,x:0,y:l(s),i:String(t.key)}))}));const c=b(s,{cols:n});return o?c:f(c,r,n)},t.validateLayout=L,t.withLayoutItem=function(e,t,n){let r=v(e,t);return r?(r=n(d(r)),[e=u(e,r),r]):[e,null]};var r,o=n(8187),i=(r=n(5959))&&r.__esModule?r:{default:r};const a=!0,s=!1;function l(e){let t,n=0;for(let r=0,o=e.length;r<o;r++)t=e[r].y+e[r].h,t>n&&(n=t);return n}function c(e){const t=Array(e.length);for(let n=0,r=e.length;n<r;n++)t[n]=d(e[n]);return t}function u(e,t){const n=Array(e.length);for(let r=0,o=e.length;r<o;r++)t.i===e[r].i?n[r]=t:n[r]=e[r];return n}function d(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function p(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function f(e,t,n,r){const o=S(e),i=k(e,t),a=Array(e.length);for(let s=0,l=i.length;s<l;s++){let l=d(i[s]);l.static||(l=g(o,l,t,n,i,r),o.push(l)),a[e.indexOf(i[s])]=l,l.moved=!1}return a}t.fastRGLPropsEqual=n(7434);const h={x:"w",y:"h"};function m(e,t,n,r){const o=h[r];t[r]+=1;for(let i=e.map((e=>e.i)).indexOf(t.i)+1;i<e.length;i++){const a=e[i];if(!a.static){if(a.y>t.y+t.h)break;p(t,a)&&m(e,a,n+t[o],r)}}t[r]=n}function g(e,t,n,r,o,i){const a="horizontal"===n;if("vertical"===n)for(t.y=Math.min(l(e),t.y);t.y>0&&!y(e,t);)t.y--;else if(a)for(;t.x>0&&!y(e,t);)t.x--;let s;for(;(s=y(e,t))&&(null!==n||!i);)if(a?m(o,t,s.x+s.w,"x"):m(o,t,s.y+s.h,"y"),a&&t.x+t.w>r)for(t.x=r-t.w,t.y++;t.x>0&&!y(e,t);)t.x--;return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function b(e,t){const n=S(e);for(let r=0,o=e.length;r<o;r++){const o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;y(n,o);)o.y++;else n.push(o)}return e}function v(e,t){for(let n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function y(e,t){for(let n=0,r=e.length;n<r;n++)if(p(e[n],t))return e[n]}function w(e,t){return e.filter((e=>p(e,t)))}function S(e){return e.filter((e=>e.static))}function E(e,t,n,r,o,i,a,s,l){if(t.static&&!0!==t.isDraggable)return e;if(t.y===r&&t.x===n)return e;N(`Moving element ${t.i} to [${String(n)},${String(r)}] from [${t.x},${t.y}]`);const u=t.x,d=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;let p=k(e,a);("vertical"===a&&"number"==typeof r?d>=r:"horizontal"===a&&"number"==typeof n&&u>=n)&&(p=p.reverse());const f=w(p,t),h=f.length>0;if(h&&l)return c(e);if(h&&i)return N(`Collision prevented on ${t.i}, reverting.`),t.x=u,t.y=d,t.moved=!1,e;for(let n=0,r=f.length;n<r;n++){const r=f[n];N(`Resolving collision between ${t.i} at [${t.x},${t.y}] and ${r.i} at [${r.x},${r.y}]`),r.moved||(e=r.static?A(e,r,t,o,a,s):A(e,t,r,o,a,s))}return e}function A(e,t,n,r,o,i){const a="horizontal"===o,s="vertical"===o,l=t.static;if(r){r=!1;const c={x:a?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"},u=y(e,c),d=u&&u.y+u.h>t.y,p=u&&t.x+t.w>u.x;if(!u)return N(`Doing reverse collision on ${n.i} up to [${c.x},${c.y}].`),E(e,n,a?c.x:void 0,s?c.y:void 0,r,l,o,i);if(d&&s)return E(e,n,void 0,t.y+1,r,l,o,i);if(d&&null==o)return t.y=n.y,n.y=n.y+n.h,e;if(p&&a)return E(e,t,n.x,void 0,r,l,o,i)}const c=a?n.x+1:void 0,u=s?n.y+1:void 0;return null==c&&null==u?e:E(e,n,a?n.x+1:void 0,s?n.y+1:void 0,r,l,o,i)}const x=(e,t,n,r)=>e+n>r?t:n,C=(e,t,n)=>e<0?t:n,O=e=>Math.max(0,e),I=e=>Math.max(0,e),R=(e,t,n)=>{let{left:r,height:o,width:i}=t;const a=e.top-(o-e.height);return{left:r,width:i,height:C(a,e.height,o),top:I(a)}},D=(e,t,n)=>{let{top:r,left:o,height:i,width:a}=t;return{top:r,height:i,width:x(e.left,e.width,a,n),left:O(o)}},P=(e,t,n)=>{let{top:r,height:o,width:i}=t;const a=e.left-(i-e.width);return{height:o,width:a<0?e.width:x(e.left,e.width,i,n),top:I(r),left:O(a)}},T=(e,t,n)=>{let{top:r,left:o,height:i,width:a}=t;return{width:a,left:o,height:C(r,e.height,i),top:I(r)}},_={n:R,ne:function(){return R(arguments.length<=0?void 0:arguments[0],D(...arguments))},e:D,se:function(){return T(arguments.length<=0?void 0:arguments[0],D(...arguments))},s:T,sw:function(){return T(arguments.length<=0?void 0:arguments[0],P(...arguments))},w:P,nw:function(){return R(arguments.length<=0?void 0:arguments[0],P(...arguments))}};function k(e,t){return"horizontal"===t?M(e):"vertical"===t?B(e):e}function B(e){return e.slice(0).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function M(e){return e.slice(0).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout";const n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let r=0,o=e.length;r<o;r++){const o=e[r];for(let e=0;e<n.length;e++){const i=n[e],a=o[i];if("number"!=typeof a||Number.isNaN(a))throw new Error(`ReactGridLayout: ${t}[${r}].${i} must be a number! Received: ${a} (${typeof a})`)}if(void 0!==o.i&&"string"!=typeof o.i)throw new Error(`ReactGridLayout: ${t}[${r}].i must be a string! Received: ${o.i} (${typeof o.i})`)}}function N(){s&&console.log(...arguments)}t.noop=()=>{}},544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findOrGenerateResponsiveLayout=function(e,t,n,i,a,s){if(e[n])return(0,r.cloneLayout)(e[n]);let l=e[i];const c=o(t),u=c.slice(c.indexOf(n));for(let t=0,n=u.length;t<n;t++){const n=u[t];if(e[n]){l=e[n];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:a}),s,a)},t.getBreakpointFromWidth=function(e,t){const n=o(e);let r=n[0];for(let o=1,i=n.length;o<i;o++){const i=n[o];t>e[i]&&(r=i)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.sortBreakpoints=o;var r=n(414);function o(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}},599:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)<0},603:(e,t,n)=>{const r=n(2801);e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))},651:(e,t,n)=>{const r=n(8395);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},660:(e,t,n)=>{const r=n(5860);e.exports=(e,t)=>{const n=r(e,null,!0),o=r(t,null,!0),i=n.compare(o);if(0===i)return null;const a=i>0,s=a?n:o,l=a?o:n,c=!!s.prerelease.length;if(l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(s))return l.minor&&!l.patch?"minor":"patch"}const u=c?"pre":"";return n.major!==o.major?u+"major":n.minor!==o.minor?u+"minor":n.patch!==o.patch?u+"patch":"prerelease"}},694:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},697:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,o:()=>a});var r=n(5959),o=(0,n(9370).A)()?r.useLayoutEffect:r.useEffect,i=function(e,t){var n=r.useRef(!0);o((function(){return e(n.current)}),t),o((function(){return n.current=!1,function(){n.current=!0}}),[])},a=function(e,t){i((function(t){if(!t)return e()}),t)};const s=i},883:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>A});var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e){var t=!1,n=!1,r=0;function o(){t&&(t=!1,e()),n&&s()}function i(){a(o)}function s(){var e=Date.now();if(t){if(e-r<2)return;n=!0}else t=!0,n=!1,setTimeout(i,20);r=e}return s}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},p=b(0,0,0,0);function f(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function g(e){return o?m(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=d(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=f(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=h(r,"left","right")+i),Math.round(l+a)!==n&&(l-=h(r,"top","bottom")+a)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(s+i)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return b(o.left,o.top,s,l)}(e):p}function b(e,t,n,r){return{x:e,y:t,width:n,height:r}}var v=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),y=function(e,t){var n,r,o,i,a,s,l,c=(r=(n=t).x,o=n.y,i=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),u(l,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),l);u(this,{target:e,contentRect:c})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new v(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new y(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),S="undefined"!=typeof WeakMap?new WeakMap:new r,E=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(t,n,this);S.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){E.prototype[e]=function(){var t;return(t=S.get(this))[e].apply(t,arguments)}}));const A=void 0!==i.ResizeObserver?i.ResizeObserver:E},906:(e,t)=>{"use strict";function n(e){const{margin:t,containerPadding:n,containerWidth:r,cols:o}=e;return(r-t[0]*(o-1)-2*n[0])/o}function r(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function o(e,t,n){return Math.max(Math.min(e,n),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.calcGridColWidth=n,t.calcGridItemPosition=function(e,t,o,i,a,s){const{margin:l,containerPadding:c,rowHeight:u}=e,d=n(e),p={};return s&&s.resizing?(p.width=Math.round(s.resizing.width),p.height=Math.round(s.resizing.height)):(p.width=r(i,d,l[0]),p.height=r(a,u,l[1])),s&&s.dragging?(p.top=Math.round(s.dragging.top),p.left=Math.round(s.dragging.left)):s&&s.resizing&&"number"==typeof s.resizing.top&&"number"==typeof s.resizing.left?(p.top=Math.round(s.resizing.top),p.left=Math.round(s.resizing.left)):(p.top=Math.round((u+l[1])*o+c[1]),p.left=Math.round((d+l[0])*t+c[0])),p},t.calcGridItemWHPx=r,t.calcWH=function(e,t,r,i,a,s){const{margin:l,maxRows:c,cols:u,rowHeight:d}=e,p=n(e);let f=Math.round((t+l[0])/(p+l[0])),h=Math.round((r+l[1])/(d+l[1])),m=o(f,0,u-i),g=o(h,0,c-a);return-1!==["sw","w","nw"].indexOf(s)&&(m=o(f,0,u)),-1!==["nw","n","ne"].indexOf(s)&&(g=o(h,0,c)),{w:m,h:g}},t.calcXY=function(e,t,r,i,a){const{margin:s,containerPadding:l,cols:c,rowHeight:u,maxRows:d}=e,p=n(e);let f=Math.round((r-l[0])/(p+s[0])),h=Math.round((t-l[1])/(u+s[1]));return f=o(f,0,c-i),h=o(h,0,d-a),{x:f,y:h}},t.clamp=o},936:(e,t,n)=>{"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(1794).default,e.exports.ResizableBox=n(6609).default},1060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(5959)),o=u(n(2688)),i=u(n(8398)),a=n(2837),s=n(402),l=n(6732),c=u(n(7988));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={start:"touchstart",move:"touchmove",stop:"touchend"},h={start:"mousedown",move:"mousemove",stop:"mouseup"};let m=h;class g extends r.Component{constructor(){super(...arguments),p(this,"dragging",!1),p(this,"lastX",NaN),p(this,"lastY",NaN),p(this,"touchIdentifier",null),p(this,"mounted",!1),p(this,"handleDragStart",(e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,a.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,a.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();const r=(0,a.getTouchIdentifier)(e);this.touchIdentifier=r;const o=(0,s.getControlPosition)(e,r,this);if(null==o)return;const{x:i,y:l}=o,u=(0,s.createCoreData)(this,i,l);(0,c.default)("DraggableCore: handleDragStart: %j",u),(0,c.default)("calling",this.props.onStart),!1!==this.props.onStart(e,u)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(n),this.dragging=!0,this.lastX=i,this.lastY=l,(0,a.addEvent)(n,m.move,this.handleDrag),(0,a.addEvent)(n,m.stop,this.handleDragStop))})),p(this,"handleDrag",(e=>{const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const o=(0,s.createCoreData)(this,n,r);if((0,c.default)("DraggableCore: handleDrag: %j",o),!1!==this.props.onDrag(e,o)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(e){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}})),p(this,"handleDragStop",(e=>{if(!this.dragging)return;const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const o=(0,s.createCoreData)(this,n,r);if(!1===this.props.onStop(e,o)||!1===this.mounted)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(i.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,c.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(i.ownerDocument,m.move,this.handleDrag),(0,a.removeEvent)(i.ownerDocument,m.stop,this.handleDragStop))})),p(this,"onMouseDown",(e=>(m=h,this.handleDragStart(e)))),p(this,"onMouseUp",(e=>(m=h,this.handleDragStop(e)))),p(this,"onTouchStart",(e=>(m=f,this.handleDragStart(e)))),p(this,"onTouchEnd",(e=>(m=f,this.handleDragStop(e))))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,a.addEvent)(e,f.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,a.removeEvent)(t,h.move,this.handleDrag),(0,a.removeEvent)(t,f.move,this.handleDrag),(0,a.removeEvent)(t,h.stop,this.handleDragStop),(0,a.removeEvent)(t,f.stop,this.handleDragStop),(0,a.removeEvent)(e,f.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:i.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=g,p(g,"displayName","DraggableCore"),p(g,"propTypes",{allowAnyClick:o.default.bool,children:o.default.node.isRequired,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),p(g,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},1112:(e,t,n)=>{const r=n(8395);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t,n))},1158:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},1269:e=>{"use strict";e.exports=s},1465:(e,t,n)=>{const r=n(1722),o=n(5380);e.exports=(e,t,n)=>{const i=[];let a=null,s=null;const l=e.sort(((e,t)=>o(e,t,n)));for(const e of l)r(e,t,n)?(s=e,a||(a=e)):(s&&i.push([a,s]),s=null,a=null);a&&i.push([a,null]);const c=[];for(const[e,t]of i)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");const u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},1617:(e,t,n)=>{const r=n(7944);e.exports=(e,t)=>new r(e,t).patch},1705:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2162);function o(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1722:(e,t,n)=>{const r=n(8395);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},1773:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7850),o=n(5959);function i(e){var t=o.useRef(!1),n=o.useState(e),i=(0,r.A)(n,2),a=i[0],s=i[1];return o.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[a,function(e,n){n&&t.current||s(e)}]}},1794:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(5959)),o=n(8230),i=n(9954),a=n(6333),s=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var h=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleRefs={},t.lastHandleRect=null,t.slack=null,t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var l=a.prototype;return l.componentWillUnmount=function(){this.resetData()},l.resetData=function(){this.lastHandleRect=this.slack=null},l.runConstraints=function(e,t){var n=this.props,r=n.minConstraints,o=n.maxConstraints,i=n.lockAspectRatio;if(!r&&!o&&!i)return[e,t];if(i){var a=this.props.width/this.props.height,s=e-this.props.width,l=t-this.props.height;Math.abs(s)>Math.abs(l*a)?t=e/a:e=t*a}var c=e,u=t,d=this.slack||[0,0],p=d[0],f=d[1];return e+=p,t+=f,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),o&&(e=Math.min(o[0],e),t=Math.min(o[1],t)),this.slack=[p+(c-e),f+(u-t)],[e,t]},l.resizeHandler=function(e,t){var n=this;return function(r,o){var i=o.node,a=o.deltaX,s=o.deltaY;"onResizeStart"===e&&n.resetData();var l=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==t&&"s"!==t,c=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==t&&"w"!==t;if(l||c){var u=t[0],d=t[t.length-1],p=i.getBoundingClientRect();null!=n.lastHandleRect&&("w"===d&&(a+=p.left-n.lastHandleRect.left),"n"===u&&(s+=p.top-n.lastHandleRect.top)),n.lastHandleRect=p,"w"===d&&(a=-a),"n"===u&&(s=-s);var f=n.props.width+(l?a/n.props.transformScale:0),h=n.props.height+(c?s/n.props.transformScale:0),m=n.runConstraints(f,h);f=m[0],h=m[1];var g=f!==n.props.width||h!==n.props.height,b="function"==typeof n.props[e]?n.props[e]:null;b&&!("onResize"===e&&!g)&&(null==r.persist||r.persist(),b(r,{node:i,size:{width:f,height:h},handle:t})),"onResizeStop"===e&&n.resetData()}}},l.renderResizeHandle=function(e,t){var n=this.props.handle;if(!n)return r.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e,ref:t});if("function"==typeof n)return n(e,t);var o=d({ref:t},"string"==typeof n.type?{}:{handleAxis:e});return r.cloneElement(n,o)},l.render=function(){var e=this,t=this.props,n=t.children,a=t.className,l=t.draggableOpts,u=(t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),p=(t.transformScale,function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,s));return(0,i.cloneElement)(n,d(d({},p),{},{className:(a?a+" ":"")+"react-resizable",children:[].concat(n.props.children,u.map((function(t){var n,i=null!=(n=e.handleRefs[t])?n:e.handleRefs[t]=r.createRef();return r.createElement(o.DraggableCore,c({},l,{nodeRef:i,key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t,i))})))}))},a}(r.Component);t.default=h,h.propTypes=a.resizableProps,h.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}},2007:e=>{"use strict";e.exports=n},2077:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)>=0},2162:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(694);function o(e){var t=function(e){if("object"!=(0,r.A)(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=(0,r.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,r.A)(t)?t:t+""}},2249:function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,n,a){var s=i.URL||i.webkitURL,l=document.createElement("a");n=n||e.name||"download",l.download=n,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):r(l.href)?t(e,n,a):o(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,i),n);else if(r(e))t(e,n,i);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){o(a)}))}}:function(e,n,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var s="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||a)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var d=i.URL||i.webkitURL,p=d.createObjectURL(e);o?o.location=p:location.href=p,o=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});i.saveAs=s.saveAs=s,e.exports=s})?r.apply(t,[]):r)||(e.exports=o)},2454:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Popup:()=>s,default:()=>Ut});var r=n(4452),o=n.n(r),i=n(5959),a=n.n(i);function s(e){var t=e.children,n=e.prefixCls,r=e.id,a=e.overlayInnerStyle,s=e.bodyClassName,l=e.className,c=e.style;return i.createElement("div",{className:o()("".concat(n,"-content"),l),style:c},i.createElement("div",{className:o()("".concat(n,"-inner"),s),id:r,role:"tooltip",style:a},"function"==typeof t?t():t))}var l=n(8102),c=n(7405),u=n(9644),d=n(7850),p=n(8398),f=n.n(p),h=n(9370),m=(n(4358),n(9115));const g=i.createContext(null);var b=n(4300),v=n(697),y=[],w="data-rc-order",S="data-rc-priority",E=new Map;function A(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):"rc-util-key"}function x(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function C(e){return Array.from((E.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,h.A)())return null;var n=t.csp,r=t.prepend,o=t.priority,i=void 0===o?0:o,a=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),s="prependQueue"===a,l=document.createElement("style");l.setAttribute(w,a),s&&i&&l.setAttribute(S,"".concat(i)),null!=n&&n.nonce&&(l.nonce=null==n?void 0:n.nonce),l.innerHTML=e;var c=x(t),u=c.firstChild;if(r){if(s){var d=(t.styles||C(c)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(w)))return!1;var t=Number(e.getAttribute(S)||0);return i>=t}));if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=x(t);return(t.styles||C(n)).find((function(n){return n.getAttribute(A(t))===e}))}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=I(e,t);n&&x(t).removeChild(n)}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=x(n),o=C(r),i=(0,c.A)((0,c.A)({},n),{},{styles:o});!function(e,t){var n=E.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=O("",t),o=r.parentNode;E.set(e,o),e.removeChild(r)}}(r,i);var a,s,l,u=I(t,i);if(u)return null!==(a=i.csp)&&void 0!==a&&a.nonce&&u.nonce!==(null===(s=i.csp)||void 0===s?void 0:s.nonce)&&(u.nonce=null===(l=i.csp)||void 0===l?void 0:l.nonce),u.innerHTML!==e&&(u.innerHTML=e),u;var d=O(e,i);return d.setAttribute(A(i),t),d}var P="rc-util-locker-".concat(Date.now()),T=0;function _(e){var t=!!e,n=i.useState((function(){return T+=1,"".concat(P,"_").concat(T)})),r=(0,d.A)(n,1)[0];(0,v.A)((function(){if(t){var e=(o=document.body,"undefined"!=typeof document&&o&&o instanceof Element?function(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,o,i=n.style;if(i.position="absolute",i.left="0",i.top="0",i.width="100px",i.height="100px",i.overflow="scroll",e){var a=getComputedStyle(e);i.scrollbarColor=a.scrollbarColor,i.scrollbarWidth=a.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var u=l?"width: ".concat(s.width,";"):"",d=c?"height: ".concat(s.height,";"):"";D("\n#".concat(t,"::-webkit-scrollbar {\n").concat(u,"\n").concat(d,"\n}"),t)}catch(e){console.error(e),r=l,o=c}}document.body.appendChild(n);var p=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,f=e&&o&&!isNaN(o)?o:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),R(t),{width:p,height:f}}(o):{width:0,height:0}).width,n=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;D("\nhtml body {\n  overflow-y: hidden;\n  ".concat(n?"width: calc(100% - ".concat(e,"px);"):"","\n}"),r)}else R(r);var o;return function(){R(r)}}),[t,r])}var k=!1,B=function(e){return!1!==e&&((0,h.A)()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)},M=i.forwardRef((function(e,t){var n=e.open,r=e.autoLock,o=e.getContainer,a=(e.debug,e.autoDestroy),s=void 0===a||a,l=e.children,c=i.useState(n),u=(0,d.A)(c,2),f=u[0],w=u[1],S=f||n;i.useEffect((function(){(s||n)&&w(n)}),[n,s]);var E=i.useState((function(){return B(o)})),A=(0,d.A)(E,2),x=A[0],C=A[1];i.useEffect((function(){var e=B(o);C(null!=e?e:null)}));var O=function(e){var t=i.useState((function(){return(0,h.A)()?document.createElement("div"):null})),n=(0,d.A)(t,1)[0],r=i.useRef(!1),o=i.useContext(g),a=i.useState(y),s=(0,d.A)(a,2),l=s[0],c=s[1],u=o||(r.current?void 0:function(e){c((function(t){return[e].concat((0,b.A)(t))}))});function p(){n.parentElement||document.body.appendChild(n),r.current=!0}function f(){var e;null===(e=n.parentElement)||void 0===e||e.removeChild(n),r.current=!1}return(0,v.A)((function(){return e?o?o(p):p():f(),f}),[e]),(0,v.A)((function(){l.length&&(l.forEach((function(e){return e()})),c(y))}),[l]),[n,u]}(S&&!x),I=(0,d.A)(O,2),R=I[0],D=I[1],P=null!=x?x:R;_(r&&n&&(0,h.A)()&&(P===R||P===document.body));var T=null;l&&(0,m.f3)(l)&&t&&(T=l.ref);var M=(0,m.xK)(T,t);if(!S||!(0,h.A)()||void 0===x)return null;var L=!1===P||k,N=l;return t&&(N=i.cloneElement(l,{ref:M})),i.createElement(g.Provider,{value:D},L?N:(0,p.createPortal)(N,P))}));const L=M;var N=n(9572);function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return a().Children.forEach(e,(function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(j(e)):(0,N.A)(e)&&e.props?n=n.concat(j(e.props.children,t)):n.push(e))})),n}var F=n(694);function z(e){return e instanceof HTMLElement||e instanceof SVGElement}function V(e){var t,n=function(e){return e&&"object"===(0,F.A)(e)&&z(e.nativeElement)?e.nativeElement:z(e)?e:null}(e);return n||(e instanceof a().Component?null===(t=f().findDOMNode)||void 0===t?void 0:t.call(f(),e):null)}var $=i.createContext(null),U=n(883),W=new Map,H=new U.default((function(e){e.forEach((function(e){var t,n=e.target;null===(t=W.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var q=n(2162);function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,q.A)(r.key),r)}}function X(e,t,n){return t&&Y(e.prototype,t),n&&Y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(e,t)}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}function J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(J=function(){return!!e})()}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){var t=J();return function(){var n,r=K(e);if(t){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==(0,F.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ee(e)}(this,n)}}var ne=function(e){Z(n,e);var t=te(n);function n(){return G(this,n),t.apply(this,arguments)}return X(n,[{key:"render",value:function(){return this.props.children}}]),n}(i.Component);function re(e,t){var n=e.children,r=e.disabled,o=i.useRef(null),a=i.useRef(null),s=i.useContext($),l="function"==typeof n,u=l?n(o):n,d=i.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),p=!l&&i.isValidElement(u)&&(0,m.f3)(u),f=p?(0,m.A9)(u):null,h=(0,m.xK)(f,o),g=function(){var e;return V(o.current)||(o.current&&"object"===(0,F.A)(o.current)?V(null===(e=o.current)||void 0===e?void 0:e.nativeElement):null)||V(a.current)};i.useImperativeHandle(t,(function(){return g()}));var b=i.useRef(e);b.current=e;var v=i.useCallback((function(e){var t=b.current,n=t.onResize,r=t.data,o=e.getBoundingClientRect(),i=o.width,a=o.height,l=e.offsetWidth,u=e.offsetHeight,p=Math.floor(i),f=Math.floor(a);if(d.current.width!==p||d.current.height!==f||d.current.offsetWidth!==l||d.current.offsetHeight!==u){var h={width:p,height:f,offsetWidth:l,offsetHeight:u};d.current=h;var m=l===Math.round(i)?i:l,g=u===Math.round(a)?a:u,v=(0,c.A)((0,c.A)({},h),{},{offsetWidth:m,offsetHeight:g});null==s||s(v,e,r),n&&Promise.resolve().then((function(){n(v,e)}))}}),[]);return i.useEffect((function(){var e,t,n=g();return n&&!r&&(e=n,t=v,W.has(e)||(W.set(e,new Set),H.observe(e)),W.get(e).add(t)),function(){return function(e,t){W.has(e)&&(W.get(e).delete(t),W.get(e).size||(H.unobserve(e),W.delete(e)))}(n,v)}}),[o.current,r]),i.createElement(ne,{ref:a},p?i.cloneElement(u,{ref:h}):u)}const oe=i.forwardRef(re);function ie(e,t){var n=e.children;return("function"==typeof n?[n]:j(n)).map((function(n,r){var o=(null==n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return i.createElement(oe,(0,l.A)({},e,{key:o,ref:0===r?t:void 0}),n)}))}var ae=i.forwardRef(ie);ae.Collection=function(e){var t=e.children,n=e.onBatchResize,r=i.useRef(0),o=i.useRef([]),a=i.useContext($),s=i.useCallback((function(e,t,i){r.current+=1;var s=r.current;o.current.push({size:e,element:t,data:i}),Promise.resolve().then((function(){s===r.current&&(null==n||n(o.current),o.current=[])})),null==a||a(e,t,i)}),[n,a]);return i.createElement($.Provider,{value:s},t)};const se=ae;function le(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function ce(e){return function(e){return le(e)instanceof ShadowRoot}(e)?le(e):null}var ue=n(8728),de=0,pe=(0,c.A)({},i).useId;const fe=pe?function(e){var t=pe();return e||t}:function(e){var t=i.useState("ssr-id"),n=(0,d.A)(t,2),r=n[0],o=n[1];return i.useEffect((function(){var e=de;de+=1,o("rc_unique_".concat(e))}),[]),e||r};var he=n(1705),me=i.createContext({}),ge=function(e){Z(n,e);var t=te(n);function n(){return G(this,n),t.apply(this,arguments)}return X(n,[{key:"render",value:function(){return this.props.children}}]),n}(i.Component);const be=ge;var ve=n(291),ye=n(1773),we="none",Se="appear",Ee="enter",Ae="leave",xe="none",Ce="prepare",Oe="start",Ie="active",Re="end",De="prepared";function Pe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Te,_e,ke,Be=(Te=(0,h.A)(),_e="undefined"!=typeof window?window:{},ke={animationend:Pe("Animation","AnimationEnd"),transitionend:Pe("Transition","TransitionEnd")},Te&&("AnimationEvent"in _e||delete ke.animationend.animation,"TransitionEvent"in _e||delete ke.transitionend.transition),ke),Me={};if((0,h.A)()){var Le=document.createElement("div");Me=Le.style}var Ne={};function je(e){if(Ne[e])return Ne[e];var t=Be[e];if(t)for(var n=Object.keys(t),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(t,i)&&i in Me)return Ne[e]=t[i],Ne[e]}return""}var Fe=je("animationend"),ze=je("transitionend"),Ve=!(!Fe||!ze),$e=Fe||"animationend",Ue=ze||"transitionend";function We(e,t){return e?"object"===(0,F.A)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}const He=(0,h.A)()?i.useLayoutEffect:i.useEffect;var Ge=function(e){return+setTimeout(e,16)},qe=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(Ge=function(e){return window.requestAnimationFrame(e)},qe=function(e){return window.cancelAnimationFrame(e)});var Ye=0,Xe=new Map;function Qe(e){Xe.delete(e)}var Ze=function(e){var t=Ye+=1;return function n(r){if(0===r)Qe(t),e();else{var o=Ge((function(){n(r-1)}));Xe.set(t,o)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};Ze.cancel=function(e){var t=Xe.get(e);return Qe(e),qe(t)};const Ke=Ze;var Je=[Ce,Oe,Ie,Re],et=[Ce,De],tt=!1;function nt(e){return e===Ie||e===Re}function rt(e,t,n,r){var o,a,s,l,u=r.motionEnter,p=void 0===u||u,f=r.motionAppear,h=void 0===f||f,m=r.motionLeave,g=void 0===m||m,b=r.motionDeadline,v=r.motionLeaveImmediately,y=r.onAppearPrepare,w=r.onEnterPrepare,S=r.onLeavePrepare,E=r.onAppearStart,A=r.onEnterStart,x=r.onLeaveStart,C=r.onAppearActive,O=r.onEnterActive,I=r.onLeaveActive,R=r.onAppearEnd,D=r.onEnterEnd,P=r.onLeaveEnd,T=r.onVisibleChanged,_=(0,ye.A)(),k=(0,d.A)(_,2),B=k[0],M=k[1],L=(o=we,a=i.useReducer((function(e){return e+1}),0),s=(0,d.A)(a,2)[1],l=i.useRef(o),[(0,ue.A)((function(){return l.current})),(0,ue.A)((function(e){l.current="function"==typeof e?e(l.current):e,s()}))]),N=(0,d.A)(L,2),j=N[0],F=N[1],z=(0,ye.A)(null),V=(0,d.A)(z,2),$=V[0],U=V[1],W=j(),H=(0,i.useRef)(!1),G=(0,i.useRef)(null);function q(){return n()}var Y=(0,i.useRef)(!1);function X(){F(we),U(null,!0)}var Q=(0,ve._q)((function(e){var t=j();if(t!==we){var n=q();if(!e||e.deadline||e.target===n){var r,o=Y.current;t===Se&&o?r=null==R?void 0:R(n,e):t===Ee&&o?r=null==D?void 0:D(n,e):t===Ae&&o&&(r=null==P?void 0:P(n,e)),o&&!1!==r&&X()}}})),Z=function(e){var t=(0,i.useRef)();function n(t){t&&(t.removeEventListener(Ue,e),t.removeEventListener($e,e))}return i.useEffect((function(){return function(){n(t.current)}}),[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(Ue,e),r.addEventListener($e,e),t.current=r)},n]}(Q),K=(0,d.A)(Z,1)[0],J=function(e){switch(e){case Se:return(0,he.A)((0,he.A)((0,he.A)({},Ce,y),Oe,E),Ie,C);case Ee:return(0,he.A)((0,he.A)((0,he.A)({},Ce,w),Oe,A),Ie,O);case Ae:return(0,he.A)((0,he.A)((0,he.A)({},Ce,S),Oe,x),Ie,I);default:return{}}},ee=i.useMemo((function(){return J(W)}),[W]),te=function(e,t,n){var r=(0,ye.A)(xe),o=(0,d.A)(r,2),a=o[0],s=o[1],l=function(){var e=i.useRef(null);function t(){Ke.cancel(e.current)}return i.useEffect((function(){return function(){t()}}),[]),[function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var i=Ke((function(){o<=1?r({isCanceled:function(){return i!==e.current}}):n(r,o-1)}));e.current=i},t]}(),c=(0,d.A)(l,2),u=c[0],p=c[1],f=t?et:Je;return He((function(){if(a!==xe&&a!==Re){var e=f.indexOf(a),t=f[e+1],r=n(a);r===tt?s(t,!0):t&&u((function(e){function n(){e.isCanceled()||s(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,a]),i.useEffect((function(){return function(){p()}}),[]),[function(){s(Ce,!0)},a]}(W,!e,(function(e){if(e===Ce){var t=ee[Ce];return t?t(q()):tt}var n;return oe in ee&&U((null===(n=ee[oe])||void 0===n?void 0:n.call(ee,q(),null))||null),oe===Ie&&W!==we&&(K(q()),b>0&&(clearTimeout(G.current),G.current=setTimeout((function(){Q({deadline:!0})}),b))),oe===De&&X(),!0})),ne=(0,d.A)(te,2),re=ne[0],oe=ne[1],ie=nt(oe);Y.current=ie;var ae=(0,i.useRef)(null);He((function(){if(!H.current||ae.current!==t){M(t);var n,r=H.current;H.current=!0,!r&&t&&h&&(n=Se),r&&t&&p&&(n=Ee),(r&&!t&&g||!r&&v&&!t&&g)&&(n=Ae);var o=J(n);n&&(e||o[Ce])?(F(n),re()):F(we),ae.current=t}}),[t]),(0,i.useEffect)((function(){(W===Se&&!h||W===Ee&&!p||W===Ae&&!g)&&F(we)}),[h,p,g]),(0,i.useEffect)((function(){return function(){H.current=!1,clearTimeout(G.current)}}),[]);var se=i.useRef(!1);(0,i.useEffect)((function(){B&&(se.current=!0),void 0!==B&&W===we&&((se.current||B)&&(null==T||T(B)),se.current=!0)}),[B,W]);var le=$;return ee[Ce]&&oe===Oe&&(le=(0,c.A)({transition:"none"},le)),[W,oe,le,null!=B?B:t]}const ot=function(e){var t=e;"object"===(0,F.A)(e)&&(t=e.transitionSupport);var n=i.forwardRef((function(e,n){var r=e.visible,a=void 0===r||r,s=e.removeOnLeave,l=void 0===s||s,u=e.forceRender,p=e.children,f=e.motionName,h=e.leavedClassName,g=e.eventProps,b=function(e,n){return!(!e.motionName||!t||!1===n)}(e,i.useContext(me).motion),v=(0,i.useRef)(),y=(0,i.useRef)(),w=rt(b,a,(function(){try{return v.current instanceof HTMLElement?v.current:V(y.current)}catch(e){return null}}),e),S=(0,d.A)(w,4),E=S[0],A=S[1],x=S[2],C=S[3],O=i.useRef(C);C&&(O.current=!0);var I,R=i.useCallback((function(e){v.current=e,(0,m.Xf)(n,e)}),[n]),D=(0,c.A)((0,c.A)({},g),{},{visible:a});if(p)if(E===we)I=C?p((0,c.A)({},D),R):!l&&O.current&&h?p((0,c.A)((0,c.A)({},D),{},{className:h}),R):u||!l&&!h?p((0,c.A)((0,c.A)({},D),{},{style:{display:"none"}}),R):null;else{var P;A===Ce?P="prepare":nt(A)?P="active":A===Oe&&(P="start");var T=We(f,"".concat(E,"-").concat(P));I=p((0,c.A)((0,c.A)({},D),{},{className:o()(We(f,E),(0,he.A)((0,he.A)({},T,T&&P),f,"string"==typeof f)),style:x}),R)}else I=null;return i.isValidElement(I)&&(0,m.f3)(I)&&((0,m.A9)(I)||(I=i.cloneElement(I,{ref:R}))),i.createElement(be,{ref:y},I)}));return n.displayName="CSSMotion",n}(Ve);var it="add",at="keep",st="remove",lt="removed";function ct(e){var t;return t=e&&"object"===(0,F.A)(e)&&"key"in e?e:{key:e},(0,c.A)((0,c.A)({},t),{},{key:String(t.key)})}function ut(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(ct)}var dt=["component","children","onVisibleChanged","onAllRemoved"],pt=["status"],ft=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ot,t=function(t){Z(r,t);var n=te(r);function r(){var e;G(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o)),(0,he.A)(ee(e),"state",{keyEntities:[]}),(0,he.A)(ee(e),"removeKey",(function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:(0,c.A)((0,c.A)({},e),{},{status:lt})}))}}),(function(){0===e.state.keyEntities.filter((function(e){return e.status!==lt})).length&&e.props.onAllRemoved&&e.props.onAllRemoved()}))})),e}return X(r,[{key:"render",value:function(){var t=this,n=this.state.keyEntities,r=this.props,o=r.component,a=r.children,s=r.onVisibleChanged,d=(r.onAllRemoved,(0,u.A)(r,dt)),p=o||i.Fragment,f={};return ft.forEach((function(e){f[e]=d[e],delete d[e]})),delete d.keys,i.createElement(p,d,n.map((function(n,r){var o=n.status,d=(0,u.A)(n,pt),p=o===it||o===at;return i.createElement(e,(0,l.A)({},f,{key:d.key,visible:p,eventProps:d,onVisibleChanged:function(e){null==s||s(e,{key:d.key}),e||t.removeKey(d.key)}}),(function(e,t){return a((0,c.A)((0,c.A)({},e),{},{index:r}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,o=ut(n),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,o=t.length,i=ut(e),a=ut(t);i.forEach((function(e){for(var t=!1,i=r;i<o;i+=1){var s=a[i];if(s.key===e.key){r<i&&(n=n.concat(a.slice(r,i).map((function(e){return(0,c.A)((0,c.A)({},e),{},{status:it})}))),r=i),n.push((0,c.A)((0,c.A)({},s),{},{status:at})),r+=1,t=!0;break}}t||n.push((0,c.A)((0,c.A)({},e),{},{status:st}))})),r<o&&(n=n.concat(a.slice(r).map((function(e){return(0,c.A)((0,c.A)({},e),{},{status:it})}))));var s={};return n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1})),Object.keys(s).filter((function(e){return s[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==st}))).forEach((function(t){t.key===e&&(t.status=at)}))})),n}(r,o);return{keyEntities:i.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==lt||e.status!==st}))}}}]),r}(i.Component);(0,he.A)(t,"defaultProps",{component:"div"})}(Ve);const ht=ot;function mt(e){var t=e.prefixCls,n=e.align,r=e.arrow,a=e.arrowPos,s=r||{},l=s.className,c=s.content,u=a.x,d=void 0===u?0:u,p=a.y,f=void 0===p?0:p,h=i.useRef();if(!n||!n.points)return null;var m={position:"absolute"};if(!1!==n.autoArrow){var g=n.points[0],b=n.points[1],v=g[0],y=g[1],w=b[0],S=b[1];v!==w&&["t","b"].includes(v)?"t"===v?m.top=0:m.bottom=0:m.top=f,y!==S&&["l","r"].includes(y)?"l"===y?m.left=0:m.right=0:m.left=d}return i.createElement("div",{ref:h,className:o()("".concat(t,"-arrow"),l),style:m},c)}function gt(e){var t=e.prefixCls,n=e.open,r=e.zIndex,a=e.mask,s=e.motion;return a?i.createElement(ht,(0,l.A)({},s,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return i.createElement("div",{style:{zIndex:r},className:o()("".concat(t,"-mask"),n)})})):null}const bt=i.memo((function(e){return e.children}),(function(e,t){return t.cache}));var vt=i.forwardRef((function(e,t){var n=e.popup,r=e.className,a=e.prefixCls,s=e.style,u=e.target,p=e.onVisibleChanged,f=e.open,h=e.keepDom,g=e.fresh,b=e.onClick,y=e.mask,w=e.arrow,S=e.arrowPos,E=e.align,A=e.motion,x=e.maskMotion,C=e.forceRender,O=e.getPopupContainer,I=e.autoDestroy,R=e.portal,D=e.zIndex,P=e.onMouseEnter,T=e.onMouseLeave,_=e.onPointerEnter,k=e.onPointerDownCapture,B=e.ready,M=e.offsetX,L=e.offsetY,N=e.offsetR,j=e.offsetB,F=e.onAlign,z=e.onPrepare,V=e.stretch,$=e.targetWidth,U=e.targetHeight,W="function"==typeof n?n():n,H=f||h,G=(null==O?void 0:O.length)>0,q=i.useState(!O||!G),Y=(0,d.A)(q,2),X=Y[0],Q=Y[1];if((0,v.A)((function(){!X&&G&&u&&Q(!0)}),[X,G,u]),!X)return null;var Z="auto",K={left:"-1000vw",top:"-1000vh",right:Z,bottom:Z};if(B||!f){var J,ee=E.points,te=E.dynamicInset||(null===(J=E._experimental)||void 0===J?void 0:J.dynamicInset),ne=te&&"r"===ee[0][1],re=te&&"b"===ee[0][0];ne?(K.right=N,K.left=Z):(K.left=M,K.right=Z),re?(K.bottom=j,K.top=Z):(K.top=L,K.bottom=Z)}var oe={};return V&&(V.includes("height")&&U?oe.height=U:V.includes("minHeight")&&U&&(oe.minHeight=U),V.includes("width")&&$?oe.width=$:V.includes("minWidth")&&$&&(oe.minWidth=$)),f||(oe.pointerEvents="none"),i.createElement(R,{open:C||H,getContainer:O&&function(){return O(u)},autoDestroy:I},i.createElement(gt,{prefixCls:a,open:f,zIndex:D,mask:y,motion:x}),i.createElement(se,{onResize:F,disabled:!f},(function(e){return i.createElement(ht,(0,l.A)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:C,leavedClassName:"".concat(a,"-hidden")},A,{onAppearPrepare:z,onEnterPrepare:z,visible:f,onVisibleChanged:function(e){var t;null==A||null===(t=A.onVisibleChanged)||void 0===t||t.call(A,e),p(e)}}),(function(n,l){var u=n.className,d=n.style,p=o()(a,u,r);return i.createElement("div",{ref:(0,m.K4)(e,t,l),className:p,style:(0,c.A)((0,c.A)((0,c.A)((0,c.A)({"--arrow-x":"".concat(S.x||0,"px"),"--arrow-y":"".concat(S.y||0,"px")},K),oe),d),{},{boxSizing:"border-box",zIndex:D},s),onMouseEnter:P,onMouseLeave:T,onPointerEnter:_,onClick:b,onPointerDownCapture:k},w&&i.createElement(mt,{prefixCls:a,arrow:w,arrowPos:S,align:E}),i.createElement(bt,{cache:!f&&!g},W))}))})))}));const yt=vt,wt=i.forwardRef((function(e,t){var n=e.children,r=e.getTriggerDOMNode,o=(0,m.f3)(n),a=i.useCallback((function(e){(0,m.Xf)(t,r?r(e):e)}),[r]),s=(0,m.xK)(a,(0,m.A9)(n));return o?i.cloneElement(n,{ref:s}):n})),St=i.createContext(null);function Et(e){return e?Array.isArray(e)?e:[e]:[]}function At(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function xt(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function Ct(e){return e.ownerDocument.defaultView}function Ot(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var o=Ct(n).getComputedStyle(n);[o.overflowX,o.overflowY,o.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function It(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function Rt(e){return It(parseFloat(e),0)}function Dt(e,t){var n=(0,c.A)({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=Ct(e).getComputedStyle(e),r=t.overflow,o=t.overflowClipMargin,i=t.borderTopWidth,a=t.borderBottomWidth,s=t.borderLeftWidth,l=t.borderRightWidth,c=e.getBoundingClientRect(),u=e.offsetHeight,d=e.clientHeight,p=e.offsetWidth,f=e.clientWidth,h=Rt(i),m=Rt(a),g=Rt(s),b=Rt(l),v=It(Math.round(c.width/p*1e3)/1e3),y=It(Math.round(c.height/u*1e3)/1e3),w=(p-f-g-b)*v,S=(u-d-h-m)*y,E=h*y,A=m*y,x=g*v,C=b*v,O=0,I=0;if("clip"===r){var R=Rt(o);O=R*v,I=R*y}var D=c.x+x-O,P=c.y+E-I,T=D+c.width+2*O-x-C-w,_=P+c.height+2*I-E-A-S;n.left=Math.max(n.left,D),n.top=Math.max(n.top,P),n.right=Math.min(n.right,T),n.bottom=Math.min(n.bottom,_)}})),n}function Pt(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Tt(e,t){var n=t||[],r=(0,d.A)(n,2),o=r[0],i=r[1];return[Pt(e.width,o),Pt(e.height,i)]}function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function kt(e,t){var n,r=t[0],o=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===o?e.x:"r"===o?e.x+e.width:e.x+e.width/2,y:n}}function Bt(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}var Mt=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=i.forwardRef((function(t,n){var r=t.prefixCls,a=void 0===r?"rc-trigger-popup":r,s=t.children,l=t.action,p=void 0===l?"hover":l,f=t.showAction,h=t.hideAction,m=t.popupVisible,g=t.defaultPopupVisible,y=t.onPopupVisibleChange,w=t.afterPopupVisibleChange,S=t.mouseEnterDelay,E=t.mouseLeaveDelay,A=void 0===E?.1:E,x=t.focusDelay,C=t.blurDelay,O=t.mask,I=t.maskClosable,R=void 0===I||I,D=t.getPopupContainer,P=t.forceRender,T=t.autoDestroy,_=t.destroyPopupOnHide,k=t.popup,B=t.popupClassName,M=t.popupStyle,L=t.popupPlacement,N=t.builtinPlacements,j=void 0===N?{}:N,F=t.popupAlign,V=t.zIndex,$=t.stretch,U=t.getPopupClassNameFromAlign,W=t.fresh,H=t.alignPoint,G=t.onPopupClick,q=t.onPopupAlign,Y=t.arrow,X=t.popupMotion,Q=t.maskMotion,Z=t.popupTransitionName,K=t.popupAnimation,J=t.maskTransitionName,ee=t.maskAnimation,te=t.className,ne=t.getTriggerDOMNode,re=(0,u.A)(t,Mt),oe=T||_||!1,ie=i.useState(!1),ae=(0,d.A)(ie,2),le=ae[0],de=ae[1];(0,v.A)((function(){de(function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))}())}),[]);var pe=i.useRef({}),he=i.useContext(St),me=i.useMemo((function(){return{registerSubPopup:function(e,t){pe.current[e]=t,null==he||he.registerSubPopup(e,t)}}}),[he]),ge=fe(),be=i.useState(null),ve=(0,d.A)(be,2),ye=ve[0],we=ve[1],Se=i.useRef(null),Ee=(0,ue.A)((function(e){Se.current=e,z(e)&&ye!==e&&we(e),null==he||he.registerSubPopup(ge,e)})),Ae=i.useState(null),xe=(0,d.A)(Ae,2),Ce=xe[0],Oe=xe[1],Ie=i.useRef(null),Re=(0,ue.A)((function(e){z(e)&&Ce!==e&&(Oe(e),Ie.current=e)})),De=i.Children.only(s),Pe=(null==De?void 0:De.props)||{},Te={},_e=(0,ue.A)((function(e){var t,n,r=Ce;return(null==r?void 0:r.contains(e))||(null===(t=ce(r))||void 0===t?void 0:t.host)===e||e===r||(null==ye?void 0:ye.contains(e))||(null===(n=ce(ye))||void 0===n?void 0:n.host)===e||e===ye||Object.values(pe.current).some((function(t){return(null==t?void 0:t.contains(e))||e===t}))})),ke=xt(a,X,K,Z),Be=xt(a,Q,ee,J),Me=i.useState(g||!1),Le=(0,d.A)(Me,2),Ne=Le[0],je=Le[1],Fe=null!=m?m:Ne,ze=(0,ue.A)((function(e){void 0===m&&je(e)}));(0,v.A)((function(){je(m||!1)}),[m]);var Ve=i.useRef(Fe);Ve.current=Fe;var $e=i.useRef([]);$e.current=[];var Ue=(0,ue.A)((function(e){var t;ze(e),(null!==(t=$e.current[$e.current.length-1])&&void 0!==t?t:Fe)!==e&&($e.current.push(e),null==y||y(e))})),We=i.useRef(),He=function(){clearTimeout(We.current)},Ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;He(),0===t?Ue(e):We.current=setTimeout((function(){Ue(e)}),1e3*t)};i.useEffect((function(){return He}),[]);var qe=i.useState(!1),Ye=(0,d.A)(qe,2),Xe=Ye[0],Qe=Ye[1];(0,v.A)((function(e){e&&!Fe||Qe(!0)}),[Fe]);var Ze=i.useState(null),Ke=(0,d.A)(Ze,2),Je=Ke[0],et=Ke[1],tt=i.useState(null),nt=(0,d.A)(tt,2),rt=nt[0],ot=nt[1],it=function(e){ot([e.clientX,e.clientY])},at=function(e,t,n,r,o,a,s){var l=i.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[r]||{}}),u=(0,d.A)(l,2),p=u[0],f=u[1],h=i.useRef(0),m=i.useMemo((function(){return t?Ot(t):[]}),[t]),g=i.useRef({});e||(g.current={});var b=(0,ue.A)((function(){if(t&&n&&e){var i,l,u,p,h,b=t,v=b.ownerDocument,y=Ct(b).getComputedStyle(b),w=y.width,S=y.height,E=y.position,A=b.style.left,x=b.style.top,C=b.style.right,O=b.style.bottom,I=b.style.overflow,R=(0,c.A)((0,c.A)({},o[r]),a),D=v.createElement("div");if(null===(i=b.parentElement)||void 0===i||i.appendChild(D),D.style.left="".concat(b.offsetLeft,"px"),D.style.top="".concat(b.offsetTop,"px"),D.style.position=E,D.style.height="".concat(b.offsetHeight,"px"),D.style.width="".concat(b.offsetWidth,"px"),b.style.left="0",b.style.top="0",b.style.right="auto",b.style.bottom="auto",b.style.overflow="hidden",Array.isArray(n))h={x:n[0],y:n[1],width:0,height:0};else{var P,T,_=n.getBoundingClientRect();_.x=null!==(P=_.x)&&void 0!==P?P:_.left,_.y=null!==(T=_.y)&&void 0!==T?T:_.top,h={x:_.x,y:_.y,width:_.width,height:_.height}}var k=b.getBoundingClientRect();k.x=null!==(l=k.x)&&void 0!==l?l:k.left,k.y=null!==(u=k.y)&&void 0!==u?u:k.top;var B=v.documentElement,M=B.clientWidth,L=B.clientHeight,N=B.scrollWidth,j=B.scrollHeight,F=B.scrollTop,V=B.scrollLeft,$=k.height,U=k.width,W=h.height,H=h.width,G={left:0,top:0,right:M,bottom:L},q={left:-V,top:-F,right:N-V,bottom:j-F},Y=R.htmlRegion,X="visible",Q="visibleFirst";"scroll"!==Y&&Y!==Q&&(Y=X);var Z=Y===Q,K=Dt(q,m),J=Dt(G,m),ee=Y===X?J:K,te=Z?J:ee;b.style.left="auto",b.style.top="auto",b.style.right="0",b.style.bottom="0";var ne=b.getBoundingClientRect();b.style.left=A,b.style.top=x,b.style.right=C,b.style.bottom=O,b.style.overflow=I,null===(p=b.parentElement)||void 0===p||p.removeChild(D);var re=It(Math.round(U/parseFloat(w)*1e3)/1e3),oe=It(Math.round($/parseFloat(S)*1e3)/1e3);if(0===re||0===oe||z(n)&&!function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),i=o.width,a=o.height;if(i||a)return!0}}return!1}(n))return;var ie=R.offset,ae=R.targetOffset,se=Tt(k,ie),le=(0,d.A)(se,2),ce=le[0],ue=le[1],de=Tt(h,ae),pe=(0,d.A)(de,2),fe=pe[0],he=pe[1];h.x-=fe,h.y-=he;var me=R.points||[],ge=(0,d.A)(me,2),be=ge[0],ve=_t(ge[1]),ye=_t(be),we=kt(h,ve),Se=kt(k,ye),Ee=(0,c.A)({},R),Ae=we.x-Se.x+ce,xe=we.y-Se.y+ue;function bt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ee,r=k.x+e,o=k.y+t,i=r+U,a=o+$,s=Math.max(r,n.left),l=Math.max(o,n.top),c=Math.min(i,n.right),u=Math.min(a,n.bottom);return Math.max(0,(c-s)*(u-l))}var Ce,Oe,Ie,Re,De=bt(Ae,xe),Pe=bt(Ae,xe,J),Te=kt(h,["t","l"]),_e=kt(k,["t","l"]),ke=kt(h,["b","r"]),Be=kt(k,["b","r"]),Me=R.overflow||{},Le=Me.adjustX,Ne=Me.adjustY,je=Me.shiftX,Fe=Me.shiftY,ze=function(e){return"boolean"==typeof e?e:e>=0};function vt(){Ce=k.y+xe,Oe=Ce+$,Ie=k.x+Ae,Re=Ie+U}vt();var Ve=ze(Ne),$e=ye[0]===ve[0];if(Ve&&"t"===ye[0]&&(Oe>te.bottom||g.current.bt)){var Ue=xe;$e?Ue-=$-W:Ue=Te.y-Be.y-ue;var We=bt(Ae,Ue),He=bt(Ae,Ue,J);We>De||We===De&&(!Z||He>=Pe)?(g.current.bt=!0,xe=Ue,ue=-ue,Ee.points=[Bt(ye,0),Bt(ve,0)]):g.current.bt=!1}if(Ve&&"b"===ye[0]&&(Ce<te.top||g.current.tb)){var Ge=xe;$e?Ge+=$-W:Ge=ke.y-_e.y-ue;var qe=bt(Ae,Ge),Ye=bt(Ae,Ge,J);qe>De||qe===De&&(!Z||Ye>=Pe)?(g.current.tb=!0,xe=Ge,ue=-ue,Ee.points=[Bt(ye,0),Bt(ve,0)]):g.current.tb=!1}var Xe=ze(Le),Qe=ye[1]===ve[1];if(Xe&&"l"===ye[1]&&(Re>te.right||g.current.rl)){var Ze=Ae;Qe?Ze-=U-H:Ze=Te.x-Be.x-ce;var Ke=bt(Ze,xe),Je=bt(Ze,xe,J);Ke>De||Ke===De&&(!Z||Je>=Pe)?(g.current.rl=!0,Ae=Ze,ce=-ce,Ee.points=[Bt(ye,1),Bt(ve,1)]):g.current.rl=!1}if(Xe&&"r"===ye[1]&&(Ie<te.left||g.current.lr)){var et=Ae;Qe?et+=U-H:et=ke.x-_e.x-ce;var tt=bt(et,xe),nt=bt(et,xe,J);tt>De||tt===De&&(!Z||nt>=Pe)?(g.current.lr=!0,Ae=et,ce=-ce,Ee.points=[Bt(ye,1),Bt(ve,1)]):g.current.lr=!1}vt();var rt=!0===je?0:je;"number"==typeof rt&&(Ie<J.left&&(Ae-=Ie-J.left-ce,h.x+H<J.left+rt&&(Ae+=h.x-J.left+H-rt)),Re>J.right&&(Ae-=Re-J.right-ce,h.x>J.right-rt&&(Ae+=h.x-J.right+rt)));var ot=!0===Fe?0:Fe;"number"==typeof ot&&(Ce<J.top&&(xe-=Ce-J.top-ue,h.y+W<J.top+ot&&(xe+=h.y-J.top+W-ot)),Oe>J.bottom&&(xe-=Oe-J.bottom-ue,h.y>J.bottom-ot&&(xe+=h.y-J.bottom+ot)));var it=k.x+Ae,at=it+U,st=k.y+xe,lt=st+$,ct=h.x,ut=ct+H,dt=h.y,pt=dt+W,ft=(Math.max(it,ct)+Math.min(at,ut))/2-it,ht=(Math.max(st,dt)+Math.min(lt,pt))/2-st;null==s||s(t,Ee);var mt=ne.right-k.x-(Ae+k.width),gt=ne.bottom-k.y-(xe+k.height);1===re&&(Ae=Math.round(Ae),mt=Math.round(mt)),1===oe&&(xe=Math.round(xe),gt=Math.round(gt)),f({ready:!0,offsetX:Ae/re,offsetY:xe/oe,offsetR:mt/re,offsetB:gt/oe,arrowX:ft/re,arrowY:ht/oe,scaleX:re,scaleY:oe,align:Ee})}})),y=function(){f((function(e){return(0,c.A)((0,c.A)({},e),{},{ready:!1})}))};return(0,v.A)(y,[r]),(0,v.A)((function(){e||y()}),[e]),[p.ready,p.offsetX,p.offsetY,p.offsetR,p.offsetB,p.arrowX,p.arrowY,p.scaleX,p.scaleY,p.align,function(){h.current+=1;var e=h.current;Promise.resolve().then((function(){h.current===e&&b()}))}]}(Fe,ye,H&&null!==rt?rt:Ce,L,j,F,q),st=(0,d.A)(at,11),lt=st[0],ct=st[1],ut=st[2],dt=st[3],pt=st[4],ft=st[5],ht=st[6],mt=st[7],gt=st[8],bt=st[9],vt=st[10],Rt=function(e,t,n,r){return i.useMemo((function(){var o=Et(null!=n?n:t),i=Et(null!=r?r:t),a=new Set(o),s=new Set(i);return e&&(a.has("hover")&&(a.delete("hover"),a.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[a,s]}),[e,t,n,r])}(le,p,f,h),Pt=(0,d.A)(Rt,2),Lt=Pt[0],Nt=Pt[1],jt=Lt.has("click"),Ft=Nt.has("click")||Nt.has("contextMenu"),zt=(0,ue.A)((function(){Xe||vt()}));!function(e,t,n,r){(0,v.A)((function(){if(e&&t&&n){var o=n,i=Ot(t),a=Ot(o),s=Ct(o),l=new Set([s].concat((0,b.A)(i),(0,b.A)(a)));function c(){r(),Ve.current&&H&&Ft&&Ge(!1)}return l.forEach((function(e){e.addEventListener("scroll",c,{passive:!0})})),s.addEventListener("resize",c,{passive:!0}),r(),function(){l.forEach((function(e){e.removeEventListener("scroll",c),s.removeEventListener("resize",c)}))}}}),[e,t,n])}(Fe,Ce,ye,zt),(0,v.A)((function(){zt()}),[rt,L]),(0,v.A)((function(){!Fe||null!=j&&j[L]||zt()}),[JSON.stringify(F)]);var Vt=i.useMemo((function(){var e=function(e,t,n,r){for(var o=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var s,l=i[a];if(At(null===(s=e[l])||void 0===s?void 0:s.points,o,r))return"".concat(t,"-placement-").concat(l)}return""}(j,a,bt,H);return o()(e,null==U?void 0:U(bt))}),[bt,U,j,a,H]);i.useImperativeHandle(n,(function(){return{nativeElement:Ie.current,popupElement:Se.current,forceAlign:zt}}));var $t=i.useState(0),Ut=(0,d.A)($t,2),Wt=Ut[0],Ht=Ut[1],Gt=i.useState(0),qt=(0,d.A)(Gt,2),Yt=qt[0],Xt=qt[1],Qt=function(){if($&&Ce){var e=Ce.getBoundingClientRect();Ht(e.width),Xt(e.height)}};function Zt(e,t,n,r){Te[e]=function(o){var i;null==r||r(o),Ge(t,n);for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];null===(i=Pe[e])||void 0===i||i.call.apply(i,[Pe,o].concat(s))}}(0,v.A)((function(){Je&&(vt(),Je(),et(null))}),[Je]),(jt||Ft)&&(Te.onClick=function(e){var t;Ve.current&&Ft?Ge(!1):!Ve.current&&jt&&(it(e),Ge(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=Pe.onClick)||void 0===t||t.call.apply(t,[Pe,e].concat(r))});var Kt,Jt,en=function(e,t,n,r,o,a,s,l){var c=i.useRef(e);c.current=e;var u=i.useRef(!1);return i.useEffect((function(){if(t&&r&&(!o||a)){var e=function(){u.current=!1},i=function(e){var t;!c.current||s((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||u.current||l(!1)},d=Ct(r);d.addEventListener("pointerdown",e,!0),d.addEventListener("mousedown",i,!0),d.addEventListener("contextmenu",i,!0);var p=ce(n);return p&&(p.addEventListener("mousedown",i,!0),p.addEventListener("contextmenu",i,!0)),function(){d.removeEventListener("pointerdown",e,!0),d.removeEventListener("mousedown",i,!0),d.removeEventListener("contextmenu",i,!0),p&&(p.removeEventListener("mousedown",i,!0),p.removeEventListener("contextmenu",i,!0))}}}),[t,n,r,o,a]),function(){u.current=!0}}(Fe,Ft,Ce,ye,O,R,_e,Ge),tn=Lt.has("hover"),nn=Nt.has("hover");tn&&(Zt("onMouseEnter",!0,S,(function(e){it(e)})),Zt("onPointerEnter",!0,S,(function(e){it(e)})),Kt=function(e){(Fe||Xe)&&null!=ye&&ye.contains(e.target)&&Ge(!0,S)},H&&(Te.onMouseMove=function(e){var t;null===(t=Pe.onMouseMove)||void 0===t||t.call(Pe,e)})),nn&&(Zt("onMouseLeave",!1,A),Zt("onPointerLeave",!1,A),Jt=function(){Ge(!1,A)}),Lt.has("focus")&&Zt("onFocus",!0,x),Nt.has("focus")&&Zt("onBlur",!1,C),Lt.has("contextMenu")&&(Te.onContextMenu=function(e){var t;Ve.current&&Nt.has("contextMenu")?Ge(!1):(it(e),Ge(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=Pe.onContextMenu)||void 0===t||t.call.apply(t,[Pe,e].concat(r))}),te&&(Te.className=o()(Pe.className,te));var rn=(0,c.A)((0,c.A)({},Pe),Te),on={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){re[e]&&(on[e]=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=rn[e])||void 0===t||t.call.apply(t,[rn].concat(r)),re[e].apply(re,r)})}));var an=i.cloneElement(De,(0,c.A)((0,c.A)({},rn),on)),sn={x:ft,y:ht},ln=Y?(0,c.A)({},!0!==Y?Y:{}):null;return i.createElement(i.Fragment,null,i.createElement(se,{disabled:!Fe,ref:Re,onResize:function(){Qt(),zt()}},i.createElement(wt,{getTriggerDOMNode:ne},an)),i.createElement(St.Provider,{value:me},i.createElement(yt,{portal:e,ref:Ee,prefixCls:a,popup:k,className:o()(B,Vt),style:M,target:Ce,onMouseEnter:Kt,onMouseLeave:Jt,onPointerEnter:Kt,zIndex:V,open:Fe,keepDom:Xe,fresh:W,onClick:G,onPointerDownCapture:en,mask:O,motion:ke,maskMotion:Be,onVisibleChanged:function(e){Qe(!1),vt(),null==w||w(e)},onPrepare:function(){return new Promise((function(e){Qt(),et((function(){return e}))}))},forceRender:P,autoDestroy:oe,getPopupContainer:D,align:bt,arrow:ln,arrowPos:sn,ready:lt,offsetX:ct,offsetY:ut,offsetR:dt,offsetB:pt,onAlign:zt,stretch:$,targetWidth:Wt/mt,targetHeight:Yt/gt})))}));return t}(L);var Nt={shiftX:64,adjustY:1},jt={adjustX:1,shiftY:!0},Ft=[0,0],zt={left:{points:["cr","cl"],overflow:jt,offset:[-4,0],targetOffset:Ft},right:{points:["cl","cr"],overflow:jt,offset:[4,0],targetOffset:Ft},top:{points:["bc","tc"],overflow:Nt,offset:[0,-4],targetOffset:Ft},bottom:{points:["tc","bc"],overflow:Nt,offset:[0,4],targetOffset:Ft},topLeft:{points:["bl","tl"],overflow:Nt,offset:[0,-4],targetOffset:Ft},leftTop:{points:["tr","tl"],overflow:jt,offset:[-4,0],targetOffset:Ft},topRight:{points:["br","tr"],overflow:Nt,offset:[0,-4],targetOffset:Ft},rightTop:{points:["tl","tr"],overflow:jt,offset:[4,0],targetOffset:Ft},bottomRight:{points:["tr","br"],overflow:Nt,offset:[0,4],targetOffset:Ft},rightBottom:{points:["bl","br"],overflow:jt,offset:[4,0],targetOffset:Ft},bottomLeft:{points:["tl","bl"],overflow:Nt,offset:[0,4],targetOffset:Ft},leftBottom:{points:["br","bl"],overflow:jt,offset:[-4,0],targetOffset:Ft}},Vt=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],$t=function(e,t){var n=e.overlayClassName,r=e.trigger,a=void 0===r?["hover"]:r,d=e.mouseEnterDelay,p=void 0===d?0:d,f=e.mouseLeaveDelay,h=void 0===f?.1:f,m=e.overlayStyle,g=e.prefixCls,b=void 0===g?"rc-tooltip":g,v=e.children,y=e.onVisibleChange,w=e.afterVisibleChange,S=e.transitionName,E=e.animation,A=e.motion,x=e.placement,C=void 0===x?"right":x,O=e.align,I=void 0===O?{}:O,R=e.destroyTooltipOnHide,D=void 0!==R&&R,P=e.defaultVisible,T=e.getTooltipContainer,_=e.overlayInnerStyle,k=(e.arrowContent,e.overlay),B=e.id,M=e.showArrow,L=void 0===M||M,N=e.classNames,j=e.styles,F=(0,u.A)(e,Vt),z=fe(B),V=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(function(){return V.current}));var $,U,W,H=(0,c.A)({},F);return"visible"in e&&(H.popupVisible=e.visible),i.createElement(Lt,(0,l.A)({popupClassName:o()(n,null==N?void 0:N.root),prefixCls:b,popup:function(){return i.createElement(s,{key:"content",prefixCls:b,id:z,bodyClassName:null==N?void 0:N.body,overlayInnerStyle:(0,c.A)((0,c.A)({},_),null==j?void 0:j.body)},k)},action:a,builtinPlacements:zt,popupPlacement:C,ref:V,popupAlign:I,getPopupContainer:T,onPopupVisibleChange:y,afterPopupVisibleChange:w,popupTransitionName:S,popupAnimation:E,popupMotion:A,defaultPopupVisible:P,autoDestroy:D,mouseLeaveDelay:h,popupStyle:(0,c.A)((0,c.A)({},m),null==j?void 0:j.root),mouseEnterDelay:p,arrow:L},H),(U=(null==($=i.Children.only(v))?void 0:$.props)||{},W=(0,c.A)((0,c.A)({},U),{},{"aria-describedby":k?z:null}),i.cloneElement(v,W)))};const Ut=(0,i.forwardRef)($t)},2548:(e,t,n)=>{e.exports=n(9482).default,e.exports.utils=n(414),e.exports.calculateUtils=n(906),e.exports.Responsive=n(4636).default,e.exports.Responsive.utils=n(544),e.exports.WidthProvider=n(6805).default},2688:(e,t,n)=>{e.exports=n(362)()},2801:(e,t,n)=>{const r=n(7944);e.exports=(e,t,n)=>{const o=new r(e,n),i=new r(t,n);return o.compare(i)||o.compareBuild(i)}},2837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=c,t.addEvent=function(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&c(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=l(e,t,"px");return{[(0,o.browserPrefixToKey)("transform",o.default)]:n}},t.createSVGTransform=function(e,t){return l(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,(e=>t===e.identifier))||e.changedTouches&&(0,r.findInArray)(e.changedTouches,(e=>t===e.identifier))},t.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},t.getTranslation=l,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=s,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(s(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=u,t.removeEvent=function(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(e)try{if(e.body&&u(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var r=n(6732),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(7350));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}let a="";function s(e,t){return a||(a=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,r.isFunction)(e[t])}))),!!(0,r.isFunction)(e[a])&&e[a](t)}function l(e,t,n){let{x:r,y:o}=e,i="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){const e="".concat("string"==typeof t.x?t.x:t.x+n),r="".concat("string"==typeof t.y?t.y:t.y+n);i="translate(".concat(e,", ").concat(r,")")+i}return i}function c(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},2862:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(t,e,n)},2966:(e,t,n)=>{const r=n(7944);e.exports=(e,t)=>new r(e,t).major},3241:e=>{"use strict";e.exports=o},3489:(e,t,n)=>{const r=n(7944),o=n(8395),i=n(144);e.exports=(e,t)=>{e=new o(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let a=null;o.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":a&&!i(t,a)||(a=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!a||n&&!i(n,a)||(n=a)}return n&&e.test(n)?n:null}},3806:e=>{"use strict";e.exports=a},3811:(e,t,n)=>{const r=n(6909),o=n(7659),i=n(144),a=n(2077),s=n(599),l=n(7092);e.exports=(e,t,n,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,c);case"!=":return o(e,n,c);case">":return i(e,n,c);case">=":return a(e,n,c);case"<":return s(e,n,c);case"<=":return l(e,n,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},4031:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),o=t.test(n);return r&&o&&(e=+e,n=+n),e===n?0:r&&!o?-1:o&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},4266:(e,t,n)=>{const r=n(5463);e.exports=(e,t,n)=>r(e,t,"<",n)},4271:(e,t,n)=>{"use strict";e.exports=n(8299)},4300:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7451),o=n(6438);function i(e){return function(e){if(Array.isArray(e))return(0,r.A)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},4354:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(5292),o=n.n(r),i=n(9893),a=n.n(i),s=n(9383),l=n.n(s),c=n(6884),u=n.n(c),d=n(9088),p=n.n(d),f=n(7997),h=n.n(f),m=n(6005),g={};g.styleTagTransform=h(),g.setAttributes=u(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=p(),o()(m.A,g);const b=m.A&&m.A.locals?m.A.locals:void 0},4358:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c});var r={},o=[];function i(e,t){}function a(e,t){}function s(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}function l(e,t){s(i,e,t)}l.preMessage=function(e){o.push(e)},l.resetWarned=function(){r={}},l.noteOnce=function(e,t){s(a,e,t)};const c=l},4452:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},4636:(e,t,n)=>{"use strict";t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(5959)),o=c(n(2688)),i=n(8187),a=n(414),s=n(544),l=c(n(9482));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=e=>Object.prototype.toString.call(e);function h(e,t){return null==e?null:Array.isArray(e)?e:e[t]}class m extends r.Component{constructor(){super(...arguments),p(this,"state",this.generateInitialState()),p(this,"onLayoutChange",(e=>{this.props.onLayoutChange(e,{...this.props.layouts,[this.state.breakpoint]:e})}))}generateInitialState(){const{width:e,breakpoints:t,layouts:n,cols:r}=this.props,o=(0,s.getBreakpointFromWidth)(t,e),i=(0,s.getColsFromBreakpoint)(o,r),a=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,s.findOrGenerateResponsiveLayout)(n,t,o,o,i,a),breakpoint:o,cols:i}}static getDerivedStateFromProps(e,t){if(!(0,i.deepEqual)(e.layouts,t.layouts)){const{breakpoint:n,cols:r}=t;return{layout:(0,s.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType),layouts:e.layouts}}return null}componentDidUpdate(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,i.deepEqual)(this.props.breakpoints,e.breakpoints)&&(0,i.deepEqual)(this.props.cols,e.cols)||this.onWidthChange(e)}onWidthChange(e){const{breakpoints:t,cols:n,layouts:r,compactType:o}=this.props,i=this.props.breakpoint||(0,s.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),l=this.state.breakpoint,c=(0,s.getColsFromBreakpoint)(i,n),u={...r};if(l!==i||e.breakpoints!==t||e.cols!==n){l in u||(u[l]=(0,a.cloneLayout)(this.state.layout));let e=(0,s.findOrGenerateResponsiveLayout)(u,t,i,l,c,o);e=(0,a.synchronizeLayoutWithChildren)(e,this.props.children,c,o,this.props.allowOverlap),u[i]=e,this.props.onBreakpointChange(i,c),this.props.onLayoutChange(e,u),this.setState({breakpoint:i,layout:e,cols:c})}const d=h(this.props.margin,i),p=h(this.props.containerPadding,i);this.props.onWidthChange(this.props.width,d,c,p)}render(){const{breakpoint:e,breakpoints:t,cols:n,layouts:o,margin:i,containerPadding:a,onBreakpointChange:s,onLayoutChange:c,onWidthChange:u,...p}=this.props;return r.createElement(l.default,d({},p,{margin:h(i,this.state.breakpoint),containerPadding:h(a,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}t.default=m,p(m,"propTypes",{breakpoint:o.default.string,breakpoints:o.default.object,allowOverlap:o.default.bool,cols:o.default.object,margin:o.default.oneOfType([o.default.array,o.default.object]),containerPadding:o.default.oneOfType([o.default.array,o.default.object]),layouts(e,t){if("[object Object]"!==f(e[t]))throw new Error("Layout property must be an object. Received: "+f(e[t]));Object.keys(e[t]).forEach((t=>{if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,a.validateLayout)(e.layouts[t],"layouts."+t)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func}),p(m,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:a.noop,onLayoutChange:a.noop,onWidthChange:a.noop})},4942:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[t].concat([i]).join("\n")}return[t].join("\n")}},5292:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=i[c]||0,d="".concat(c," ").concat(u);i[c]=u+1;var p=n(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=o(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),c=0;c<i.length;c++){var u=n(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=l}}},5334:(e,t,n)=>{const r=n(7944),o=n(5860),{safeRe:i,t:a}=n(6850);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const r=t.includePrerelease?i[a.COERCERTLFULL]:i[a.COERCERTL];let o;for(;(o=r.exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&o.index+o[0].length===n.index+n[0].length||(n=o),r.lastIndex=o.index+o[1].length+o[2].length;r.lastIndex=-1}else n=e.match(t.includePrerelease?i[a.COERCEFULL]:i[a.COERCE]);if(null===n)return null;const s=n[2],l=n[3]||"0",c=n[4]||"0",u=t.includePrerelease&&n[5]?`-${n[5]}`:"",d=t.includePrerelease&&n[6]?`+${n[6]}`:"";return o(`${s}.${l}.${c}${u}${d}`,t)}},5380:(e,t,n)=>{const r=n(7944);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},5463:(e,t,n)=>{const r=n(7944),o=n(9524),{ANY:i}=o,a=n(8395),s=n(1722),l=n(144),c=n(599),u=n(7092),d=n(2077);e.exports=(e,t,n,p)=>{let f,h,m,g,b;switch(e=new r(e,p),t=new a(t,p),n){case">":f=l,h=u,m=c,g=">",b=">=";break;case"<":f=c,h=d,m=l,g="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,p))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let a=null,s=null;if(r.forEach((e=>{e.semver===i&&(e=new o(">=0.0.0")),a=a||e,s=s||e,f(e.semver,a.semver,p)?a=e:m(e.semver,s.semver,p)&&(s=e)})),a.operator===g||a.operator===b)return!1;if((!s.operator||s.operator===g)&&h(e,s.semver))return!1;if(s.operator===b&&m(e,s.semver))return!1}return!0}},5851:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdHocFiltersVariable:()=>sl,ConstantVariable:()=>dc,ControlsLabel:()=>vr,CustomVariable:()=>Hf,DataProviderProxy:()=>df,DataSourceVariable:()=>Zf,EmbeddedScene:()=>Vh,FieldConfigBuilder:()=>mv,FieldConfigBuilders:()=>Dv,FieldConfigOverridesBuilder:()=>iv,GroupByVariable:()=>hr,IntervalVariable:()=>Dh,LocalValueVariable:()=>Ah,MultiValueVariable:()=>Bt,NestedScene:()=>qm,NewSceneObjectAddedEvent:()=>Lh,PanelBuilders:()=>Cv,PanelOptionsBuilders:()=>Rv,QueryVariable:()=>zc,RuntimeDataSource:()=>ue,SafeSerializableSceneObject:()=>or,SceneApp:()=>rb,SceneAppPage:()=>Eb,SceneByFrameRepeater:()=>Tg,SceneByVariableRepeater:()=>_g,SceneCSSGridItem:()=>Ug,SceneCSSGridLayout:()=>$g,SceneCanvasText:()=>Xm,SceneControlsSpacer:()=>kg,SceneDataLayerBase:()=>wd,SceneDataLayerControls:()=>Sd,SceneDataLayerSet:()=>wf,SceneDataLayerSetBase:()=>yf,SceneDataNode:()=>qe,SceneDataTransformer:()=>Pf,SceneDebugger:()=>bb,SceneFlexItem:()=>Mg,SceneFlexLayout:()=>Bg,SceneGridItem:()=>Gh,SceneGridLayout:()=>Mm,SceneGridRow:()=>Hm,SceneObjectBase:()=>J,SceneObjectRef:()=>G,SceneObjectStateChangedEvent:()=>$,SceneObjectUrlSyncConfig:()=>Xe,SceneQueryRunner:()=>Cl,SceneReactObject:()=>pb,SceneRefreshPicker:()=>pg,SceneTimePicker:()=>Km,SceneTimeRange:()=>at,SceneTimeRangeCompare:()=>Rg,SceneTimeRangeTransformerBase:()=>Jp,SceneTimeZoneOverride:()=>uf,SceneToolbarButton:()=>Qm,SceneToolbarInput:()=>Zm,SceneVariableSet:()=>Nf,SceneVariableValueChangedEvent:()=>dt,SplitLayout:()=>nb,TestVariable:()=>lh,TextBoxVariable:()=>mh,UrlSyncContextProvider:()=>zh,UrlSyncManager:()=>Nh,UserActionEvent:()=>U,VariableDependencyConfig:()=>pc,VariableValueControl:()=>Lf,VariableValueSelectWrapper:()=>_f,VariableValueSelectors:()=>Tf,VizConfigBuilder:()=>Ov,VizConfigBuilders:()=>Iv,VizPanel:()=>dd,VizPanelBuilder:()=>xv,VizPanelExploreButton:()=>Hh,VizPanelMenu:()=>Uh,behaviors:()=>r,dataLayers:()=>o,formatRegistry:()=>bt,getExploreURL:()=>Wh,isCustomVariableValue:()=>pt,isDataLayer:()=>Kt,isDataRequestEnricher:()=>Qt,isFiltersRequestEnricher:()=>Zt,isSceneObject:()=>Xt,registerQueryWithController:()=>Jt,registerRuntimeDataSource:()=>pe,renderSelectForVariable:()=>Jn,sceneGraph:()=>Gc,sceneUtils:()=>Pv,useSceneApp:()=>ab,useSceneObjectState:()=>ee,useUrlSync:()=>Fh});var r={};n.r(r),n.d(r,{ActWhenVariableChanged:()=>Jc,CursorSync:()=>cu,LiveNowTimer:()=>fd,SceneQueryController:()=>Ne});var o={};n.r(o),n.d(o,{AnnotationsDataLayer:()=>Kp});var i=n(5959),a=n.t(i,2),s=n.n(i),l=n(3806),c=n(7781),u=n(8531),d=Object.defineProperty,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function g(e,t,n){const r=((e,t)=>{for(var n in t||(t={}))f.call(t,n)&&m(e,n,t[n]);if(p)for(var n of p(t))h.call(t,n)&&m(e,n,t[n]);return e})({},t);if(n)for(const e of Object.keys(r))n.includes(e)||delete r[e];return c.urlUtil.renderUrl(c.locationUtil.assureBaseUrl(e),r)}function b(e,t){return s().createElement(e.Component,{model:e,routeProps:t})}var v=Object.defineProperty,y=Object.defineProperties,w=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,x=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const C=new Map;var O=n(1269);const I={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let R;const D=new Uint8Array(16);function P(){if(!R&&(R="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!R))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R(D)}const T=[];for(let e=0;e<256;++e)T.push((e+256).toString(16).slice(1));const _=function(e,t,n){if(I.randomUUID&&!t&&!e)return I.randomUUID();const r=(e=e||{}).random||(e.rng||P)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return T[e[t+0]]+T[e[t+1]]+T[e[t+2]]+T[e[t+3]]+"-"+T[e[t+4]]+T[e[t+5]]+"-"+T[e[t+6]]+T[e[t+7]]+"-"+T[e[t+8]]+T[e[t+9]]+"-"+T[e[t+10]]+T[e[t+11]]+T[e[t+12]]+T[e[t+13]]+T[e[t+14]]+T[e[t+15]]}(r)};var k=Object.defineProperty,B=Object.defineProperties,M=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,F=(e,t,n)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const z=s().memo((function(e){var t,n=e,{model:r}=n,o=((e,t)=>{var n={};for(var r in e)N.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&L)for(var r of L(e))t.indexOf(r)<0&&j.call(e,r)&&(n[r]=e[r]);return n})(n,["model"]);const a=null!=(t=r.constructor.Component)?t:V,[l,c]=(0,i.useState)(0);return(0,i.useEffect)((()=>{const e=r.activate();return c((e=>e+1)),e}),[r]),r.isActive||r.renderBeforeActivation?s().createElement(a,(u=((e,t)=>{for(var n in t||(t={}))N.call(t,n)&&F(e,n,t[n]);if(L)for(var n of L(t))j.call(t,n)&&F(e,n,t[n]);return e})({},o),B(u,M({model:r})))):null;var u}));function V(e){return null}class $ extends c.BusEventWithPayload{}$.type="scene-object-state-change";class U extends c.BusEventWithPayload{}U.type="scene-object-user-action";var W,H=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};class G{constructor(e){var t,n;((e,t)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,void 0)})(this,W),n=e,H(this,t=W,"write to private field"),t.set(this,n)}resolve(){return H(this,e=W,"read from private field"),e.get(this);var e}}W=new WeakMap;var q=Object.defineProperty,Y=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,Z=(e,t,n)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K=(e,t)=>{for(var n in t||(t={}))X.call(t,n)&&Z(e,n,t[n]);if(Y)for(var n of Y(t))Q.call(t,n)&&Z(e,n,t[n]);return e};class J{constructor(e){this._isActive=!1,this._activationHandlers=[],this._deactivationHandlers=new Map,this._subs=new O.Subscription,this._refCount=0,this._renderBeforeActivation=!1,e.key||(e.key=_()),this._events=new c.EventBusSrv,this._state=Object.freeze(e),this._setParent(this._state)}get state(){return this._state}get isActive(){return this._isActive}get renderBeforeActivation(){return this._renderBeforeActivation}get parent(){return this._parent}get variableDependency(){return this._variableDependency}get urlSync(){return this._urlSync}get Component(){return z}_setParent(e){te(e,(e=>{e._parent&&e._parent!==this&&console.warn("SceneObject already has a parent set that is different from the new parent. You cannot share the same SceneObject instance in multiple scenes or in multiple different places of the same scene graph. Use SceneObject.clone() to duplicate a SceneObject or store a state key reference and use sceneGraph.findObject to locate it.",e,this),e._parent=this}))}clearParent(){this._parent=void 0}subscribeToState(e){return this._events.subscribe($,(t=>{t.payload.changedObject===this&&e(t.payload.newState,t.payload.prevState)}))}subscribeToEvent(e,t){return this._events.subscribe(e,t)}setState(e){const t=this._state,n=K(K({},this._state),e);this._state=Object.freeze(n),this._setParent(e),this._handleActivationOfChangedStateProps(t,n),this.publishEvent(new $({prevState:t,newState:n,partialUpdate:e,changedObject:this}),!0)}_handleActivationOfChangedStateProps(e,t){this.isActive&&(e.$behaviors!==t.$behaviors&&this._handleChangedBehaviors(e.$behaviors,t.$behaviors),e.$data!==t.$data&&this._handleChangedStateActivation(e.$data,t.$data),e.$variables!==t.$variables&&this._handleChangedStateActivation(e.$variables,t.$variables),e.$timeRange!==t.$timeRange&&this._handleChangedStateActivation(e.$timeRange,t.$timeRange))}_handleChangedStateActivation(e,t){if(e){const t=this._deactivationHandlers.get(e);t&&(t(),this._deactivationHandlers.delete(e))}t&&this._deactivationHandlers.set(t,t.activate())}_handleChangedBehaviors(e,t){if(e)for(const n of e)if(!t||!t.includes(n)){const e=this._deactivationHandlers.get(n);e&&(e(),this._deactivationHandlers.delete(n))}if(t)for(const n of t)e&&e.includes(n)||this._activateBehavior(n)}publishEvent(e,t){this._events.publish(e),t&&this.parent&&this.parent.publishEvent(e,t)}getRoot(){return this._parent?this._parent.getRoot():this}_internalActivate(){this._isActive=!0;const{$data:e,$variables:t,$timeRange:n,$behaviors:r}=this.state;if(this._activationHandlers.forEach((e=>{const t=e();t&&this._deactivationHandlers.set(t,t)})),n&&!n.isActive&&this._deactivationHandlers.set(n,n.activate()),t&&!t.isActive&&this._deactivationHandlers.set(t,t.activate()),e&&!e.isActive&&this._deactivationHandlers.set(e,e.activate()),r)for(const e of r)this._activateBehavior(e)}_activateBehavior(e){if(e instanceof J)this._deactivationHandlers.set(e,e.activate());else if("function"==typeof e){const t=e(this);t&&this._deactivationHandlers.set(e,t)}}activate(){this.isActive||this._internalActivate(),this._refCount++;let e=!1;return()=>{if(this._refCount--,e)throw new Error("SceneObject cancelation handler returned by activate() called a second time");e=!0,0===this._refCount&&this._internalDeactivate()}}_internalDeactivate(){this._isActive=!1;for(let e of this._deactivationHandlers.values())e();this._deactivationHandlers.clear(),this._events.removeAllListeners(),this._subs.unsubscribe(),this._subs=new O.Subscription}useState(){return ee(this)}forceRender(){this.setState({})}clone(e){return function(e,t){const n=le(e.state,t);return new e.constructor(n)}(this,e)}addActivationHandler(e){this._activationHandlers.push(e)}forEachChild(e){te(this.state,e)}getRef(){return this._ref||(this._ref=new G(this)),this._ref}}function ee(e,t){var n;const[r,o]=(0,i.useState)(e.state),a=e.state,s=null!=(n=null==t?void 0:t.shouldActivateOrKeepAlive)&&n;return(0,i.useEffect)((()=>{let t;s&&(t=e.activate());const n=e.subscribeToState((e=>{o(e)}));return e.state!==a&&o(e.state),()=>{n.unsubscribe(),t&&t()}}),[e,s]),e.state}function te(e,t){for(const n of Object.values(e))if(n instanceof J&&t(n),Array.isArray(n))for(const e of n)e instanceof J&&t(e)}var ne=Object.defineProperty,re=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,ae=(e,t,n)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,se=(e,t)=>{for(var n in t||(t={}))oe.call(t,n)&&ae(e,n,t[n]);if(re)for(var n of re(t))ie.call(t,n)&&ae(e,n,t[n]);return e};function le(e,t){const n=se({},e);Object.assign(n,t);for(const e in n){if(t&&void 0!==t[e])continue;const r=n[e];if(r instanceof J&&(n[e]=r.clone()),r instanceof G)console.warn("Cloning object with SceneObjectRef");else if(Array.isArray(r)){const t=[];for(const e of r)e instanceof J?t.push(e.clone()):t.push(e);n[e]=t}}return n}function ce(e,t){let n,r=e;for(;r&&!n;)n=t(r),r=r.parent;return n}class ue extends c.DataSourceApi{constructor(e,t){super({name:"RuntimeDataSource-"+e,uid:t,type:e,id:1,readOnly:!0,jsonData:{},access:"direct",meta:{id:e,name:"RuntimeDataSource-"+e,type:c.PluginType.datasource,info:{author:{name:""},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""},module:"",baseUrl:""}})}testDatasource(){return Promise.resolve({})}}const de=new Map;function pe({dataSource:e}){if(de.has(e.uid))throw new Error(`A runtime data source with uid ${e.uid} has already been registered`);de.set(e.uid,e)}var fe=n(3241);function he(e,t){const n=t.state.$variables;if(!n)return t.parent?he(e,t.parent):null;return n.getByName(e)||(t.parent?he(e,t.parent):null)}function me(e,t,...n){let r=!1;"undefined"!=typeof window&&(r="true"===localStorage.getItem("grafana.debug.scenes")),r&&console.log(`${e}: `,t,...n)}var ge,be,ve,ye,we=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Se=(e,t,n)=>(we(e,t,"read from private field"),n?n.call(e):t.get(e)),Ee=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ae=(e,t,n,r)=>(we(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class xe{constructor(e){this.queryController=e,Ee(this,ge,null),Ee(this,be,null),Ee(this,ve,null),Ee(this,ye,[]),this.lastFrameTime=0,this.measureTrailingFrames=(e,t,n)=>{const r=performance.now(),o=r-t;if(Se(this,ye).push(o),r-e<2e3)Ae(this,ve,requestAnimationFrame((()=>this.measureTrailingFrames(e,r,n))));else{const t=function(e){for(let t=e.length-1;t>=0;t--)if(e[t]>30)return e.slice(0,t+1);return[e[0]]}(Se(this,ye)),r=t.reduce(((e,t)=>e+t),0);me(this.constructor.name,"Profile tail recorded, slow frames duration:",r,t,Se(this,ge)),Ae(this,ye,[]);const o=e-n;me(this.constructor.name,"Stoped recording, total measured time (network included):",o+r),Ae(this,ve,null);const i=n+o+r;performance.measure("DashboardInteraction",{start:n,end:i});const a=function(e,t){const n=performance.getEntriesByType("resource");performance.clearResourceTimings();const r=n.filter((n=>n.startTime>=e&&n.startTime<=t));for(const e of r)performance.measure("Network entry "+e.name,{start:e.startTime,end:e.responseEnd});return function(e){if(0===e.length)return 0;e.sort(((e,t)=>e.startTime-t.startTime));let t=0,n=e[0].startTime,r=e[0].responseEnd;for(let o=1;o<e.length;o++)e[o].startTime<=r?r=Math.max(r,e[o].responseEnd):(t+=r-n,n=e[o].startTime,r=e[o].responseEnd);return t+=r-n,t}(r)}(n,i);this.queryController.state.onProfileComplete&&this.queryController.state.onProfileComplete({origin:Se(this,ge).origin,crumbs:Se(this,ge).crumbs,duration:o+r,networkDuration:a,jsHeapSizeLimit:performance.memory?performance.memory.jsHeapSizeLimit:0,usedJSHeapSize:performance.memory?performance.memory.usedJSHeapSize:0,totalJSHeapSize:performance.memory?performance.memory.totalJSHeapSize:0}),window.__runs?window.__runs+=`${Date.now()}, ${o+r}\n`:window.__runs=`${Date.now()}, ${o+r}\n`}}}startProfile(e){Se(this,ve)&&(cancelAnimationFrame(Se(this,ve)),Ae(this,ve,null),me(this.constructor.name,"New profile: Stopped recording frames")),Ae(this,ge,{origin:e,crumbs:[]}),Ae(this,be,performance.now()),me(this.constructor.name,"Profile started:",Se(this,ge),Se(this,be))}recordProfileTail(e,t){Ae(this,ve,requestAnimationFrame((()=>this.measureTrailingFrames(e,e,t))))}tryCompletingProfile(){me(this.constructor.name,"Trying to complete profile",Se(this,ge)),0===this.queryController.runningQueriesCount()&&Se(this,ge)&&(me(this.constructor.name,"All queries completed, stopping profile"),this.recordProfileTail(performance.now(),Se(this,be)))}isTailRecording(){return Boolean(Se(this,ve))}cancelTailRecording(){Se(this,ve)&&(cancelAnimationFrame(Se(this,ve)),Ae(this,ve,null),me(this.constructor.name,"Cancelled recording frames, new profile started"))}addCrumb(e){Se(this,ge)&&Se(this,ge).crumbs.push(e)}}ge=new WeakMap,be=new WeakMap,ve=new WeakMap,ye=new WeakMap;var Ce,Oe,Ie=Object.defineProperty,Re=Object.defineProperties,De=Object.getOwnPropertyDescriptors,Pe=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,ke=(e,t,n)=>t in e?Ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Be=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Me=(e,t,n)=>(Be(e,t,"read from private field"),n?n.call(e):t.get(e)),Le=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};class Ne extends J{constructor(e={}){var t;super((t=((e,t)=>{for(var n in t||(t={}))Te.call(t,n)&&ke(e,n,t[n]);if(Pe)for(var n of Pe(t))_e.call(t,n)&&ke(e,n,t[n]);return e})({},e),Re(t,De({isRunning:!1})))),this.isQueryController=!0,this.profiler=new xe(this),Le(this,Ce,new Set),Le(this,Oe,null),this.runningQueriesCount=()=>Me(this,Ce).size,this.addActivationHandler((()=>()=>Me(this,Ce).clear()))}startProfile(e){this.state.enableProfiling&&this.profiler.startProfile(e.constructor.name)}queryStarted(e){Me(this,Ce).add(e),this.changeRunningQueryCount(1,e),this.state.isRunning||this.setState({isRunning:!0})}queryCompleted(e){Me(this,Ce).has(e)&&(Me(this,Ce).delete(e),this.changeRunningQueryCount(-1),0===Me(this,Ce).size&&this.setState({isRunning:!1}))}changeRunningQueryCount(e,t){var n,r,o,i;window.__grafanaRunningQueryCount=(null!=(n=window.__grafanaRunningQueryCount)?n:0)+e,1===e&&this.state.enableProfiling&&(t&&this.profiler.addCrumb(`${t.origin.constructor.name}/${t.type}`),this.profiler.isTailRecording()&&(me(this.constructor.name,"New query started, cancelling tail recording"),this.profiler.cancelTailRecording())),this.state.enableProfiling&&(Me(this,Oe)&&cancelAnimationFrame(Me(this,Oe)),r=this,o=Oe,i=requestAnimationFrame((()=>{this.profiler.tryCompletingProfile()})),Be(r,o,"write to private field"),o.set(r,i))}cancelAll(){var e;for(const t of Me(this,Ce).values())null==(e=t.cancel)||e.call(t)}}function je(e){let t=e;for(;t;){if(t.state.$behaviors)for(const e of t.state.$behaviors)if("isQueryController"in e)return e;t=t.parent}}Ce=new WeakMap,Oe=new WeakMap;var Fe=(e=>(e.Actions="actions",e.Auto="auto",e.BasicGauge="basic",e.ColorBackground="color-background",e.ColorBackgroundSolid="color-background-solid",e.ColorText="color-text",e.Custom="custom",e.DataLinks="data-links",e.Gauge="gauge",e.GradientGauge="gradient-gauge",e.Image="image",e.JSONView="json-view",e.LcdGauge="lcd-gauge",e.Sparkline="sparkline",e))(Fe||{}),ze=(e=>(e.CSV="csv",e.Date="date",e.Distributed="distributed",e.DoubleQuote="doublequote",e.Glob="glob",e.HTML="html",e.JSON="json",e.Lucene="lucene",e.PercentEncode="percentencode",e.Pipe="pipe",e.QueryParam="queryparam",e.Raw="raw",e.Regex="regex",e.SQLString="sqlstring",e.SingleQuote="singlequote",e.Text="text",e.UriEncode="uriencode",e))(ze||{});Fe.Auto;var Ve=(e=>(e.NotStarted="NotStarted",e.Loading="Loading",e.Streaming="Streaming",e.Done="Done",e.Error="Error",e))(Ve||{}),$e=Object.defineProperty,Ue=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,Ge=(e,t,n)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class qe extends J{constructor(e){super(((e,t)=>{for(var n in t||(t={}))We.call(t,n)&&Ge(e,n,t[n]);if(Ue)for(var n of Ue(t))He.call(t,n)&&Ge(e,n,t[n]);return e})({data:Ye},e))}getResultsStream(){const e={origin:this,data:this.state.data};return(0,O.of)(e)}}const Ye={state:Ve.Done,series:[],timeRange:(0,c.getDefaultTimeRange)()};class Xe{constructor(e,t){this._sceneObject=e,this._nextChangeShouldAddHistoryStep=!1,this._keys=t.keys}getKeys(){return"function"==typeof this._keys?this._keys():this._keys}getUrlState(){return this._sceneObject.getUrlState()}updateFromUrl(e){this._sceneObject.updateFromUrl(e)}performBrowserHistoryAction(e){this._nextChangeShouldAddHistoryStep=!0,e(),this._nextChangeShouldAddHistoryStep=!1}shouldCreateHistoryStep(e){return this._nextChangeShouldAddHistoryStep}}const Qe=/^\d+[yYmMsSwWhHdD]$/;function Ze(e){if("string"!=typeof e)return null;if(-1!==e.indexOf("now"))return e;if(Qe.test(e))return e;if(8===e.length){const t=(0,c.toUtc)(e,"YYYYMMDD");if(t.isValid())return t.toISOString()}else if(15===e.length){const t=(0,c.toUtc)(e,"YYYYMMDDTHHmmss");if(t.isValid())return t.toISOString()}else if(19===e.length){const t=(0,c.toUtc)(e,"YYYY-MM-DD HH:mm:ss");if(t.isValid())return t.toISOString()}else if(24===e.length)return(0,c.toUtc)(e).toISOString();const t=parseInt(e,10);return isNaN(t)?null:(0,c.toUtc)(t).toISOString()}function Ke(e,t,n,r,o,i){const a=o&&"now"===t,s=Date.now();i&&function(e){e!==Je&&(Je=e,(0,c.setWeekStart)(e))}(i);const l=(e,t)=>c.dateMath.toDateTime?c.dateMath.toDateTime(e,t):c.dateMath.parse(e,t.roundUp,t.timezone,t.fiscalYearStartMonth);return{to:l(a?"now-"+o:t,{roundUp:!0,timezone:n,fiscalYearStartMonth:r,now:s}),from:l(e,{roundUp:!1,timezone:n,fiscalYearStartMonth:r,now:s}),raw:{from:e,to:t}}}let Je;function et(e,t,n){return(0,c.isDateTime)(e)?e.isValid():c.dateMath.isMathString(e)?c.dateMath.isValid(e):(0,c.dateTimeParse)(e,{roundUp:t,timeZone:n}).isValid()}var tt=Object.defineProperty,nt=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable,it=(e,t,n)=>t in e?tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class at extends J{constructor(e={}){var t;const n=e.from&&et(e.from)?e.from:"now-6h",r=e.to&&et(e.to)?e.to:"now",o=e.timeZone;super(((e,t)=>{for(var n in t||(t={}))rt.call(t,n)&&it(e,n,t[n]);if(nt)for(var n of nt(t))ot.call(t,n)&&it(e,n,t[n]);return e})({from:n,to:r,timeZone:o,value:Ke(n,r,o||(0,c.getTimeZone)(),e.fiscalYearStartMonth,e.UNSAFE_nowDelay,e.weekStart),refreshOnActivate:null!=(t=e.refreshOnActivate)?t:{percent:10}},e)),this._urlSync=new Xe(this,{keys:["from","to","timezone","time","time.window"]}),this.onTimeRangeChange=e=>{const t={};if("string"==typeof e.raw.from?t.from=e.raw.from:t.from=e.raw.from.toISOString(),"string"==typeof e.raw.to?t.to=e.raw.to:t.to=e.raw.to.toISOString(),t.value=Ke(t.from,t.to,this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart),t.from!==this.state.from||t.to!==this.state.to){const e=je(this);null==e||e.startProfile(this),this._urlSync.performBrowserHistoryAction((()=>{this.setState(t)}))}},this.onTimeZoneChange=e=>{this._urlSync.performBrowserHistoryAction((()=>{this.setState({timeZone:e})}))},this.onRefresh=()=>{this.refreshRange(0),this.publishEvent(new u.RefreshEvent,!0)},this.addActivationHandler(this._onActivate.bind(this))}_onActivate(){if(!this.state.timeZone){const e=this.getTimeZoneSource();e!==this&&this._subs.add(e.subscribeToState(((e,t)=>{void 0!==e.timeZone&&e.timeZone!==t.timeZone&&this.refreshRange(0)})))}return c.rangeUtil.isRelativeTimeRange(this.state.value.raw)&&this.refreshIfStale(),()=>{this.state.weekStart&&(0,c.setWeekStart)(u.config.bootData.user.weekStart)}}refreshIfStale(){var e,t,n,r;let o;void 0!==(null==(t=null==(e=this.state)?void 0:e.refreshOnActivate)?void 0:t.percent)&&(o=this.calculatePercentOfInterval(this.state.refreshOnActivate.percent)),void 0!==(null==(r=null==(n=this.state)?void 0:n.refreshOnActivate)?void 0:r.afterMs)&&(o=Math.min(this.state.refreshOnActivate.afterMs,null!=o?o:1/0)),void 0!==o&&this.refreshRange(o)}getTimeZoneSource(){if(!this.parent||!this.parent.parent)return this;return ce(this.parent.parent,(e=>{if(e.state.$timeRange&&e.state.$timeRange.state.timeZone)return e.state.$timeRange}))||this}refreshRange(e){var t;const n=Ke(this.state.from,this.state.to,null!=(t=this.state.timeZone)?t:(0,c.getTimeZone)(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart);n.to.diff(this.state.value.to,"milliseconds")>=e&&this.setState({value:n})}calculatePercentOfInterval(e){const t=this.state.value.to.diff(this.state.value.from,"milliseconds");return Math.ceil(t/e)}getTimeZone(){if(this.state.timeZone)return this.state.timeZone;const e=this.getTimeZoneSource();return e!==this?e.state.timeZone:(0,c.getTimeZone)()}getUrlState(){const e=u.locationService.getSearchObject(),t={from:this.state.from,to:this.state.to,timezone:this.getTimeZone()};return e.time&&e["time.window"]&&(t.time=null,t["time.window"]=null),t}updateFromUrl(e){var t,n,r;const o={};let i=Ze(e.from),a=Ze(e.to);if(e.time&&e["time.window"]){const t=function(e,t){const n=isNaN(Date.parse(e))?parseInt(e,10):Date.parse(e);let r;return r=t.match(/^\d+$/)&&parseInt(t,10)?parseInt(t,10):c.rangeUtil.intervalToMs(t),{from:(0,c.toUtc)(n-r/2).toISOString(),to:(0,c.toUtc)(n+r/2).toISOString()}}(Array.isArray(e.time)?e.time[0]:e.time,Array.isArray(e["time.window"])?e["time.window"][0]:e["time.window"]);t.from&&et(t.from)&&(i=t.from),t.to&&et(t.to)&&(a=t.to)}if(i&&et(i)&&(o.from=i),a&&et(a)&&(o.to=a),"string"==typeof e.timezone&&(o.timeZone=""!==e.timezone?e.timezone:void 0),0!==Object.keys(o).length)return o.value=Ke(null!=(t=o.from)?t:this.state.from,null!=(n=o.to)?n:this.state.to,null!=(r=o.timeZone)?r:this.getTimeZone(),this.state.fiscalYearStartMonth,this.state.UNSAFE_nowDelay,this.state.weekStart),this.setState(o)}}const st=new qe,lt=new at,ct=new class extends J{constructor(){super({variables:[]})}getByName(e){}isVariableLoadingOrWaitingToUpdate(e){return!1}};function ut(e){var t;return null!=(t=ce(e,(e=>e.state.$timeRange)))?t:lt}class dt extends c.BusEventWithPayload{}function pt(e){return"object"==typeof e&&"formatter"in e}dt.type="scene-variable-changed-value";let ft,ht={};function mt(e){return ht[e]||(ht[e]=(0,fe.property)(e))}class gt{constructor(e,t){this.state={name:e,value:t,type:"scopedvar"}}getValue(e){let{value:t}=this.state,n=t.value;return n=e?mt(e)(t.value):t.value,"string"===n||"number"===n||"boolean"===n?n:String(n)}getValueText(){const{value:e}=this.state;return null!=e.text?String(e.text):String(e)}}const bt=new c.Registry((()=>{const e=[{id:ze.Lucene,name:"Lucene",description:"Values are lucene escaped and multi-valued variables generate an OR expression",formatter:e=>"string"==typeof e?vt(e):Array.isArray(e)?0===e.length?"__empty__":"("+(0,fe.map)(e,(e=>'"'+vt(e)+'"')).join(" OR ")+")":vt(`${e}`)},{id:ze.Raw,name:"raw",description:"Keep value as is",formatter:e=>String(e)},{id:ze.Regex,name:"Regex",description:"Values are regex escaped and multi-valued variables generate a (<value>|<value>) expression",formatter:e=>{if("string"==typeof e)return(0,c.escapeRegex)(e);if(Array.isArray(e)){const t=e.map((e=>"string"==typeof e?(0,c.escapeRegex)(e):(0,c.escapeRegex)(String(e))));return 1===t.length?t[0]:"("+t.join("|")+")"}return(0,c.escapeRegex)(`${e}`)}},{id:ze.Pipe,name:"Pipe",description:"Values are separated by | character",formatter:e=>"string"==typeof e?e:Array.isArray(e)?e.join("|"):`${e}`},{id:ze.Distributed,name:"Distributed",description:"Multiple values are formatted like variable=value",formatter:(e,t,n)=>"string"==typeof e?e:Array.isArray(e)?(e=(0,fe.map)(e,((e,t)=>0!==t?n.state.name+"="+e:e)),e.join(",")):`${e}`},{id:ze.CSV,name:"Csv",description:"Comma-separated values",formatter:e=>"string"==typeof e?e:(0,fe.isArray)(e)?e.join(","):String(e)},{id:ze.HTML,name:"HTML",description:"HTML escaping of values",formatter:e=>"string"==typeof e?c.textUtil.escapeHtml(e):(0,fe.isArray)(e)?c.textUtil.escapeHtml(e.join(", ")):c.textUtil.escapeHtml(String(e))},{id:ze.JSON,name:"JSON",description:"JSON stringify value",formatter:e=>"string"==typeof e?e:JSON.stringify(e)},{id:ze.PercentEncode,name:"Percent encode",description:"Useful for URL escaping values",formatter:e=>(0,fe.isArray)(e)?yt("{"+e.join(",")+"}"):yt(e)},{id:ze.SingleQuote,name:"Single quote",description:"Single quoted values",formatter:e=>{const t=new RegExp("'","g");if((0,fe.isArray)(e))return(0,fe.map)(e,(e=>`'${(0,fe.replace)(e,t,"\\'")}'`)).join(",");let n="string"==typeof e?e:String(e);return`'${(0,fe.replace)(n,t,"\\'")}'`}},{id:ze.DoubleQuote,name:"Double quote",description:"Double quoted values",formatter:e=>{const t=new RegExp('"',"g");if((0,fe.isArray)(e))return(0,fe.map)(e,(e=>`"${(0,fe.replace)(e,t,'\\"')}"`)).join(",");let n="string"==typeof e?e:String(e);return`"${(0,fe.replace)(n,t,'\\"')}"`}},{id:ze.SQLString,name:"SQL string",description:"SQL string quoting and commas for use in IN statements and other scenarios",formatter:xt},{id:ze.Date,name:"Date",description:"Format date in different ways",formatter:(e,t)=>{var n;let r=NaN;if("number"==typeof e?r=e:"string"==typeof e&&(r=parseInt(e,10)),isNaN(r))return"NaN";const o=null!=(n=t[0])?n:"iso";switch(o){case"ms":return String(e);case"seconds":return`${Math.round(r/1e3)}`;case"iso":return(0,c.dateTime)(r).toISOString();default:return(t||[]).length>1?(0,c.dateTime)(r).format(t.join(":")):(0,c.dateTime)(r).format(o)}}},{id:ze.Glob,name:"Glob",description:"Format multi-valued variables using glob syntax, example {value1,value2}",formatter:e=>(0,fe.isArray)(e)&&e.length>1?"{"+e.join(",")+"}":String(e)},{id:ze.Text,name:"Text",description:"Format variables in their text representation. Example in multi-variable scenario A + B + C.",formatter:(e,t,n)=>n.getValueText?n.getValueText():String(e)},{id:ze.QueryParam,name:"Query parameter",description:"Format variables as URL parameters. Example in multi-variable scenario A + B + C => var-foo=A&var-foo=B&var-foo=C.",formatter:(e,t,n)=>{if(n.urlSync){const e=n.urlSync.getUrlState();return c.urlUtil.toUrlParams(e)}return Array.isArray(e)?e.map((e=>Et(n.state.name,e))).join("&"):Et(n.state.name,e)}},{id:ze.UriEncode,name:"Percent encode as URI",description:"Useful for URL escaping values, taking into URI syntax characters",formatter:e=>(0,fe.isArray)(e)?wt("{"+e.join(",")+"}"):wt(e)}];return e}));function vt(e){return!1===isNaN(+e)?e:e.replace(/([\!\*\+\-\=<>\s\&\|\(\)\[\]\{\}\^\~\?\:\\/"])/g,"\\$1")}function yt(e){return"object"==typeof e&&(e=String(e)),St(encodeURIComponent(e))}const wt=e=>St(encodeURI(String(e))),St=e=>e.replace(/[!'()*]/g,(e=>"%"+e.charCodeAt(0).toString(16).toUpperCase()));function Et(e,t){return`var-${e}=${yt(t)}`}const At={"'":"''",'"':'\\"'};function xt(e){const t=new RegExp("'|\"","g");if((0,fe.isArray)(e))return(0,fe.map)(e,(e=>`'${(0,fe.replace)(e,t,(e=>{var t;return null!=(t=At[e])?t:""}))}'`)).join(",");let n="string"==typeof e?e:String(e);return`'${(0,fe.replace)(n,t,(e=>{var t;return null!=(t=At[e])?t:""}))}'`}const Ct="All",Ot="$__all",It="$__auto",Rt=/\$(\w+)|\[\[(\w+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::([^\}]+))?}/g;class Dt{constructor(e){this._value=e}formatter(){return this._value}}class Pt{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=ut(this._sceneObject);return"__from"===this.state.name?e.state.value.from.valueOf():e.state.value.to.valueOf()}getValueText(){const e=ut(this._sceneObject);return"__from"===this.state.name?(0,c.dateTimeFormat)(e.state.value.from,{timeZone:e.getTimeZone()}):(0,c.dateTimeFormat)(e.state.value.to,{timeZone:e.getTimeZone()})}}class Tt{constructor(e,t,n){this.state={name:e,type:"time_macro",match:n},this._sceneObject=t}getValue(){var e;const t=Vc(this._sceneObject);if(t){const n=null==(e=t.state.data)?void 0:e.request;return n?"__interval_ms"===this.state.name?n.intervalMs:n.interval:this.state.match}return this.state.match}}function _t(e,t){e.setState(t)}function kt(){return u.useLocationService?(0,u.useLocationService)():u.locationService}class Bt extends J{constructor(){super(...arguments),this._urlSync=new Mt(this)}validateAndUpdate(){return this.getValueOptions({}).pipe((0,O.map)((e=>(this.updateValueGivenNewOptions(e),{}))))}onCancel(){this.setStateHelper({loading:!1});const e=this.parent;null==e||e.cancel(this)}updateValueGivenNewOptions(e){const{value:t,text:n,options:r}=this.state,o=this.getStateUpdateGivenNewOptions(e,t,n);this.interceptStateUpdateAfterValidation(o),this.setStateHelper(o),(o.value!==t||o.text!==n||this.hasAllValue()&&!(0,fe.isEqual)(e,r))&&this.publishEvent(new dt(this),!0)}getStateUpdateGivenNewOptions(e,t,n){const r={options:e,loading:!1,value:t,text:n};if(0===e.length)return this.state.defaultToAll||this.state.includeAll?(r.value=Ot,r.text=Ct):this.state.isMulti?(r.value=[],r.text=[]):(r.value="",r.text=""),r;if(this.hasAllValue())return this.state.includeAll?r.text=Ct:(r.value=e[0].value,r.text=e[0].label,this.state.isMulti&&(r.value=[r.value],r.text=[r.text])),r;if(this.state.isMulti){const o=(Array.isArray(t)?t:[t]).filter((t=>e.find((e=>e.value===t)))),i=o.map((t=>e.find((e=>e.value===t)).label));if(0===o.length){const t=this.getDefaultMultiState(e);r.value=t.value,r.text=t.text}else(0,fe.isEqual)(o,t)||(r.value=o),(0,fe.isEqual)(i,n)||(r.text=i);return r}let o=function(e,t,n){let r;for(const o of n){if(o.value===e)return o;o.label===t&&(r=o)}return r}(t,n,e);if(o)r.text=o.label,r.value=o.value;else{const t=this.getDefaultSingleState(e);r.value=t.value,r.text=t.text}return r}interceptStateUpdateAfterValidation(e){const t=e.value===Ot&&this.state.text===Ct;this.skipNextValidation&&e.value!==this.state.value&&e.text!==this.state.text&&!t&&(e.value=this.state.value,e.text=this.state.text),this.skipNextValidation=!1}getValue(){return this.hasAllValue()?this.state.allValue?new Lt(this.state.allValue,this):this.state.options.map((e=>e.value)):this.state.value}getValueText(){return this.hasAllValue()?Ct:Array.isArray(this.state.text)?this.state.text.join(" + "):String(this.state.text)}hasAllValue(){const e=this.state.value;return e===Ot||Array.isArray(e)&&e[0]===Ot}getDefaultMultiState(e){return this.state.defaultToAll?{value:[Ot],text:[Ct]}:e.length>0?{value:[e[0].value],text:[e[0].label]}:{value:[],text:[]}}getDefaultSingleState(e){return this.state.defaultToAll?{value:Ot,text:Ct}:e.length>0?{value:e[0].value,text:e[0].label}:{value:"",text:""}}changeValueTo(e,t){if(e!==this.state.value||t!==this.state.text){if(t||(t=Array.isArray(e)?e.map((e=>this.findLabelTextForValue(e))):this.findLabelTextForValue(e)),Array.isArray(e)){if(0===e.length){const n=this.getDefaultMultiState(this.state.options);e=n.value,t=n.text}e[e.length-1]===Ot?(e=[Ot],t=[Ct]):e[0]===Ot&&e.length>1&&(e.shift(),Array.isArray(t)&&t.shift())}(0,fe.isEqual)(e,this.state.value)&&(0,fe.isEqual)(t,this.state.text)||(this.setStateHelper({value:e,text:t,loading:!1}),this.publishEvent(new dt(this),!0))}}findLabelTextForValue(e){if(e===Ot)return Ct;const t=this.state.options.find((t=>t.value===e));if(t)return t.label;const n=this.state.options.find((t=>t.label===e));return n?n.label:e}setStateHelper(e){_t(this,e)}getOptionsForSelect(e=!0){let t=this.state.options;return this.state.includeAll&&(t=[{value:Ot,label:Ct},...t]),e&&!Array.isArray(this.state.value)&&(t.find((e=>e.value===this.state.value))||(t=[{value:this.state.value,label:String(this.state.text)},...t])),t}refreshOptions(){this.getValueOptions({}).subscribe((e=>{this.updateValueGivenNewOptions(e)}))}}class Mt{constructor(e){this._sceneObject=e}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){if(this._sceneObject.state.skipUrlSync)return{};let e=null,t=this._sceneObject.state.value;return e=Array.isArray(t)?t.map(String):this._sceneObject.state.isMulti?[String(t)]:String(t),{[this.getKey()]:e}}updateFromUrl(e){let t=e[this.getKey()];var n;null!=t&&(this._sceneObject.state.includeAll&&(n=t,t=(0,fe.isArray)(n)&&n[0]===Ct?[Ot]:n===Ct?Ot:n),this._sceneObject.state.allValue&&this._sceneObject.state.allValue===t&&(t=Ot),this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0),this._sceneObject.changeValueTo(t))}}class Lt{constructor(e,t){this._value=e,this._variable=t}formatter(e){return e===ze.Text?Ct:e===ze.PercentEncode?bt.get(ze.PercentEncode).formatter(this._value,[],this._variable):e===ze.QueryParam?bt.get(ze.QueryParam).formatter(Ct,[],this._variable):this._value}}function Nt(e,t={}){if(e.state.$variables)for(const n of e.state.$variables.state.variables)n.state.skipUrlSync||t[n.state.name]||(t[n.state.name]=n);return e.parent&&Nt(e.parent,t),t}var jt=Object.defineProperty,Ft=Object.defineProperties,zt=Object.getOwnPropertyDescriptors,Vt=Object.getOwnPropertySymbols,$t=Object.prototype.hasOwnProperty,Ut=Object.prototype.propertyIsEnumerable,Wt=(e,t,n)=>t in e?jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ht=(0,c.getDisplayProcessor)();class Gt{constructor(e){this._urlQueryParams=e}formatter(e){if(!e)return this._urlQueryParams;const t=e.split(":");if("exclude"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams);for(const n of t[1].split(","))e.delete(n);return`?${e}`}if("include"===t[0]&&t.length>1){const e=new URLSearchParams(this._urlQueryParams),n=t[1].split(",");for(const t of e.keys())n.includes(t)||e.delete(t);return`?${e}`}return this._urlQueryParams}}const qt=new Map([[c.DataLinkBuiltInVars.includeVars,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){const e=Nt(this._sceneObject),t=bt.get(ze.QueryParam),n=[];for(const r of Object.keys(e)){const o=e[r];if(o instanceof Bt&&o.hasAllValue()&&!o.state.allValue){n.push(t.formatter(Ot,[],o));continue}const i=o.getValue();i&&(pt(i)?n.push(i.formatter(ze.QueryParam)):n.push(t.formatter(i,[],o)))}return new Dt(n.join("&"))}getValueText(){return""}}],[c.DataLinkBuiltInVars.keepTime,class{constructor(e,t){this.state={name:e,type:"url_variable"},this._sceneObject=t}getValue(){var e;const t=null==(e=ut(this._sceneObject).urlSync)?void 0:e.getUrlState();return"browser"===(null==t?void 0:t.timezone)&&(t.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone),new Dt(c.urlUtil.toUrlParams(t))}getValueText(){return""}}],["__value",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__value"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r)return this._match;const{frame:o,rowIndex:i,field:a,calculatedValue:s}=r.value;if(s)switch(e){case"numeric":case"raw":return s.numeric;case"time":return"";default:return(0,c.formattedValueToString)(s)}if(null==i)return this._match;if("time"===e){const e=o.fields.find((e=>e.type===c.FieldType.time));return e?e.values.get(i):void 0}if(!a)return this._match;const l=a.values.get(i);if("raw"===e)return l;const u=(null!=(n=a.display)?n:Ht)(l);return"numeric"===e?u.numeric:(0,c.formattedValueToString)(u)}getValueText(){return""}}],["__data",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__data"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r||!e)return this._match;const{frame:o,rowIndex:i}=r.value;if(void 0===i||void 0===e)return this._match;const a={name:o.name,refId:o.refId,fields:(0,c.getFieldDisplayValuesProxy)({frame:o,rowIndex:i})};return null!=(n=mt(e)(a))?n:""}getValueText(){return""}}],["__series",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__series"}}getValue(e){var t;const n=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!n||!e)return this._match;if("name"!==e)return this._match;const{frame:r,frameIndex:o}=n.value;return(0,c.getFrameDisplayName)(r,o)}getValueText(){return""}}],["__field",class{constructor(e,t,n,r){this._match=n,this._scopedVars=r,this.state={name:e,type:"__field"}}getValue(e){var t,n;const r=null==(t=this._scopedVars)?void 0:t.__dataContext;if(!r||!e)return this._match;if(void 0===e||""===e)return this._match;const{frame:o,field:i,data:a}=r.value,s=function(e,t,n){return new Proxy({},{get:(r,o)=>{return"name"===o?e.name:"displayName"===o?(0,c.getFieldDisplayName)(e,t,n):"labels"===o||"formattedLabels"===o?e.labels?(i=((e,t)=>{for(var n in t||(t={}))$t.call(t,n)&&Wt(e,n,t[n]);if(Vt)for(var n of Vt(t))Ut.call(t,n)&&Wt(e,n,t[n]);return e})({},e.labels),a={__values:Object.values(e.labels).sort().join(", "),toString:()=>(0,c.formatLabels)(e.labels,"",!0)},Ft(i,zt(a))):"":void 0;var i,a}})}(i,o,a);return null!=(n=mt(e)(s))?n:""}getValueText(){return""}}],["__url",class{constructor(e,t){this.state={name:e,type:"url_macro"}}getValue(e){var t;const n=u.locationService.getLocation(),r=null!=(t=u.config.appSubUrl)?t:"";switch(null!=e?e:""){case"params":return new Gt(n.search);case"path":return r+n.pathname;default:return r+n.pathname+n.search}}getValueText(){return""}}],["__from",Pt],["__to",Pt],["__timezone",class{constructor(e,t){this.state={name:e,type:"time_macro"},this._sceneObject=t}getValue(){const e=ut(this._sceneObject).getTimeZone();return"browser"===e?Intl.DateTimeFormat().resolvedOptions().timeZone:e}getValueText(){return this.getValue()}}],["__user",class{constructor(e,t){this.state={name:e,type:"user_macro"}}getValue(e){const t=u.config.bootData.user;switch(e){case"login":return t.login;case"email":return t.email;default:return String(t.id)}}getValueText(){return""}}],["__org",class{constructor(e,t){this.state={name:e,type:"org_macro"}}getValue(e){const t=u.config.bootData.user;return"name"===e?t.orgName:String(t.orgId)}getValueText(){return""}}],["__interval",Tt],["__interval_ms",Tt]]);function Yt(e,t,n,r,o){return t&&"string"==typeof t?(Rt.lastIndex=0,t.replace(Rt,((t,i,a,s,l,c,u)=>{const d=i||a||l,p=s||u||r,f=function(e,t,n,r){if(n&&n.hasOwnProperty(e)){const t=n[e];if(t)return function(e,t){return ft?(ft.state.name=e,ft.state.value=t):ft=new gt(e,t),ft}(e,t)}const o=he(e,r);if(o)return o;const i=qt.get(e);return i?new i(e,r,t,n):null}(d,t,n,e);if(!f)return o&&o.push({match:t,variableName:d,fieldPath:c,format:p,value:t,found:!1}),t;const h=function(e,t,n,r){if(null==n)return"";if(pt(n))return Yt(e,n.formatter(r));if(Array.isArray(n)||"object"!=typeof n||(n=`${n}`),"function"==typeof r)return r(n,{name:t.state.name,type:t.state.type,multi:t.state.isMulti,includeAll:t.state.includeAll});let o=[];r?(o=r.split(":"),o.length>1?(r=o[0],o=o.slice(1)):o=[]):r=ze.Glob;let i=bt.getIfExists(r);return i||(console.error(`Variable format ${r} not found. Using glob format as fallback.`),i=bt.get(ze.Glob)),i.formatter(n,o,t)}(e,f,f.getValue(c),p);return o&&o.push({match:t,variableName:d,fieldPath:c,format:p,value:h,found:h!==t}),h}))):null!=t?t:""}function Xt(e){return void 0!==e.useState}function Qt(e){return"enrichDataRequest"in e}function Zt(e){return"enrichFiltersRequest"in e}function Kt(e){return"isDataLayer"in e}function Jt(e){return t=>{const n=Gc.getQueryController(e.origin);return n?new O.Observable((r=>{e.cancel||(e.cancel=()=>r.complete()),n.queryStarted(e);let o=!1;const i=t.subscribe({next:t=>{o||t.state===Ve.Loading||(o=!0,n.queryCompleted(e)),r.next(t)},error:e=>r.error(e),complete:()=>{r.complete()}});return()=>{i.unsubscribe(),o||n.queryCompleted(e)}})):t}}function en(e){return new O.Observable((t=>{t.next({state:Ve.Loading}),(0,O.from)(e).pipe((0,O.map)((()=>({state:Ve.Done}))),(0,O.catchError)((()=>(t.next({state:Ve.Error}),[])))).subscribe({next:e=>t.next(e),complete:()=>t.complete()})}))}async function tn(e,t){if(null==e?void 0:e.uid){const t=de.get(e.uid);if(t)return t}if(e&&e.query)return e;const n=(0,u.getDataSourceSrv)().get(e,t);if(t.__sceneObject&&t.__sceneObject.value.valueOf()){const e=Gc.getQueryController(t.__sceneObject.value.valueOf());e&&e.state.enableProfiling&&en(n).pipe(Jt({type:"plugin",origin:t.__sceneObject.value.valueOf()})).subscribe((()=>{}))}return await n}class nn{constructor(){this._values=new Map}recordCurrentDependencyValuesForSceneObject(e){if(this.clearValues(),e.variableDependency)for(const t of e.variableDependency.getNames()){const n=Gc.lookupVariable(t,e);n&&this._values.set(n.state.name,n.getValue())}}cloneAndRecordCurrentValuesForSceneObject(e){const t=new nn;return t.recordCurrentDependencyValuesForSceneObject(e),t}clearValues(){this._values.clear()}hasValues(){return!!this._values}recordCurrentValue(e){this._values.set(e.state.name,e.getValue())}hasRecordedValue(e){return this._values.has(e.state.name)}hasValueChanged(e){return!(!this._values.has(e.state.name)||Ul(this._values.get(e.state.name),e.getValue()))}hasDependenciesChanged(e){if(!this._values)return!1;if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){const n=Gc.lookupVariable(t,e);if(!n)continue;const r=n.state.name;if(n&&this._values.has(r)&&!Ul(this._values.get(r),n.getValue()))return!0}return!1}}function rn(e){return"object"==typeof e&&"getExtraQueries"in e}var on=Object.defineProperty,an=Object.defineProperties,sn=Object.getOwnPropertyDescriptors,ln=Object.getOwnPropertySymbols,cn=Object.prototype.hasOwnProperty,un=Object.prototype.propertyIsEnumerable,dn=(e,t,n)=>t in e?on(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const pn=(e,t)=>(0,O.of)(t);var fn=Object.defineProperty,hn=Object.defineProperties,mn=Object.getOwnPropertyDescriptors,gn=Object.getOwnPropertySymbols,bn=Object.prototype.hasOwnProperty,vn=Object.prototype.propertyIsEnumerable,yn=(e,t,n)=>t in e?fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wn=(e,t)=>{for(var n in t||(t={}))bn.call(t,n)&&yn(e,n,t[n]);if(gn)for(var n of gn(t))vn.call(t,n)&&yn(e,n,t[n]);return e},Sn=(e,t)=>hn(e,mn(t));const En=0;function An(e){const t=e.getRoot();return Qt(t)?t.enrichDataRequest(e):null}let xn,Cn=new Set;const On=new Set;var In=n(2007),Rn=n(8449);function Dn(e,t="latest"){return Pn(e,t.replace(/\-.*/,""))}function Pn(e,t){const n={};for(const[r,o]of Object.entries(e))Tn(o)?n[r]=Pn(o,t):(kn(o,r),n[r]=_n(o,t));return n}function Tn(e){if("object"==typeof e){const[t]=Object.keys(e);return!(0,Rn.valid)(t)}return!1}function _n(e,t){let n,r=Object.keys(e).sort(Rn.compare);if("latest"===t)return e[r[r.length-1]];for(const e of r)(0,Rn.gte)(t,e)&&(n=e);return n||(n=r[r.length-1]),e[n]}function kn(e,t){if(!Object.keys(e).every((e=>(0,Rn.valid)(e))))throw new Error(`Invalid semver version: '${t}'`)}const Bn="8.5.0",Mn={RadioButton:{container:{"10.2.3":"data-testid radio-button"}},Breadcrumbs:{breadcrumb:{"9.4.0":e=>`data-testid ${e} breadcrumb`}},TimePicker:{openButton:{[Bn]:"data-testid TimePicker Open Button"},overlayContent:{"10.2.3":"data-testid TimePicker Overlay Content"},fromField:{"10.2.3":"data-testid Time Range from field",[Bn]:"Time Range from field"},toField:{"10.2.3":"data-testid Time Range to field",[Bn]:"Time Range to field"},applyTimeRange:{[Bn]:"data-testid TimePicker submit button"},copyTimeRange:{"10.4.0":"data-testid TimePicker copy button"},pasteTimeRange:{"10.4.0":"data-testid TimePicker paste button"},calendar:{label:{"10.2.3":"data-testid Time Range calendar",[Bn]:"Time Range calendar"},openButton:{"10.2.3":"data-testid Open time range calendar",[Bn]:"Open time range calendar"},closeButton:{"10.2.3":"data-testid Close time range Calendar",[Bn]:"Close time range Calendar"}},absoluteTimeRangeTitle:{[Bn]:"data-testid-absolute-time-range-narrow"}},DataSourcePermissions:{form:{"9.5.0":()=>'form[name="addPermission"]'},roleType:{"9.5.0":"Role to add new permission to"},rolePicker:{"9.5.0":"Built-in role picker"},permissionLevel:{"9.5.0":"Permission Level"}},DateTimePicker:{input:{"10.2.3":"data-testid date-time-input"}},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:{[Bn]:"Test Data Query scenario select container"},scenarioSelect:{[Bn]:"Test Data Query scenario select"},max:{[Bn]:"TestData max"},min:{[Bn]:"TestData min"},noise:{[Bn]:"TestData noise"},seriesCount:{[Bn]:"TestData series count"},spread:{[Bn]:"TestData spread"},startValue:{[Bn]:"TestData start value"},drop:{[Bn]:"TestData drop values"}}},DataSourceHttpSettings:{urlInput:{"10.4.0":"data-testid Datasource HTTP settings url",[Bn]:"Datasource HTTP settings url"}},Jaeger:{traceIDInput:{[Bn]:"Trace ID"}},Prometheus:{configPage:{connectionSettings:{[Bn]:"Data source connection URL"},manageAlerts:{"10.4.0":"prometheus-alerts-manager"},scrapeInterval:{"10.4.0":"data-testid scrape interval"},queryTimeout:{"10.4.0":"data-testid query timeout"},defaultEditor:{"10.4.0":"data-testid default editor"},disableMetricLookup:{"10.4.0":"disable-metric-lookup"},prometheusType:{"10.4.0":"data-testid prometheus type"},prometheusVersion:{"10.4.0":"data-testid prometheus version"},cacheLevel:{"10.4.0":"data-testid cache level"},incrementalQuerying:{"10.4.0":"prometheus-incremental-querying"},queryOverlapWindow:{"10.4.0":"data-testid query overlap window"},disableRecordingRules:{"10.4.0":"disable-recording-rules"},customQueryParameters:{"10.4.0":"data-testid custom query parameters"},httpMethod:{"10.4.0":"data-testid http method"},exemplarsAddButton:{"10.3.0":"data-testid Add exemplar config button",[Bn]:"Add exemplar config button"},internalLinkSwitch:{"10.3.0":"data-testid Internal link switch",[Bn]:"Internal link switch"},codeModeMetricNamesSuggestionLimit:{"11.1.0":"data-testid code mode metric names suggestion limit"}},queryEditor:{explain:{"10.4.0":"data-testid prometheus explain switch wrapper"},editorToggle:{"10.4.0":"data-testid QueryEditorModeToggle"},options:{"10.4.0":"data-testid prometheus options"},legend:{"10.4.0":"data-testid prometheus legend wrapper"},format:{"10.4.0":"data-testid prometheus format"},step:{"10.4.0":"prometheus-step"},type:{"10.4.0":"data-testid prometheus type"},exemplars:{"10.4.0":"prometheus-exemplars"},builder:{metricSelect:{"10.4.0":"data-testid metric select"},hints:{"10.4.0":"data-testid prometheus hints"},metricsExplorer:{"10.4.0":"data-testid metrics explorer"},queryAdvisor:{"10.4.0":"data-testid query advisor"}},code:{queryField:{"10.4.0":"data-testid prometheus query field"},metricsCountInfo:{"11.1.0":"data-testid metrics count disclaimer"},metricsBrowser:{openButton:{"10.4.0":"data-testid open metrics browser"},selectMetric:{"10.4.0":"data-testid select a metric"},seriesLimit:{"10.3.1":"data-testid series limit"},metricList:{"10.4.0":"data-testid metric list"},labelNamesFilter:{"10.4.0":"data-testid label names filter"},labelValuesFilter:{"10.4.0":"data-testid label values filter"},useQuery:{"10.4.0":"data-testid use query"},useAsRateQuery:{"10.4.0":"data-testid use as rate query"},validateSelector:{"10.4.0":"data-testid validate selector"},clear:{"10.4.0":"data-testid clear"}}}},exemplarMarker:{"10.3.0":"data-testid Exemplar marker",[Bn]:"Exemplar marker"},variableQueryEditor:{queryType:{"10.4.0":"data-testid query type"},labelnames:{metricRegex:{"10.4.0":"data-testid label names metric regex"}},labelValues:{labelSelect:{"10.4.0":"data-testid label values label select"}},metricNames:{metricRegex:{"10.4.0":"data-testid metric names metric regex"}},varQueryResult:{"10.4.0":"data-testid variable query result"},seriesQuery:{"10.4.0":"data-testid prometheus series query"},classicQuery:{"10.4.0":"data-testid prometheus classic query"}},annotations:{minStep:{"10.4.0":"prometheus-annotation-min-step"},title:{"10.4.0":"data-testid prometheus annotation title"},tags:{"10.4.0":"data-testid prometheus annotation tags"},text:{"10.4.0":"data-testid prometheus annotation text"},seriesValueAsTimestamp:{"10.4.0":"data-testid prometheus annotation series value as timestamp"}}}},Menu:{MenuComponent:{[Bn]:e=>`${e} menu`},MenuGroup:{[Bn]:e=>`${e} menu group`},MenuItem:{[Bn]:e=>`${e} menu item`},SubMenu:{container:{"10.3.0":"data-testid SubMenu container",[Bn]:"SubMenu container"},icon:{"10.3.0":"data-testid SubMenu icon",[Bn]:"SubMenu icon"}}},Panels:{Panel:{title:{[Bn]:e=>`data-testid Panel header ${e}`},content:{"11.1.0":"data-testid panel content"},headerItems:{"10.2.0":e=>`data-testid Panel header item ${e}`},menuItems:{"9.5.0":e=>`data-testid Panel menu item ${e}`},menu:{"9.5.0":e=>`data-testid Panel menu ${e}`},containerByTitle:{[Bn]:e=>`${e} panel`},headerCornerInfo:{[Bn]:e=>`Panel header ${e}`},status:{"10.2.0":e=>`data-testid Panel status ${e}`,[Bn]:e=>"Panel status"},loadingBar:{"10.0.0":()=>"Panel loading bar"},HoverWidget:{container:{"10.1.0":"data-testid hover-header-container",[Bn]:"hover-header-container"},dragIcon:{"10.0.0":"data-testid drag-icon"}},PanelDataErrorMessage:{"10.4.0":"data-testid Panel data error message"}},Visualization:{Graph:{container:{"9.5.0":"Graph container"},VisualizationTab:{legendSection:{[Bn]:"Legend section"}},Legend:{legendItemAlias:{[Bn]:e=>`gpl alias ${e}`},showLegendSwitch:{[Bn]:"gpl show legend"}},xAxis:{labels:{[Bn]:()=>"div.flot-x-axis > div.flot-tick-label"}}},BarGauge:{valueV2:{[Bn]:"data-testid Bar gauge value"}},PieChart:{svgSlice:{"10.3.0":"data testid Pie Chart Slice"}},Text:{container:{[Bn]:()=>".markdown-html"}},Table:{header:{[Bn]:"table header"},footer:{[Bn]:"table-footer"},body:{"10.2.0":"data-testid table body"}}}},VizLegend:{seriesName:{"10.3.0":e=>`data-testid VizLegend series ${e}`}},Drawer:{General:{title:{[Bn]:e=>`Drawer title ${e}`},expand:{[Bn]:"Drawer expand"},contract:{[Bn]:"Drawer contract"},close:{"10.3.0":"data-testid Drawer close",[Bn]:"Drawer close"},rcContentWrapper:{"9.4.0":()=>".rc-drawer-content-wrapper"},subtitle:{"10.4.0":"data-testid drawer subtitle"}},DashboardSaveDrawer:{saveButton:{"11.1.0":"data-testid Save dashboard drawer button"},saveAsButton:{"11.1.0":"data-testid Save as dashboard drawer button"},saveAsTitleInput:{"11.1.0":"Save dashboard title field"}}},PanelEditor:{General:{content:{"11.1.0":"data-testid Panel editor content","8.0.0":"Panel editor content"}},OptionsPane:{content:{"11.1.0":"data-testid Panel editor option pane content",[Bn]:"Panel editor option pane content"},select:{[Bn]:"Panel editor option pane select"},fieldLabel:{[Bn]:e=>`${e} field property editor`},fieldInput:{"11.0.0":e=>`data-testid Panel editor option pane field input ${e}`}},DataPane:{content:{"11.1.0":"data-testid Panel editor data pane content",[Bn]:"Panel editor data pane content"}},applyButton:{"9.2.0":"data-testid Apply changes and go back to dashboard","9.1.0":"Apply changes and go back to dashboard","8.0.0":"panel editor apply"},toggleVizPicker:{"10.0.0":"data-testid toggle-viz-picker","8.0.0":"toggle-viz-picker"},toggleVizOptions:{"10.1.0":"data-testid toggle-viz-options",[Bn]:"toggle-viz-options"},toggleTableView:{"11.1.0":"data-testid toggle-table-view",[Bn]:"toggle-table-view"},showZoomField:{"10.2.0":"Map controls Show zoom control field property editor"},showAttributionField:{"10.2.0":"Map controls Show attribution field property editor"},showScaleField:{"10.2.0":"Map controls Show scale field property editor"},showMeasureField:{"10.2.0":"Map controls Show measure tools field property editor"},showDebugField:{"10.2.0":"Map controls Show debug field property editor"},measureButton:{"9.2.0":"show measure tools"}},PanelInspector:{Data:{content:{[Bn]:"Panel inspector Data content"}},Stats:{content:{[Bn]:"Panel inspector Stats content"}},Json:{content:{"11.1.0":"data-testid Panel inspector Json content",[Bn]:"Panel inspector Json content"}},Query:{content:{[Bn]:"Panel inspector Query content"},refreshButton:{[Bn]:"Panel inspector Query refresh button"},jsonObjectKeys:{[Bn]:()=>".json-formatter-key"}}},Tab:{title:{"11.2.0":e=>`data-testid Tab ${e}`},active:{[Bn]:()=>'[class*="-activeTabStyle"]'}},RefreshPicker:{runButtonV2:{[Bn]:"data-testid RefreshPicker run button"},intervalButtonV2:{[Bn]:"data-testid RefreshPicker interval button"}},QueryTab:{content:{[Bn]:"Query editor tab content"},queryInspectorButton:{[Bn]:"Query inspector button"},queryHistoryButton:{"10.2.0":"data-testid query-history-button",[Bn]:"query-history-button"},addQuery:{"10.2.0":"data-testid query-tab-add-query",[Bn]:"Query editor add query button"},queryGroupTopSection:{"11.2.0":"data-testid query group top section"},addExpression:{"11.2.0":"data-testid query-tab-add-expression"}},QueryHistory:{queryText:{"9.0.0":"Query text"}},QueryEditorRows:{rows:{[Bn]:"Query editor row"}},QueryEditorRow:{actionButton:{"10.4.0":e=>`data-testid ${e}`},title:{[Bn]:e=>`Query editor row title ${e}`},container:{[Bn]:e=>`Query editor row ${e}`}},AlertTab:{content:{"10.2.3":"data-testid Alert editor tab content",[Bn]:"Alert editor tab content"}},AlertRules:{groupToggle:{"11.0.0":"data-testid group-collapse-toggle"},toggle:{"11.0.0":"data-testid collapse-toggle"},expandedContent:{"11.0.0":"data-testid expanded-content"},previewButton:{"11.1.0":"data-testid alert-rule preview-button"},ruleNameField:{"11.1.0":"data-testid alert-rule name-field"},newFolderButton:{"11.1.0":"data-testid alert-rule new-folder-button"},newFolderNameField:{"11.1.0":"data-testid alert-rule name-folder-name-field"},newFolderNameCreateButton:{"11.1.0":"data-testid alert-rule name-folder-name-create-button"},newEvaluationGroupButton:{"11.1.0":"data-testid alert-rule new-evaluation-group-button"},newEvaluationGroupName:{"11.1.0":"data-testid alert-rule new-evaluation-group-name"},newEvaluationGroupInterval:{"11.1.0":"data-testid alert-rule new-evaluation-group-interval"},newEvaluationGroupCreate:{"11.1.0":"data-testid alert-rule new-evaluation-group-create-button"},step:{"11.5.0":e=>`data-testid alert-rule step-${e}`},stepAdvancedModeSwitch:{"11.5.0":e=>`data-testid advanced-mode-switch step-${e}`}},Alert:{alertV2:{[Bn]:e=>`data-testid Alert ${e}`}},TransformTab:{content:{"10.1.0":"data-testid Transform editor tab content",[Bn]:"Transform editor tab content"},newTransform:{"10.1.0":e=>`data-testid New transform ${e}`},transformationEditor:{"10.1.0":e=>`data-testid Transformation editor ${e}`},transformationEditorDebugger:{"10.1.0":e=>`data-testid Transformation editor debugger ${e}`}},Transforms:{card:{"10.1.0":e=>`data-testid New transform ${e}`},disableTransformationButton:{"10.4.0":"data-testid Disable transformation button"},Reduce:{modeLabel:{"10.2.3":"data-testid Transform mode label",[Bn]:"Transform mode label"},calculationsLabel:{"10.2.3":"data-testid Transform calculations label",[Bn]:"Transform calculations label"}},SpatialOperations:{actionLabel:{"9.1.2":"root Action field property editor"},locationLabel:{"10.2.0":"root Location Mode field property editor"},location:{autoOption:{"9.1.2":"Auto location option"},coords:{option:{"9.1.2":"Coords location option"},latitudeFieldLabel:{"9.1.2":"root Latitude field field property editor"},longitudeFieldLabel:{"9.1.2":"root Longitude field field property editor"}},geohash:{option:{"9.1.2":"Geohash location option"},geohashFieldLabel:{"9.1.2":"root Geohash field field property editor"}},lookup:{option:{"9.1.2":"Lookup location option"},lookupFieldLabel:{"9.1.2":"root Lookup field field property editor"},gazetteerFieldLabel:{"9.1.2":"root Gazetteer field property editor"}}}},searchInput:{"10.2.3":"data-testid search transformations",[Bn]:"search transformations"},noTransformationsMessage:{"10.2.3":"data-testid no transformations message"},addTransformationButton:{"10.1.0":"data-testid add transformation button",[Bn]:"add transformation button"},removeAllTransformationsButton:{"10.4.0":"data-testid remove all transformations button"}},NavBar:{Configuration:{button:{"9.5.0":"Configuration"}},Toggle:{button:{"10.2.3":"data-testid Toggle menu",[Bn]:"Toggle menu"}},Reporting:{button:{"9.5.0":"Reporting"}}},NavMenu:{Menu:{"10.2.3":"data-testid navigation mega-menu"},item:{"9.5.0":"data-testid Nav menu item"}},NavToolbar:{container:{"9.4.0":"data-testid Nav toolbar"},commandPaletteTrigger:{"11.5.0":"data-testid Command palette trigger"},shareDashboard:{"11.1.0":"data-testid Share dashboard"},markAsFavorite:{"11.1.0":"data-testid Mark as favorite"},editDashboard:{editButton:{"11.1.0":"data-testid Edit dashboard button"},saveButton:{"11.1.0":"data-testid Save dashboard button"},exitButton:{"11.1.0":"data-testid Exit edit mode button"},settingsButton:{"11.1.0":"data-testid Dashboard settings"},addRowButton:{"11.1.0":"data-testid Add row button"},addLibraryPanelButton:{"11.1.0":"data-testid Add a panel from the panel library button"},addVisualizationButton:{"11.1.0":"data-testid Add new visualization menu item"},pastePanelButton:{"11.1.0":"data-testid Paste panel button"},discardChangesButton:{"11.1.0":"data-testid Discard changes button"},discardLibraryPanelButton:{"11.1.0":"data-testid Discard library panel button"},unlinkLibraryPanelButton:{"11.1.0":"data-testid Unlink library panel button"},saveLibraryPanelButton:{"11.1.0":"data-testid Save library panel button"},backToDashboardButton:{"11.1.0":"data-testid Back to dashboard button"}}},PageToolbar:{container:{[Bn]:()=>".page-toolbar"},item:{[Bn]:e=>`${e}`},itemButton:{"9.5.0":e=>`data-testid ${e}`}},QueryEditorToolbarItem:{button:{[Bn]:e=>`QueryEditor toolbar item button ${e}`}},BackButton:{backArrow:{"10.3.0":"data-testid Go Back",[Bn]:"Go Back"}},OptionsGroup:{group:{"11.1.0":e=>e?`data-testid Options group ${e}`:"data-testid Options group",[Bn]:e=>e?`Options group ${e}`:"Options group"},toggle:{"11.1.0":e=>e?`data-testid Options group ${e} toggle`:"data-testid Options group toggle",[Bn]:e=>e?`Options group ${e} toggle`:"Options group toggle"}},PluginVisualization:{item:{[Bn]:e=>`Plugin visualization item ${e}`},current:{[Bn]:()=>'[class*="-currentVisualizationItem"]'}},Select:{menu:{"11.5.0":"data-testid Select menu",[Bn]:"Select options menu"},option:{"11.1.0":"data-testid Select option",[Bn]:"Select option"},toggleAllOptions:{"11.3.0":"data-testid toggle all options"},input:{[Bn]:()=>'input[id*="time-options-input"]'},singleValue:{[Bn]:()=>'div[class*="-singleValue"]'}},FieldConfigEditor:{content:{[Bn]:"Field config editor content"}},OverridesConfigEditor:{content:{[Bn]:"Field overrides editor content"}},FolderPicker:{containerV2:{[Bn]:"data-testid Folder picker select container"},input:{"10.4.0":"data-testid folder-picker-input"}},ReadonlyFolderPicker:{container:{[Bn]:"data-testid Readonly folder picker select container"}},DataSourcePicker:{container:{"10.0.0":"data-testid Data source picker select container","8.0.0":"Data source picker select container"},inputV2:{"10.1.0":"data-testid Select a data source",[Bn]:"Select a data source"},dataSourceList:{"10.4.0":"data-testid Data source list dropdown"},advancedModal:{dataSourceList:{"10.4.0":"data-testid Data source list"},builtInDataSourceList:{"10.4.0":"data-testid Built in data source list"}}},TimeZonePicker:{containerV2:{[Bn]:"data-testid Time zone picker select container"},changeTimeSettingsButton:{"11.0.0":"data-testid Time zone picker Change time settings button"}},WeekStartPicker:{containerV2:{[Bn]:"data-testid Choose starting day of the week"},placeholder:{[Bn]:"Choose starting day of the week"}},TraceViewer:{spanBar:{"9.0.0":"data-testid SpanBar--wrapper"}},QueryField:{container:{"10.3.0":"data-testid Query field",[Bn]:"Query field"}},QueryBuilder:{queryPatterns:{"10.3.0":"data-testid Query patterns",[Bn]:"Query patterns"},labelSelect:{"10.3.0":"data-testid Select label",[Bn]:"Select label"},inputSelect:{"11.1.0":"data-testid Select label-input"},valueSelect:{"10.3.0":"data-testid Select value",[Bn]:"Select value"},matchOperatorSelect:{"10.3.0":"data-testid Select match operator",[Bn]:"Select match operator"}},ValuePicker:{button:{"10.3.0":e=>`data-testid Value picker button ${e}`},select:{"10.3.0":e=>`data-testid Value picker select ${e}`}},Search:{sectionV2:{[Bn]:"data-testid Search section"},itemsV2:{[Bn]:"data-testid Search items"},cards:{[Bn]:"data-testid Search cards"},collapseFolder:{[Bn]:e=>`data-testid Collapse folder ${e}`},expandFolder:{[Bn]:e=>`data-testid Expand folder ${e}`},dashboardItem:{[Bn]:e=>`data-testid Dashboard search item ${e}`},dashboardCard:{[Bn]:e=>`data-testid Search card ${e}`},folderHeader:{"9.3.0":e=>`data-testid Folder header ${e}`},folderContent:{"9.3.0":e=>`data-testid Folder content ${e}`},dashboardItems:{[Bn]:"data-testid Dashboard search item"}},DashboardLinks:{container:{[Bn]:"data-testid Dashboard link container"},dropDown:{[Bn]:"data-testid Dashboard link dropdown"},link:{[Bn]:"data-testid Dashboard link"}},LoadingIndicator:{icon:{"10.4.0":"data-testid Loading indicator",[Bn]:"Loading indicator"}},CallToActionCard:{buttonV2:{[Bn]:e=>`data-testid Call to action button ${e}`}},DataLinksContextMenu:{singleLink:{"10.3.0":"data-testid Data link",[Bn]:"Data link"}},CodeEditor:{container:{"10.2.3":"data-testid Code editor container",[Bn]:"Code editor container"}},ReactMonacoEditor:{editorLazy:{"11.1.0":"data-testid ReactMonacoEditor editorLazy"}},DashboardImportPage:{textarea:{[Bn]:"data-testid-import-dashboard-textarea"},submit:{[Bn]:"data-testid-load-dashboard"}},ImportDashboardForm:{name:{[Bn]:"data-testid-import-dashboard-title"},submit:{[Bn]:"data-testid-import-dashboard-submit"}},PanelAlertTabContent:{content:{"10.2.3":"data-testid Unified alert editor tab content",[Bn]:"Unified alert editor tab content"}},VisualizationPreview:{card:{[Bn]:e=>`data-testid suggestion-${e}`}},ColorSwatch:{name:{[Bn]:"data-testid-colorswatch"}},DashboardRow:{title:{[Bn]:e=>`data-testid dashboard-row-title-${e}`}},UserProfile:{profileSaveButton:{[Bn]:"data-testid-user-profile-save"},preferencesSaveButton:{[Bn]:"data-testid-shared-prefs-save"},orgsTable:{[Bn]:"data-testid-user-orgs-table"},sessionsTable:{[Bn]:"data-testid-user-sessions-table"},extensionPointTabs:{"10.2.3":"data-testid-extension-point-tabs"},extensionPointTab:{"10.2.3":e=>`data-testid-extension-point-tab-${e}`}},FileUpload:{inputField:{"9.0.0":"data-testid-file-upload-input-field"},fileNameSpan:{"9.0.0":"data-testid-file-upload-file-name"}},DebugOverlay:{wrapper:{"9.2.0":"debug-overlay"}},OrgRolePicker:{input:{"9.5.0":"Role"}},AnalyticsToolbarButton:{button:{"9.5.0":"Dashboard insights"}},Variables:{variableOption:{"9.5.0":"data-testid variable-option"},variableLinkWrapper:{"11.1.1":"data-testid variable-link-wrapper"}},Annotations:{annotationsTypeInput:{"11.1.0":"data-testid annotations-type-input",[Bn]:"annotations-type-input"},annotationsChoosePanelInput:{"11.1.0":"data-testid choose-panels-input",[Bn]:"choose-panels-input"},editor:{testButton:{"11.0.0":"data-testid annotations-test-button"},resultContainer:{"11.0.0":"data-testid annotations-query-result-container"}}},Tooltip:{container:{"10.2.0":"data-testid tooltip"}},ReturnToPrevious:{buttonGroup:{"11.0.0":"data-testid dismissable button group"},backButton:{"11.0.0":"data-testid back"},dismissButton:{"11.0.0":"data-testid dismiss"}},SQLQueryEditor:{selectColumn:{"11.0.0":"data-testid select-column"},selectColumnInput:{"11.0.0":"data-testid select-column-input"},selectFunctionParameter:{"11.0.0":e=>`data-testid select-function-parameter-${e}`},selectAggregation:{"11.0.0":"data-testid select-aggregation"},selectAggregationInput:{"11.0.0":"data-testid select-aggregation-input"},selectAlias:{"11.0.0":"data-testid select-alias"},selectAliasInput:{"11.0.0":"data-testid select-alias-input"},selectInputParameter:{"11.0.0":"data-testid select-input-parameter"},filterConjunction:{"11.0.0":"data-testid filter-conjunction"},filterField:{"11.0.0":"data-testid filter-field"},filterOperator:{"11.0.0":"data-testid filter-operator"},headerTableSelector:{"11.0.0":"data-testid header-table-selector"},headerFilterSwitch:{"11.0.0":"data-testid header-filter-switch"},headerGroupSwitch:{"11.0.0":"data-testid header-group-switch"},headerOrderSwitch:{"11.0.0":"data-testid header-order-switch"},headerPreviewSwitch:{"11.0.0":"data-testid header-preview-switch"}},EntityNotFound:{container:{"11.2.0":"data-testid entity-not-found"}},Portal:{container:{"11.5.0":"data-testid portal-container"}}},Ln={pages:Dn({Alerting:{AddAlertRule:{url:{"10.1.0":"/alerting/new/alerting",[Bn]:"/alerting/new"}},EditAlertRule:{url:{[Bn]:e=>`alerting/${e}/edit`}}},Login:{url:{[Bn]:"/login"},username:{"10.2.3":"data-testid Username input field",[Bn]:"Username input field"},password:{"10.2.3":"data-testid Password input field",[Bn]:"Password input field"},submit:{"10.2.3":"data-testid Login button",[Bn]:"Login button"},skip:{"10.2.3":"data-testid Skip change password button"}},PasswordlessLogin:{url:{[Bn]:"/login/passwordless/authenticate"},email:{"10.2.3":"data-testid Email input field",[Bn]:"Email input field"},submit:{"10.2.3":"data-testid PasswordlessLogin button",[Bn]:"PasswordlessLogin button"}},Home:{url:{[Bn]:"/"}},DataSource:{name:{"10.3.0":"data-testid Data source settings page name input field",[Bn]:"Data source settings page name input field"},delete:{[Bn]:"Data source settings page Delete button"},readOnly:{"10.3.0":"data-testid Data source settings page read only message",[Bn]:"Data source settings page read only message"},saveAndTest:{"10.0.0":"data-testid Data source settings page Save and Test button",[Bn]:"Data source settings page Save and Test button"},alert:{"10.3.0":"data-testid Data source settings page Alert",[Bn]:"Data source settings page Alert"}},DataSources:{url:{[Bn]:"/datasources"},dataSources:{[Bn]:e=>`Data source list item ${e}`}},EditDataSource:{url:{"9.5.0":e=>`/datasources/edit/${e}`},settings:{"9.5.0":"Datasource settings page basic settings"}},AddDataSource:{url:{[Bn]:"/datasources/new"},dataSourcePluginsV2:{"9.3.1":e=>`Add new data source ${e}`,[Bn]:e=>`Data source plugin item ${e}`}},ConfirmModal:{delete:{"10.0.0":"data-testid Confirm Modal Danger Button",[Bn]:"Confirm Modal Danger Button"}},AddDashboard:{url:{[Bn]:"/dashboard/new"},itemButton:{"9.5.0":e=>`data-testid ${e}`},addNewPanel:{"11.1.0":"data-testid Add new panel","8.0.0":"Add new panel",[Bn]:"Add new panel"},itemButtonAddViz:{[Bn]:"Add new visualization menu item"},addNewRow:{"11.1.0":"data-testid Add new row",[Bn]:"Add new row"},addNewPanelLibrary:{"11.1.0":"data-testid Add new panel from panel library",[Bn]:"Add new panel from panel library"},Settings:{Annotations:{List:{url:{[Bn]:"/dashboard/new?orgId=1&editview=annotations"}},Edit:{url:{[Bn]:e=>`/dashboard/new?editview=annotations&editIndex=${e}`}}},Variables:{List:{url:{"11.3.0":"/dashboard/new?orgId=1&editview=variables",[Bn]:"/dashboard/new?orgId=1&editview=templating"}},Edit:{url:{"11.3.0":e=>`/dashboard/new?orgId=1&editview=variables&editIndex=${e}`,[Bn]:e=>`/dashboard/new?orgId=1&editview=templating&editIndex=${e}`}}}}},Dashboard:{url:{[Bn]:e=>`/d/${e}`},DashNav:{nav:{[Bn]:"Dashboard navigation"},navV2:{[Bn]:"data-testid Dashboard navigation"},publicDashboardTag:{"9.1.0":"data-testid public dashboard tag"},shareButton:{"10.4.0":"data-testid share-button"},scrollContainer:{"11.1.0":"data-testid Dashboard canvas scroll container"},newShareButton:{container:{"11.1.0":"data-testid new share button"},shareLink:{"11.1.0":"data-testid new share link-button"},arrowMenu:{"11.1.0":"data-testid new share button arrow menu"},menu:{container:{"11.1.0":"data-testid new share button menu"},shareInternally:{"11.1.0":"data-testid new share button share internally"},shareExternally:{"11.1.1":"data-testid new share button share externally"},shareSnapshot:{"11.2.0":"data-testid new share button share snapshot"}}},NewExportButton:{container:{"11.2.0":"data-testid new export button"},arrowMenu:{"11.2.0":"data-testid new export button arrow menu"},Menu:{container:{"11.2.0":"data-testid new export button menu"},exportAsJson:{"11.2.0":"data-testid new export button export as json"}}},playlistControls:{prev:{"11.0.0":"data-testid playlist previous dashboard button"},stop:{"11.0.0":"data-testid playlist stop dashboard button"},next:{"11.0.0":"data-testid playlist next dashboard button"}}},Controls:{"11.1.0":"data-testid dashboard controls"},SubMenu:{submenu:{[Bn]:"Dashboard submenu"},submenuItem:{[Bn]:"data-testid template variable"},submenuItemLabels:{[Bn]:e=>`data-testid Dashboard template variables submenu Label ${e}`},submenuItemValueDropDownValueLinkTexts:{[Bn]:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`},submenuItemValueDropDownDropDown:{[Bn]:"Variable options"},submenuItemValueDropDownOptionTexts:{[Bn]:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`},Annotations:{annotationsWrapper:{"10.0.0":"data-testid annotation-wrapper"},annotationLabel:{"10.0.0":e=>`data-testid Dashboard annotations submenu Label ${e}`},annotationToggle:{"10.0.0":e=>`data-testid Dashboard annotations submenu Toggle ${e}`}}},Settings:{Actions:{close:{"9.5.0":"data-testid dashboard-settings-close"}},General:{deleteDashBoard:{"11.1.0":"data-testid Dashboard settings page delete dashboard button"},sectionItems:{[Bn]:e=>`Dashboard settings section item ${e}`},saveDashBoard:{[Bn]:"Dashboard settings aside actions Save button"},saveAsDashBoard:{[Bn]:"Dashboard settings aside actions Save As button"},title:{"11.2.0":"General"}},Annotations:{Edit:{urlParams:{[Bn]:e=>`editview=annotations&editIndex=${e}`}},List:{url:{[Bn]:e=>`/d/${e}?editview=annotations`},addAnnotationCTAV2:{[Bn]:"data-testid Call to action button Add annotation query"},annotations:{"10.4.0":"data-testid list-annotations"}},Settings:{name:{"11.1.0":"data-testid Annotations settings name input",[Bn]:"Annotations settings name input"}},NewAnnotation:{panelFilterSelect:{"10.0.0":"data-testid annotations-panel-filter"},showInLabel:{"11.1.0":"data-testid show-in-label"},previewInDashboard:{"10.0.0":"data-testid annotations-preview"},delete:{"10.4.0":"data-testid annotations-delete"},apply:{"10.4.0":"data-testid annotations-apply"},enable:{"10.4.0":"data-testid annotation-enable"},hide:{"10.4.0":"data-testid annotation-hide"}}},Variables:{List:{url:{"11.3.0":e=>`/d/${e}?editview=variables`,[Bn]:e=>`/d/${e}?editview=templating`},addVariableCTAV2:{[Bn]:"data-testid Call to action button Add variable"},newButton:{[Bn]:"Variable editor New variable button"},table:{[Bn]:"Variable editor Table"},tableRowNameFields:{[Bn]:e=>`Variable editor Table Name field ${e}`},tableRowDefinitionFields:{"10.1.0":e=>`Variable editor Table Definition field ${e}`},tableRowArrowUpButtons:{[Bn]:e=>`Variable editor Table ArrowUp button ${e}`},tableRowArrowDownButtons:{[Bn]:e=>`Variable editor Table ArrowDown button ${e}`},tableRowDuplicateButtons:{[Bn]:e=>`Variable editor Table Duplicate button ${e}`},tableRowRemoveButtons:{[Bn]:e=>`Variable editor Table Remove button ${e}`}},Edit:{urlParams:{"11.3.0":e=>`editview=variables&editIndex=${e}`,[Bn]:e=>`editview=templating&editIndex=${e}`},General:{headerLink:{[Bn]:"Variable editor Header link"},modeLabelNew:{[Bn]:"Variable editor Header mode New"},modeLabelEdit:{[Bn]:"Variable editor Header mode Edit"},generalNameInput:{[Bn]:"Variable editor Form Name field"},generalNameInputV2:{[Bn]:"data-testid Variable editor Form Name field"},generalTypeSelect:{[Bn]:"Variable editor Form Type select"},generalTypeSelectV2:{[Bn]:"data-testid Variable editor Form Type select"},generalLabelInput:{[Bn]:"Variable editor Form Label field"},generalLabelInputV2:{[Bn]:"data-testid Variable editor Form Label field"},generalHideSelect:{[Bn]:"Variable editor Form Hide select"},generalHideSelectV2:{[Bn]:"data-testid Variable editor Form Hide select"},selectionOptionsAllowCustomValueSwitch:{[Bn]:"data-testid Variable editor Form Allow Custom Value switch"},selectionOptionsMultiSwitch:{"10.4.0":"data-testid Variable editor Form Multi switch",[Bn]:"Variable editor Form Multi switch"},selectionOptionsIncludeAllSwitch:{"10.4.0":"data-testid Variable editor Form IncludeAll switch",[Bn]:"Variable editor Form IncludeAll switch"},selectionOptionsCustomAllInput:{"10.4.0":"data-testid Variable editor Form IncludeAll field",[Bn]:"Variable editor Form IncludeAll field"},previewOfValuesOption:{"10.4.0":"data-testid Variable editor Preview of Values option",[Bn]:"Variable editor Preview of Values option"},submitButton:{"10.4.0":"data-testid Variable editor Run Query button",[Bn]:"Variable editor Submit button"},applyButton:{"9.3.0":"data-testid Variable editor Apply button"}},QueryVariable:{queryOptionsDataSourceSelect:{"10.4.0":"data-testid Select a data source","10.0.0":"data-testid Data source picker select container",[Bn]:"Data source picker select container"},queryOptionsRefreshSelect:{[Bn]:"Variable editor Form Query Refresh select"},queryOptionsRefreshSelectV2:{[Bn]:"data-testid Variable editor Form Query Refresh select"},queryOptionsRegExInput:{[Bn]:"Variable editor Form Query RegEx field"},queryOptionsRegExInputV2:{[Bn]:"data-testid Variable editor Form Query RegEx field"},queryOptionsSortSelect:{[Bn]:"Variable editor Form Query Sort select"},queryOptionsSortSelectV2:{[Bn]:"data-testid Variable editor Form Query Sort select"},queryOptionsQueryInput:{"10.4.0":"data-testid Variable editor Form Default Variable Query Editor textarea"},valueGroupsTagsEnabledSwitch:{[Bn]:"Variable editor Form Query UseTags switch"},valueGroupsTagsTagsQueryInput:{[Bn]:"Variable editor Form Query TagsQuery field"},valueGroupsTagsTagsValuesQueryInput:{[Bn]:"Variable editor Form Query TagsValuesQuery field"}},ConstantVariable:{constantOptionsQueryInput:{[Bn]:"Variable editor Form Constant Query field"},constantOptionsQueryInputV2:{[Bn]:"data-testid Variable editor Form Constant Query field"}},DatasourceVariable:{datasourceSelect:{[Bn]:"data-testid datasource variable datasource type"}},TextBoxVariable:{textBoxOptionsQueryInput:{[Bn]:"Variable editor Form TextBox Query field"},textBoxOptionsQueryInputV2:{[Bn]:"data-testid Variable editor Form TextBox Query field"}},CustomVariable:{customValueInput:{[Bn]:"data-testid custom-variable-input"}},IntervalVariable:{intervalsValueInput:{[Bn]:"data-testid interval variable intervals input"},autoEnabledCheckbox:{"10.4.0":"data-testid interval variable auto value checkbox"},stepCountIntervalSelect:{"10.4.0":"data-testid interval variable step count input"},minIntervalInput:{"10.4.0":"data-testid interval variable mininum interval input"}},GroupByVariable:{dataSourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid group by variable info text"},modeToggle:{"10.4.0":"data-testid group by variable mode toggle"}},AdHocFiltersVariable:{datasourceSelect:{"10.4.0":"data-testid Select a data source"},infoText:{"10.4.0":"data-testid ad-hoc filters variable info text"},modeToggle:{"11.0.0":"data-testid ad-hoc filters variable mode toggle"}}}}},Annotations:{marker:{"10.0.0":"data-testid annotation-marker"}},Rows:{Repeated:{ConfigSection:{warningMessage:{"10.2.0":"data-testid Repeated rows warning message"}}}}},Dashboards:{url:{[Bn]:"/dashboards"},dashboards:{"10.2.0":e=>`Dashboard search item ${e}`}},SaveDashboardAsModal:{newName:{"10.2.0":"Save dashboard title field"},save:{"10.2.0":"Save dashboard button"}},SaveDashboardModal:{save:{"10.2.0":"Dashboard settings Save Dashboard Modal Save button"},saveVariables:{"10.2.0":"Dashboard settings Save Dashboard Modal Save variables checkbox"},saveTimerange:{"10.2.0":"Dashboard settings Save Dashboard Modal Save timerange checkbox"},saveRefresh:{"11.1.0":"Dashboard settings Save Dashboard Modal Save refresh checkbox"}},SharePanelModal:{linkToRenderedImage:{[Bn]:"Link to rendered image"}},ShareDashboardModal:{PublicDashboard:{WillBePublicCheckbox:{"9.1.0":"data-testid public dashboard will be public checkbox"},LimitedDSCheckbox:{"9.1.0":"data-testid public dashboard limited datasources checkbox"},CostIncreaseCheckbox:{"9.1.0":"data-testid public dashboard cost may increase checkbox"},PauseSwitch:{"9.5.0":"data-testid public dashboard pause switch"},EnableAnnotationsSwitch:{"9.3.0":"data-testid public dashboard on off switch for annotations"},CreateButton:{"9.5.0":"data-testid public dashboard create button"},DeleteButton:{"9.3.0":"data-testid public dashboard delete button"},CopyUrlInput:{"9.1.0":"data-testid public dashboard copy url input"},CopyUrlButton:{"9.1.0":"data-testid public dashboard copy url button"},SettingsDropdown:{"10.1.0":"data-testid public dashboard settings dropdown"},TemplateVariablesWarningAlert:{"9.1.0":"data-testid public dashboard disabled template variables alert"},UnsupportedDataSourcesWarningAlert:{"9.5.0":"data-testid public dashboard unsupported data sources alert"},NoUpsertPermissionsWarningAlert:{"9.5.0":"data-testid public dashboard no upsert permissions alert"},EnableTimeRangeSwitch:{"9.4.0":"data-testid public dashboard on off switch for time range"},EmailSharingConfiguration:{Container:{"9.5.0":"data-testid email sharing config container"},ShareType:{"9.5.0":"data-testid public dashboard share type"},EmailSharingInput:{"9.5.0":"data-testid public dashboard email sharing input"},EmailSharingInviteButton:{"9.5.0":"data-testid public dashboard email sharing invite button"},EmailSharingList:{"9.5.0":"data-testid public dashboard email sharing list"},DeleteEmail:{"9.5.0":"data-testid public dashboard delete email button"},ReshareLink:{"9.5.0":"data-testid public dashboard reshare link button"}}},SnapshotScene:{url:{"11.1.0":e=>`/dashboard/snapshot/${e}`},PublishSnapshot:{"11.1.0":"data-testid publish snapshot button"},CopyUrlButton:{"11.1.0":"data-testid snapshot copy url button"},CopyUrlInput:{"11.1.0":"data-testid snapshot copy url input"}}},ShareDashboardDrawer:{ShareInternally:{container:{"11.3.0":"data-testid share internally drawer container"},lockTimeRangeSwitch:{"11.3.0":"data-testid share internally lock time range switch"},shortenUrlSwitch:{"11.3.0":"data-testid share internally shorten url switch"},copyUrlButton:{"11.3.0":"data-testid share internally copy url button"},SharePanel:{preview:{"11.5.0":"data-testid share panel internally image generation preview"},widthInput:{"11.5.0":"data-testid share panel internally width input"},heightInput:{"11.5.0":"data-testid share panel internally height input"},scaleFactorInput:{"11.5.0":"data-testid share panel internally scale factor input"},generateImageButton:{"11.5.0":"data-testid share panel internally generate image button"},downloadImageButton:{"11.5.0":"data-testid share panel internally download image button"}}},ShareExternally:{container:{"11.3.0":"data-testid share externally drawer container"},publicAlert:{"11.3.0":"data-testid public share alert"},emailSharingAlert:{"11.3.0":"data-testid email share alert"},shareTypeSelect:{"11.3.0":"data-testid share externally share type select"},Creation:{PublicShare:{createButton:{"11.3.0":"data-testid public share dashboard create button"},cancelButton:{"11.3.0":"data-testid public share dashboard cancel button"}},EmailShare:{createButton:{"11.3.0":"data-testid email share dashboard create button"},cancelButton:{"11.3.0":"data-testid email share dashboard cancel button"}},willBePublicCheckbox:{"11.3.0":"data-testid share dashboard will be public checkbox"}},Configuration:{enableTimeRangeSwitch:{"11.3.0":"data-testid share externally enable time range switch"},enableAnnotationsSwitch:{"11.3.0":"data-testid share externally enable annotations switch"},copyUrlButton:{"11.3.0":"data-testid share externally copy url button"},revokeAccessButton:{"11.3.0":"data-testid share externally revoke access button"},toggleAccessButton:{"11.3.0":"data-testid share externally pause or resume access button"}}},ShareSnapshot:{url:{"11.3.0":e=>`/dashboard/snapshot/${e}`},container:{"11.3.0":"data-testid share snapshot drawer container"},publishSnapshot:{"11.3.0":"data-testid share snapshot publish button"},copyUrlButton:{"11.3.0":"data-testid share snapshot copy url button"}}},ExportDashboardDrawer:{ExportAsJson:{container:{"11.3.0":"data-testid export as json drawer container"},codeEditor:{"11.3.0":"data-testid export as json code editor"},exportExternallyToggle:{"11.3.0":"data-testid export as json externally switch"},saveToFileButton:{"11.3.0":"data-testid export as json save to file button"},copyToClipboardButton:{"11.3.0":"data-testid export as json copy to clipboard button"},cancelButton:{"11.3.0":"data-testid export as json cancel button"}}},PublicDashboard:{page:{"9.5.0":"public-dashboard-page"},NotAvailable:{container:{"9.5.0":"public-dashboard-not-available"},title:{"9.5.0":"public-dashboard-title"},pausedDescription:{"9.5.0":"public-dashboard-paused-description"}},footer:{"11.0.0":"public-dashboard-footer"}},PublicDashboardScene:{loadingPage:{"11.0.0":"public-dashboard-scene-loading-page"},page:{"11.0.0":"public-dashboard-scene-page"},controls:{"11.0.0":"public-dashboard-controls"}},RequestViewAccess:{form:{"9.5.0":"request-view-access-form"},recipientInput:{"9.5.0":"request-view-access-recipient-input"},submitButton:{"9.5.0":"request-view-access-submit-button"}},PublicDashboardConfirmAccess:{submitButton:{"10.2.0":"data-testid confirm-access-submit-button"}},Explore:{url:{[Bn]:"/explore"},General:{container:{[Bn]:"data-testid Explore"},graph:{[Bn]:"Explore Graph"},table:{[Bn]:"Explore Table"},scrollView:{"9.0.0":"data-testid explorer scroll view"}},QueryHistory:{container:{"11.1.0":"data-testid QueryHistory"}}},SoloPanel:{url:{[Bn]:e=>`/d-solo/${e}`}},PluginsList:{page:{[Bn]:"Plugins list page"},list:{[Bn]:"Plugins list"},listItem:{[Bn]:"Plugins list item"},signatureErrorNotice:{"10.3.0":"data-testid Unsigned plugins notice",[Bn]:"Unsigned plugins notice"}},PluginPage:{page:{[Bn]:"Plugin page"},signatureInfo:{"10.3.0":"data-testid Plugin signature info",[Bn]:"Plugin signature info"},disabledInfo:{"10.3.0":"data-testid Plugin disabled info",[Bn]:"Plugin disabled info"}},PlaylistForm:{name:{[Bn]:"Playlist name"},interval:{[Bn]:"Playlist interval"},itemDelete:{"10.2.0":"data-testid playlist-form-delete-item"}},BrowseDashboards:{table:{body:{"10.2.0":"data-testid browse-dashboards-table"},row:{"10.2.0":e=>`data-testid browse dashboards row ${e}`},checkbox:{"10.0.0":e=>`data-testid ${e} checkbox`}},NewFolderForm:{form:{"10.2.0":"data-testid new folder form"},nameInput:{"10.2.0":"data-testid new-folder-name-input"},createButton:{"10.2.0":"data-testid new-folder-create-button"}}},Search:{url:{"9.3.0":"/?search=openn"},FolderView:{url:{"9.3.0":"/?search=open&layout=folders"}}},PublicDashboards:{ListItem:{linkButton:{"9.3.0":"public-dashboard-link-button"},configButton:{"9.3.0":"public-dashboard-configuration-button"},trashcanButton:{"9.3.0":"public-dashboard-remove-button"},pauseSwitch:{"10.1.0":"data-testid public dashboard pause switch"}}},UserListPage:{tabs:{allUsers:{"10.0.0":"data-testid all-users-tab"},orgUsers:{"10.0.0":"data-testid org-users-tab"},anonUserDevices:{"10.2.3":"data-testid anon-user-devices-tab"},publicDashboardsUsers:{"10.0.0":"data-testid public-dashboards-users-tab"},users:{"10.0.0":"data-testid users-tab"}},org:{url:{"10.2.0":"/admin/users","9.5.0":"/org/users"}},admin:{url:{"9.5.0":"/admin/users"}},publicDashboards:{container:{"11.1.0":"data-testid public-dashboards-users-list"}},UserListAdminPage:{container:{"10.0.0":"data-testid user-list-admin-page"}},UsersListPage:{container:{"10.0.0":"data-testid users-list-page"}},UserAnonListPage:{container:{"10.4.0":"data-testid user-anon-list-page"}},UsersListPublicDashboardsPage:{container:{"10.0.0":"data-testid users-list-public-dashboards-page"},DashboardsListModal:{listItem:{"10.0.0":e=>`data-testid dashboards-list-item-${e}`}}}},ProfilePage:{url:{"10.2.0":"/profile"}},Plugin:{url:{[Bn]:e=>`/plugins/${e}`}}}),components:Dn(Mn)};var Nn=n(6089);function jn(e,t=!1){let n=e;t&&(n=[{value:Ot,label:Ct},...n]);const r=rc(n.map((e=>e.label)));return e=>r(e).map((e=>n[e]))}var Fn=Object.defineProperty,zn=Object.defineProperties,Vn=Object.getOwnPropertyDescriptors,$n=Object.getOwnPropertySymbols,Un=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,Hn=(e,t,n)=>t in e?Fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Gn=()=>!0,qn=e=>"$__all"!==e.value,Yn=(e,t)=>e.length===t.filter(qn).length?In.ToggleAllState.allSelected:0===e.length||1===e.length&&e[0]&&"$__all"===e[0].value?In.ToggleAllState.noneSelected:In.ToggleAllState.indeterminate;function Xn({model:e}){const{value:t,text:n,key:r,options:o,includeAll:a,isReadOnly:l,allowCustomValue:c=!0}=e.useState(),[u,d]=(0,i.useState)(""),[p,f]=(0,i.useState)(!1),h=function(e,t){return{value:e,label:null!=t?t:String(e)}}(t,String(n)),m=Gc.getQueryController(e),g=(0,i.useMemo)((()=>jn(o,a)),[o,a])(u);return s().createElement(In.Select,{id:r,isValidNewOption:e=>e.trim().length>0,placeholder:"Select value",width:"auto",disabled:l,value:h,inputValue:u,allowCustomValue:c,virtualized:!0,filterOption:Gn,tabSelectsValue:!1,onInputChange:(t,{action:n})=>"input-change"===n?(d(t),e.onSearchChange&&e.onSearchChange(t),t):t,onOpenMenu:()=>{p&&d(String(n))},onCloseMenu:()=>{d("")},options:g,"data-testid":Ln.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${t}`),onChange:t=>{e.changeValueTo(t.value,t.label),null==m||m.startProfile(e),p!==t.__isNew__&&f(t.__isNew__)}})}function Qn({model:e}){const{value:t,options:n,key:r,maxVisibleValues:o,noValueOnClear:a,includeAll:l,isReadOnly:c,allowCustomValue:u=!0}=e.useState(),d=(0,i.useMemo)((()=>(0,fe.isArray)(t)?t:[t]),[t]),[p,f]=(0,i.useState)(d),[h,m]=(0,i.useState)(""),g=Gc.getQueryController(e),b=(0,i.useMemo)((()=>jn(n,l)),[n,l]);(0,i.useEffect)((()=>{f(d)}),[d]);const v=n.length>0?"Select value":"",y=b(h);return s().createElement(In.MultiSelect,{id:r,placeholder:v,width:"auto",inputValue:h,disabled:c,value:p,noMultiValueWrap:!0,maxVisibleValues:null!=o?o:5,tabSelectsValue:!1,virtualized:!0,allowCustomValue:u,toggleAllOptions:{enabled:!0,optionsFilter:qn,determineToggleAllState:Yn},options:y,closeMenuOnSelect:!1,components:{Option:Zn},isClearable:!0,hideSelectedOptions:!1,onInputChange:(t,{action:n})=>"input-change"===n?(m(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===n?(m(""),""):h,onBlur:()=>{e.changeValueTo(p),null==g||g.startProfile(e)},filterOption:Gn,"data-testid":Ln.pages.Dashboard.SubMenu.submenuItemValueDropDownValueLinkTexts(`${p}`),onChange:(t,n)=>{"clear"===n.action&&a&&e.changeValueTo([]),f(t.map((e=>e.value)))}})}const Zn=({children:e,data:t,innerProps:n,innerRef:r,isFocused:o,isSelected:i,indeterminate:a,renderOptionLabel:l})=>{var c;const u=((e,t)=>{var n={};for(var r in e)Un.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&$n)for(var r of $n(e))t.indexOf(r)<0&&Wn.call(e,r)&&(n[r]=e[r]);return n})(n,["onMouseMove","onMouseOver"]),d=(0,In.useTheme2)(),p=(0,In.getSelectStyles)(d),f=(0,In.useStyles2)(Kn);return s().createElement("div",(h=((e,t)=>{for(var n in t||(t={}))Un.call(t,n)&&Hn(e,n,t[n]);if($n)for(var n of $n(t))Wn.call(t,n)&&Hn(e,n,t[n]);return e})({ref:r,className:(0,Nn.cx)(p.option,o&&p.optionFocused)},u),m={"data-testid":"data-testid Select option",title:t.title},zn(h,Vn(m))),s().createElement("div",{className:f.checkbox},s().createElement(In.Checkbox,{indeterminate:a,value:i})),s().createElement("div",{className:p.optionBody,"data-testid":Ln.pages.Dashboard.SubMenu.submenuItemValueDropDownOptionTexts(null!=(c=t.label)?c:String(t.value))},s().createElement("span",null,e)));var h,m};Zn.displayName="SelectMenuOptions";const Kn=e=>({checkbox:(0,Nn.css)({marginRight:e.spacing(2)})});function Jn(e){return e.state.isMulti?s().createElement(Qn,{model:e}):s().createElement(Xn,{model:e})}class er{constructor(e){this._sceneObject=e}getKey(){return`var-${this._sceneObject.state.name}`}getKeys(){return this._sceneObject.state.skipUrlSync?[]:[this.getKey()]}getUrlState(){return this._sceneObject.state.skipUrlSync?{}:{[this.getKey()]:(e=this._sceneObject.state.value,t=this._sceneObject.state.text,e=Array.isArray(e)?e:[e],t=Array.isArray(t)?t:[t],e.map(((e,n)=>{if(null==e)return"";e=String(e);let r=t[n];return r=null==r?e:String(r),Jl(e,r)})))};var e,t}updateFromUrl(e){let t=e[this.getKey()];if(null!=t){this._sceneObject.isActive||(this._sceneObject.skipNextValidation=!0);const{values:e,texts:r}=(n=t,(n=Array.isArray(n)?n:[n]).reduce(((e,t)=>{const[n,r]=(null!=t?t:"").split(",");return e.values.push(Kl(n)),e.texts.push(Kl(null!=r?r:n)),e}),{values:[],texts:[]}));this._sceneObject.changeValueTo(e,r)}var n}}function tr(e){const t=e.getRoot();return Zt(t)?t.enrichFiltersRequest(e):null}var nr,rr=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};class or{constructor(e){((e,t)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,void 0)})(this,nr),this.text="__sceneObject",this.valueOf=()=>{return rr(this,e=nr,"read from private field"),e.get(this);var e},((e,t,n)=>{rr(e,t,"write to private field"),t.set(e,n)})(this,nr,e)}toString(){}get value(){return this}}function ir(e){return function(e){const t=e.match(/^(\d+)\.(\d+)\.(\d+)/);if(!t)return!1;const n=parseInt(t[1],10),r=parseInt(t[2],10),o=parseInt(t[3],10);return 11===n?0===r&&o>=4||1===r&&o>=2||r>1:10===n?4===r&&o>=8||r>=5:n>11}(u.config.buildInfo.version)?new or(e):{value:e,text:"__sceneObject"}}nr=new WeakMap;var ar=Object.defineProperty,sr=Object.defineProperties,lr=Object.getOwnPropertyDescriptors,cr=Object.getOwnPropertySymbols,ur=Object.prototype.hasOwnProperty,dr=Object.prototype.propertyIsEnumerable,pr=(e,t,n)=>t in e?ar(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fr=(e,t)=>{for(var n in t||(t={}))ur.call(t,n)&&pr(e,n,t[n]);if(cr)for(var n of cr(t))dr.call(t,n)&&pr(e,n,t[n]);return e};class hr extends Bt{constructor(e){var t;super((t=fr({isMulti:!0,name:"",value:[],text:[],options:[],datasource:null,baseFilters:[],applyMode:"auto",layout:"horizontal",type:"groupby"},e),sr(t,lr({noValueOnClear:!0})))),this.isLazy=!0,this._urlSync=new er(this),this._getKeys=async e=>{var t,n,r;const o=await(null==(n=(t=this.state).getTagKeysProvider)?void 0:n.call(t,this,null));if(o&&o.replace)return o.values;if(this.state.defaultOptions)return this.state.defaultOptions.concat(ec(null!=(r=null==o?void 0:o.values)?r:[]));if(!e.getTagKeys)return[];const i=Xl(this),a=this.state.baseFilters||[],s=Gc.getTimeRange(this).state.value,l=await e.getTagKeys(fr({filters:a,queries:i,timeRange:s},tr(this)));tc(l)&&this.setState({error:l.error.message});let c=ec(l);o&&(c=c.concat(ec(o.values)));const u=this.state.tagKeyRegexFilter;return u&&(c=c.filter((e=>e.text.match(u)))),c},"auto"===this.state.applyMode&&this.addActivationHandler((()=>(On.add(this),()=>On.delete(this))))}validateAndUpdate(){return this.getValueOptions({}).pipe((0,O.map)((e=>(this._updateValueGivenNewOptions(e),{}))))}_updateValueGivenNewOptions(e){const{value:t,text:n}=this.state,r={options:e,loading:!1,value:null!=t?t:[],text:null!=n?n:[]};this.setState(r)}getValueOptions(e){return this.state.defaultOptions?(0,O.of)(this.state.defaultOptions.map((e=>({label:e.text,value:String(e.value),group:e.group})))):(this.setState({loading:!0,error:null}),(0,O.from)(tn(this.state.datasource,{__sceneObject:ir(this)})).pipe((0,O.mergeMap)((e=>(0,O.from)(this._getKeys(e)).pipe((0,O.tap)((e=>{tc(e)&&this.setState({error:e.error.message})})),(0,O.map)((e=>ec(e))),(0,O.take)(1),(0,O.mergeMap)((e=>{const t=e.map((e=>({label:e.text,value:e.value?String(e.value):e.text,group:e.group})));return(0,O.of)(t)})))))))}getDefaultMultiState(e){return{value:[],text:[]}}}hr.Component=function({model:e}){const{value:t,text:n,key:r,isMulti:o=!0,maxVisibleValues:a,noValueOnClear:l,options:c,includeAll:u,allowCustomValue:d=!0}=e.useState(),p=(0,i.useMemo)((()=>{const e=(0,fe.isArray)(t)?t:[t],r=(0,fe.isArray)(n)?n:[n];return e.map(((e,t)=>{var n;return{value:e,label:String(null!=(n=r[t])?n:e)}}))}),[t,n]),[f,h]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[b,v]=(0,i.useState)(""),[y,w]=(0,i.useState)(p),S=(0,i.useMemo)((()=>jn(c,u)),[c,u]);(0,i.useEffect)((()=>{w(p)}),[p]);const E=(t,{action:n})=>"input-change"===n?(v(t),e.onSearchChange&&e.onSearchChange(t),t):"input-blur"===n?(v(""),""):b,A=(0,i.useMemo)((()=>nc(S(b).map(gr))),[S,b]);return o?s().createElement(In.MultiSelect,{"aria-label":"Group by selector","data-testid":`GroupBySelect-${r}`,id:r,placeholder:"Select value",width:"auto",allowCustomValue:d,inputValue:b,value:y,noMultiValueWrap:!0,maxVisibleValues:null!=a?a:5,tabSelectsValue:!1,virtualized:!0,options:A,filterOption:mr,closeMenuOnSelect:!1,isOpen:m,isClearable:!0,hideSelectedOptions:!1,isLoading:f,components:{Option:Zn},onInputChange:E,onBlur:()=>{e.changeValueTo(y.map((e=>e.value)),y.map((e=>e.label)))},onChange:(t,n)=>{"clear"===n.action&&l&&e.changeValueTo([]),w(t)},onOpenMenu:async()=>{h(!0),await(0,O.lastValueFrom)(e.validateAndUpdate()),h(!1),g(!0)},onCloseMenu:()=>{g(!1)}}):s().createElement(In.Select,{"aria-label":"Group by selector","data-testid":`GroupBySelect-${r}`,id:r,placeholder:"Select value",width:"auto",inputValue:b,value:y,allowCustomValue:d,noMultiValueWrap:!0,maxVisibleValues:null!=a?a:5,tabSelectsValue:!1,virtualized:!0,options:A,filterOption:mr,closeMenuOnSelect:!0,isOpen:m,isClearable:!0,hideSelectedOptions:!1,noValueOnClear:!0,isLoading:f,onInputChange:E,onChange:(t,n)=>{if("clear"===n.action)return w([]),void(l&&e.changeValueTo([]));(null==t?void 0:t.value)&&(w([t]),e.changeValueTo([t.value],t.label?[t.label]:void 0))},onOpenMenu:async()=>{h(!0),await(0,O.lastValueFrom)(e.validateAndUpdate()),h(!1),g(!0)},onCloseMenu:()=>{g(!1)}})};const mr=()=>!0;function gr(e){const{label:t,value:n,group:r}=e,o={label:t,value:n};return r&&(o.group=r),o}function br(e){return s().createElement(In.Tooltip,{content:"Cancel query"},s().createElement(In.Icon,{className:"spin-clockwise",name:"sync",size:"xs",role:"button",onMouseDown:t=>{e.onCancel(t)}}))}function vr(e){const t=(0,In.useStyles2)(yr),n=(0,In.useTheme2)(),r="vertical"===e.layout,o=Boolean(e.isLoading)?s().createElement("div",{style:{marginLeft:n.spacing(1),marginTop:"-1px"},"aria-label":Ln.components.LoadingIndicator.icon},s().createElement(br,{onCancel:t=>{var n;t.preventDefault(),t.stopPropagation(),null==(n=e.onCancel)||n.call(e)}})):null;let i=null;e.error&&(i=s().createElement(In.Tooltip,{content:e.error,placement:"bottom"},s().createElement(In.Icon,{className:t.errorIcon,name:"exclamation-triangle"})));let a=null;e.description&&(a=s().createElement(In.Tooltip,{content:e.description,placement:r?"top":"bottom"},s().createElement(In.Icon,{className:t.normalIcon,name:"info-circle"})));const l="string"==typeof e.label?Ln.pages.Dashboard.SubMenu.submenuItemLabels(e.label):"";let c;return c=r?s().createElement("label",{className:t.verticalLabel,"data-testid":l,htmlFor:e.htmlFor},e.label,a,i,e.icon&&s().createElement(In.Icon,{name:e.icon,className:t.normalIcon}),o,e.onRemove&&s().createElement(In.IconButton,{variant:"secondary",size:"xs",name:"times",onClick:e.onRemove,tooltip:"Remove"})):s().createElement("label",{className:t.horizontalLabel,"data-testid":l,htmlFor:e.htmlFor},i,e.icon&&s().createElement(In.Icon,{name:e.icon,className:t.normalIcon}),e.label,a,o),c}const yr=e=>({horizontalLabel:(0,Nn.css)({background:e.isDark?e.colors.background.primary:e.colors.background.secondary,display:"flex",alignItems:"center",padding:e.spacing(0,1),fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,height:e.spacing(e.components.height.md),lineHeight:e.spacing(e.components.height.md),borderRadius:`${e.shape.radius.default} 0 0 ${e.shape.radius.default}`,border:`1px solid ${e.components.input.borderColor}`,position:"relative",right:-1,whiteSpace:"nowrap",gap:e.spacing(.5)}),verticalLabel:(0,Nn.css)({display:"flex",alignItems:"center",fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.bodySmall.fontSize,lineHeight:e.typography.bodySmall.lineHeight,whiteSpace:"nowrap",marginBottom:e.spacing(.5),gap:e.spacing(1)}),errorIcon:(0,Nn.css)({color:e.colors.error.text}),normalIcon:(0,Nn.css)({color:e.colors.text.secondary})});var wr=Object.defineProperty,Sr=Object.getOwnPropertySymbols,Er=Object.prototype.hasOwnProperty,Ar=Object.prototype.propertyIsEnumerable,xr=(e,t,n)=>t in e?wr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Cr(e,t){return""!==e?{value:e,label:t||e}:null}const Or=()=>!0;function Ir({filter:e,model:t}){var n,r,o,a,l;const c=(0,In.useStyles2)(Rr),[u,d]=(0,i.useState)([]),[p,f]=(0,i.useState)([]),[h,m]=(0,i.useState)(!1),[g,b]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),[w,S]=(0,i.useState)(!1),[E,A]=(0,i.useState)(!1),[x,C]=(0,i.useState)(""),[O,I]=(0,i.useState)(!1),[R,D]=(0,i.useState)(e.values?e.values.map(((t,n)=>{var r;return Cr(t,null==(r=e.valueLabels)?void 0:r[n])})):[]),P=pl(e.operator),T=Cr(e.key,e.keyLabel),_=Cr(e.value,null==(n=e.valueLabels)?void 0:n[0]),k=(0,i.useMemo)((()=>function(e){const t=rc(e.map((e=>{var t;return null!=(t=e.label)?t:String(e.value)})));return n=>t(n).map((t=>e[t]))}(p)),[p]),B=t.state.onAddCustomValue,M=(0,i.useMemo)((()=>nc(k(x))),[k,x]),L={isMulti:!0,value:R,components:{Option:Zn},hideSelectedOptions:!1,closeMenuOnSelect:!1,openMenuOnFocus:!1,onChange:e=>{D(e),e.some((e=>e.__isNew__))&&C("")},onBlur:()=>{var n,r;t._updateFilter(e,{value:null!=(r=null==(n=R[0])?void 0:n.value)?r:"",values:R.map((e=>e.value)),valueLabels:R.map((e=>e.label))})}},N=s().createElement(In.Select,((e,t)=>{for(var n in t||(t={}))Er.call(t,n)&&xr(e,n,t[n]);if(Sr)for(var n of Sr(t))Ar.call(t,n)&&xr(e,n,t[n]);return e})({virtualized:!0,allowCustomValue:null==(r=t.state.allowCustomValue)||r,isValidNewOption:e=>e.trim().length>0,allowCreateWhileLoading:!0,formatCreateLabel:e=>`Use custom value: ${e}`,disabled:t.state.readOnly,className:(0,Nn.cx)(c.value,w?c.widthWhenOpen:void 0),width:"auto",value:_,filterOption:Or,placeholder:"Select value",options:M,inputValue:x,onInputChange:(e,{action:t})=>("input-change"===t&&C(e),e),onChange:n=>{B&&n.__isNew__?t._updateFilter(e,B(n,e)):t._updateFilter(e,{value:n.value,valueLabels:n.label?[n.label]:[n.value]}),O!==n.__isNew__&&I(n.__isNew__)},isOpen:w&&!g,isLoading:g,openMenuOnFocus:!0,onOpenMenu:async()=>{var n;b(!0),S(!0);const r=await t._getValuesFor(e);b(!1),f(r),O&&C(null!=(n=null==_?void 0:_.label)?n:"")},onCloseMenu:()=>{S(!1),C("")}},P&&L)),j=s().createElement(In.Select,{key:g?"loading":"loaded",disabled:t.state.readOnly,className:(0,Nn.cx)(c.key,v?c.widthWhenOpen:void 0),width:"auto",allowCustomValue:null==(o=t.state.allowCustomValue)||o,value:T,placeholder:"Select label",options:nc(u),onChange:n=>{t._updateFilter(e,{key:n.value,keyLabel:n.label,value:"",valueLabels:[""],values:void 0}),D([])},autoFocus:""===e.key,isOpen:v&&!h,isLoading:h,onOpenMenu:async()=>{y(!0),m(!0);const n=await t._getKeys(e.key);m(!1),d(n)},onCloseMenu:()=>{y(!1)},onBlur:()=>{""===e.key&&t._removeFilter(e)},openMenuOnFocus:!0}),F=s().createElement(In.Select,{className:(0,Nn.cx)(c.operator,{[c.widthWhenOpen]:E}),value:e.operator,disabled:t.state.readOnly,options:t._getOperators(),onChange:n=>{var r,o;const i=e.operator,a=n.value,s={operator:a};pl(i)&&!pl(a)?(s.value="",s.valueLabels=[""],s.values=void 0,D([])):!pl(i)&&pl(a)&&e.value&&(s.values=[e.value],D([{value:e.value,label:null!=(o=null==(r=e.valueLabels)?void 0:r[0])?o:e.value}])),t._updateFilter(e,s)},onOpenMenu:()=>{A(!0)},onCloseMenu:()=>{A(!1)}});if("vertical"===t.state.layout){if(e.key){const n=s().createElement(vr,{layout:"vertical",label:null!=(a=e.key)?a:"",onRemove:()=>t._removeFilter(e)});return s().createElement(In.Field,{label:n,"data-testid":`AdHocFilter-${e.key}`,className:c.field},s().createElement("div",{className:c.wrapper},F,N))}return s().createElement(In.Field,{label:"Select label","data-testid":`AdHocFilter-${e.key}`,className:c.field},j)}return s().createElement("div",{className:c.wrapper,"data-testid":`AdHocFilter-${e.key}`},j,F,N,s().createElement(In.Button,{variant:"secondary","aria-label":"Remove filter",title:"Remove filter",className:c.removeButton,icon:"times","data-testid":`AdHocFilter-remove-${null!=(l=e.key)?l:""}`,onClick:()=>t._removeFilter(e)}))}const Rr=e=>({field:(0,Nn.css)({marginBottom:0}),wrapper:(0,Nn.css)({display:"flex","> *":{"&:not(:first-child)":{marginLeft:-1},"&:first-child":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-child":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:first-child):not(:last-child)":{borderRadius:0},position:"relative",zIndex:0,"&:hover":{zIndex:1},"&:focus-within":{zIndex:2}}}),widthWhenOpen:(0,Nn.css)({minWidth:e.spacing(16)}),value:(0,Nn.css)({flexBasis:"content",flexShrink:1,minWidth:"90px"}),key:(0,Nn.css)({flexBasis:"content",minWidth:"90px",flexShrink:1}),operator:(0,Nn.css)({flexShrink:0,flexBasis:"content"}),removeButton:(0,Nn.css)({paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5),borderLeft:"none",width:e.spacing(3),marginRight:e.spacing(1),boxSizing:"border-box",position:"relative",left:"1px"})});function Dr({model:e,addFilterButtonText:t}){const{_wip:n}=e.useState();return n?s().createElement(Ir,{filter:n,model:e}):s().createElement(In.Button,{variant:"secondary",icon:"plus",title:"Add filter","aria-label":"Add filter","data-testid":"AdHocFilter-add",onClick:()=>e._addWip()},t)}class Pr{constructor(e){this._variable=e}getKey(){return`var-${this._variable.state.name}`}getKeys(){return[this.getKey()]}getUrlState(){const e=this._variable.state.filters;if(0===e.length)return{[this.getKey()]:[""]};const t=e.filter(dl).filter((e=>!e.hidden)).map((e=>function(e){var t;const n=[Jl(e.key,e.keyLabel),e.operator];return pl(e.operator)?e.values.forEach(((t,r)=>{var o;n.push(Jl(t,null==(o=e.valueLabels)?void 0:o[r]))})):n.push(Jl(e.value,null==(t=e.valueLabels)?void 0:t[0])),n}(e).map(Ql).join("|")));return{[this.getKey()]:t}}updateFromUrl(e){const t=e[this.getKey()];if(null==t)return;const n=function(e){if(Array.isArray(e))return e.map(Tr).filter(_r);const t=Tr(e);return null===t?[]:[t]}(t);this._variable.setState({filters:n})}}function Tr(e){if("string"!=typeof e||0===e.length)return null;const[t,n,r,o,...i]=e.split("|").reduce(((e,t)=>{const[n,r]=t.split(",");return e.push(n,null!=r?r:n),e}),[]).map(Kl);return{key:t,keyLabel:n,operator:r,value:i[0],values:pl(r)?i.filter(((e,t)=>t%2==0)):void 0,valueLabels:i.filter(((e,t)=>t%2==1)),condition:""}}function _r(e){return null!==e&&"string"==typeof e.key&&"string"==typeof e.value}function kr(){return"undefined"!=typeof window}function Br(e){return Nr(e)?(e.nodeName||"").toLowerCase():"#document"}function Mr(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Lr(e){var t;return null==(t=(Nr(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Nr(e){return!!kr()&&(e instanceof Node||e instanceof Mr(e).Node)}function jr(e){return!!kr()&&(e instanceof Element||e instanceof Mr(e).Element)}function Fr(e){return!!kr()&&(e instanceof HTMLElement||e instanceof Mr(e).HTMLElement)}function zr(e){return!(!kr()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Mr(e).ShadowRoot)}function Vr(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=qr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function $r(e){return["table","td","th"].includes(Br(e))}function Ur(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function Wr(e){const t=Hr(),n=jr(e)?qr(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function Hr(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Gr(e){return["html","body","#document"].includes(Br(e))}function qr(e){return Mr(e).getComputedStyle(e)}function Yr(e){return jr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xr(e){if("html"===Br(e))return e;const t=e.assignedSlot||e.parentNode||zr(e)&&e.host||Lr(e);return zr(t)?t.host:t}function Qr(e){const t=Xr(e);return Gr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fr(t)&&Vr(t)?t:Qr(t)}function Zr(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=Qr(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=Mr(o);if(i){const e=Kr(a);return t.concat(a,a.visualViewport||[],Vr(o)?o:[],e&&n?Zr(e):[])}return t.concat(o,Zr(o,[],n))}function Kr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Jr(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function eo(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&zr(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function to(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function no(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function ro(e){return!(0!==e.mozInputSource||!e.isTrusted)||(ao()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function oo(e){return!no().includes("jsdom/")&&(!ao()&&0===e.width&&0===e.height||ao()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function io(){return/apple/i.test(navigator.vendor)}function ao(){const e=/android/i;return e.test(to())||e.test(no())}function so(e){return(null==e?void 0:e.ownerDocument)||document}function lo(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function co(e){return"composedPath"in e?e.composedPath()[0]:e.target}function uo(e){e.preventDefault(),e.stopPropagation()}function po(e){return!!e&&"combobox"===e.getAttribute("role")&&function(e){return Fr(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}(e)}const fo=Math.min,ho=Math.max,mo=Math.round,go=Math.floor,bo=e=>({x:e,y:e}),vo={left:"right",right:"left",bottom:"top",top:"bottom"},yo={start:"end",end:"start"};function wo(e,t){return"function"==typeof e?e(t):e}function So(e){return e.split("-")[0]}function Eo(e){return e.split("-")[1]}function Ao(e){return"y"===e?"height":"width"}function xo(e){return["top","bottom"].includes(So(e))?"y":"x"}function Co(e){return"x"===xo(e)?"y":"x"}function Oo(e){return e.replace(/start|end/g,(e=>yo[e]))}function Io(e){return e.replace(/left|right|bottom|top/g,(e=>vo[e]))}function Ro(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}var Do=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),Po="undefined"==typeof Element,To=Po?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,_o=!Po&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},ko=function e(t,n){var r;void 0===n&&(n=!0);var o=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===o||"true"===o||n&&t&&e(t.parentNode)},Bo=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var a=i.shift();if(!ko(a,!1))if("SLOT"===a.tagName){var s=a.assignedElements(),l=e(s.length?s:a.children,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:a,candidates:l})}else{To.call(a,Do)&&r.filter(a)&&(n||!t.includes(a))&&o.push(a);var c=a.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(a),u=!ko(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(c&&u){var d=e(!0===c?a.children:c.children,!0,r);r.flatten?o.push.apply(o,d):o.push({scopeParent:a,candidates:d})}else i.unshift.apply(i,a.children)}}return o},Mo=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Lo=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!Mo(e)?0:e.tabIndex},No=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},jo=function(e){return"INPUT"===e.tagName},Fo=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},zo=function(e,t){return!(t.disabled||ko(t)||function(e){return jo(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var o=To.call(e,"details>summary:first-of-type")?e.parentElement:e;if(To.call(o,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return Fo(e)}else{if("function"==typeof r){for(var i=e;e;){var a=e.parentElement,s=_o(e);if(a&&!a.shadowRoot&&!0===r(a))return Fo(e);e=e.assignedSlot?e.assignedSlot:a||s===e.ownerDocument?a:s.host}e=i}if(function(e){var t,n,r,o,i=e&&_o(e),a=null===(t=i)||void 0===t?void 0:t.host,s=!1;if(i&&i!==e)for(s=!!(null!==(n=a)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(a)||null!=e&&null!==(o=e.ownerDocument)&&void 0!==o&&o.contains(e));!s&&a;){var l,c,u;s=!(null===(c=a=null===(l=i=_o(a))||void 0===l?void 0:l.host)||void 0===c||null===(u=c.ownerDocument)||void 0===u||!u.contains(a))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!To.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},Vo=function(e,t){return!(function(e){return function(e){return jo(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||_o(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!o||o===e}(e)}(t)||Lo(t)<0||!zo(e,t))},$o=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Uo=function e(t){var n=[],r=[];return t.forEach((function(t,o){var i=!!t.scopeParent,a=i?t.scopeParent:t,s=function(e,t){var n=Lo(e);return n<0&&t&&!Mo(e)?0:n}(a,i),l=i?e(t.candidates):a;0===s?i?n.push.apply(n,l):n.push(a):r.push({documentOrder:o,tabIndex:s,item:t,isScope:i,content:l})})),r.sort(No).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},Wo=function(e,t){var n;return n=(t=t||{}).getShadowRoot?Bo([e],t.includeContainer,{filter:Vo.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:$o}):function(e,t,n){if(ko(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(Do));return t&&To.call(e,Do)&&r.unshift(e),r.filter(n)}(e,t.includeContainer,Vo.bind(null,t)),Uo(n)},Ho=n(8398);function Go(e,t,n){let{reference:r,floating:o}=e;const i=xo(t),a=Co(t),s=Ao(a),l=So(t),c="y"===i,u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,p=r[s]/2-o[s]/2;let f;switch(l){case"top":f={x:u,y:r.y-o.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-o.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Eo(t)){case"start":f[a]-=p*(n&&c?-1:1);break;case"end":f[a]+=p*(n&&c?-1:1)}return f}async function qo(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=wo(t,e),h=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(f),m=s[p?"floating"===d?"reference":"floating":d],g=Ro(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),b="floating"===d?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,v=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),y=await(null==i.isElement?void 0:i.isElement(v))&&await(null==i.getScale?void 0:i.getScale(v))||{x:1,y:1},w=Ro(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:v,strategy:l}):b);return{top:(g.top-w.top+h.top)/y.y,bottom:(w.bottom-g.bottom+h.bottom)/y.y,left:(g.left-w.left+h.left)/y.x,right:(w.right-g.right+h.right)/y.x}}function Yo(e){const t=qr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Fr(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,s=mo(n)!==i||mo(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function Xo(e){return jr(e)?e:e.contextElement}function Qo(e){const t=Xo(e);if(!Fr(t))return bo(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Yo(t);let a=(i?mo(n.width):n.width)/r,s=(i?mo(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const Zo=bo(0);function Ko(e){const t=Mr(e);return Hr()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Zo}function Jo(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=Xo(e);let a=bo(1);t&&(r?jr(r)&&(a=Qo(r)):a=Qo(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Mr(e))&&t}(i,n,r)?Ko(i):bo(0);let l=(o.left+s.x)/a.x,c=(o.top+s.y)/a.y,u=o.width/a.x,d=o.height/a.y;if(i){const e=Mr(i),t=r&&jr(r)?Mr(r):r;let n=e,o=Kr(n);for(;o&&r&&t!==n;){const e=Qo(o),t=o.getBoundingClientRect(),r=qr(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=a,n=Mr(o),o=Kr(n)}}return Ro({width:u,height:d,x:l,y:c})}function ei(e,t){const n=Yr(e).scrollLeft;return t?t.left+n:Jo(Lr(e)).left+n}function ti(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:ei(e,r)),y:r.top+t.scrollTop}}function ni(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Mr(e),r=Lr(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;const e=Hr();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=Lr(e),n=Yr(e),r=e.ownerDocument.body,o=ho(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ho(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+ei(e);const s=-n.scrollTop;return"rtl"===qr(r).direction&&(a+=ho(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}(Lr(e));else if(jr(t))r=function(e,t){const n=Jo(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Fr(e)?Qo(e):bo(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=Ko(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Ro(r)}function ri(e,t){const n=Xr(e);return!(n===t||!jr(n)||Gr(n))&&("fixed"===qr(n).position||ri(n,t))}function oi(e,t,n){const r=Fr(t),o=Lr(t),i="fixed"===n,a=Jo(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=bo(0);if(r||!r&&!i)if(("body"!==Br(t)||Vr(o))&&(s=Yr(t)),r){const e=Jo(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&(l.x=ei(o));const c=!o||r||i?bo(0):ti(o,s);return{x:a.left+s.scrollLeft-l.x-c.x,y:a.top+s.scrollTop-l.y-c.y,width:a.width,height:a.height}}function ii(e){return"static"===qr(e).position}function ai(e,t){if(!Fr(e)||"fixed"===qr(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Lr(e)===n&&(n=n.ownerDocument.body),n}function si(e,t){const n=Mr(e);if(Ur(e))return n;if(!Fr(e)){let t=Xr(e);for(;t&&!Gr(t);){if(jr(t)&&!ii(t))return t;t=Xr(t)}return n}let r=ai(e,t);for(;r&&$r(r)&&ii(r);)r=ai(r,t);return r&&Gr(r)&&ii(r)&&!Wr(r)?n:r||function(e){let t=Xr(e);for(;Fr(t)&&!Gr(t);){if(Wr(t))return t;if(Ur(t))return null;t=Xr(t)}return null}(e)||n}const li={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,a=Lr(r),s=!!t&&Ur(t.floating);if(r===a||s&&i)return n;let l={scrollLeft:0,scrollTop:0},c=bo(1);const u=bo(0),d=Fr(r);if((d||!d&&!i)&&(("body"!==Br(r)||Vr(a))&&(l=Yr(r)),Fr(r))){const e=Jo(r);c=Qo(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const p=!a||d||i?bo(0):ti(a,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}},getDocumentElement:Lr,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[..."clippingAncestors"===n?Ur(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Zr(e,[],!1).filter((e=>jr(e)&&"body"!==Br(e))),o=null;const i="fixed"===qr(e).position;let a=i?Xr(e):e;for(;jr(a)&&!Gr(a);){const t=qr(a),n=Wr(a);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||Vr(a)&&!n&&ri(e,a))?r=r.filter((e=>e!==a)):o=t,a=Xr(a)}return t.set(e,r),r}(t,this._c):[].concat(n),r],a=i[0],s=i.reduce(((e,n)=>{const r=ni(t,n,o);return e.top=ho(r.top,e.top),e.right=fo(r.right,e.right),e.bottom=fo(r.bottom,e.bottom),e.left=ho(r.left,e.left),e}),ni(t,a,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:si,getElementRects:async function(e){const t=this.getOffsetParent||si,n=this.getDimensions,r=await n(e.floating);return{reference:oi(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Yo(e);return{width:t,height:n}},getScale:Qo,isElement:jr,isRTL:function(e){return"rtl"===qr(e).direction}};function ci(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ui(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=Xo(e),u=o||i?[...c?Zr(c):[],...Zr(t)]:[];u.forEach((e=>{o&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const d=c&&s?function(e,t){let n,r=null;const o=Lr(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),i();const c=e.getBoundingClientRect(),{left:u,top:d,width:p,height:f}=c;if(s||t(),!p||!f)return;const h={rootMargin:-go(d)+"px "+-go(o.clientWidth-(u+p))+"px "+-go(o.clientHeight-(d+f))+"px "+-go(u)+"px",threshold:ho(0,fo(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return a();r?a(!1,r):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}1!==r||ci(c,e.getBoundingClientRect())||a(),m=!1}try{r=new IntersectionObserver(g,{...h,root:o.ownerDocument})}catch(e){r=new IntersectionObserver(g,h)}r.observe(e)}(!0),i}(c,n):null;let p,f=-1,h=null;a&&(h=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=h)||e.observe(t)}))),n()})),c&&!l&&h.observe(c),h.observe(t));let m=l?Jo(e):null;return l&&function t(){const r=Jo(e);m&&!ci(m,r)&&n(),m=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{o&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=h)||e.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const di=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=So(n),s=Eo(n),l="y"===xo(n),c=["left","top"].includes(a)?-1:1,u=i&&l?-1:1,d=wo(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"==typeof h&&(f="end"===s?-1*h:h),l?{x:f*u,y:p*c}:{x:p*c,y:f*u}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:a}}}}},pi=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...g}=wo(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const b=So(o),v=xo(s),y=So(s)===s,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),S=p||(y||!m?[Io(s)]:function(e){const t=Io(e);return[Oo(e),t,Oo(t)]}(s)),E="none"!==h;!p&&E&&S.push(...function(e,t,n,r){const o=Eo(e);let i=function(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}(So(e),"start"===n,r);return o&&(i=i.map((e=>e+"-"+o)),t&&(i=i.concat(i.map(Oo)))),i}(s,m,h,w));const A=[s,...S],x=await qo(t,g),C=[];let O=(null==(r=i.flip)?void 0:r.overflows)||[];if(u&&C.push(x[b]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=Eo(e),o=Co(e),i=Ao(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Io(a)),[a,Io(a)]}(o,a,w);C.push(x[e[0]],x[e[1]])}if(O=[...O,{placement:o,overflows:C}],!C.every((e=>e<=0))){var I,R;const e=((null==(I=i.flip)?void 0:I.index)||0)+1,t=A[e];if(t)return{data:{index:e,overflows:O},reset:{placement:t}};let n=null==(R=O.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:R.placement;if(!n)switch(f){case"bestFit":{var D;const e=null==(D=O.filter((e=>{if(E){const t=xo(e.placement);return t===v||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:D[0];e&&(n=e);break}case"initialPlacement":n=s}if(o!==n)return{reset:{placement:n}}}return{}}}},fi=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:a,elements:s}=t,{apply:l=()=>{},...c}=wo(e,t),u=await qo(t,c),d=So(o),p=Eo(o),f="y"===xo(o),{width:h,height:m}=i.floating;let g,b;"top"===d||"bottom"===d?(g=d,b=p===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(b=d,g="end"===p?"top":"bottom");const v=m-u.top-u.bottom,y=h-u.left-u.right,w=fo(m-u[g],v),S=fo(h-u[b],y),E=!t.middlewareData.shift;let A=w,x=S;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(x=y),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(A=v),E&&!p){const e=ho(u.left,0),t=ho(u.right,0),n=ho(u.top,0),r=ho(u.bottom,0);f?x=h-2*(0!==e||0!==t?e+t:ho(u.left,u.right)):A=m-2*(0!==n||0!==r?n+r:ho(u.top,u.bottom))}await l({...t,availableWidth:x,availableHeight:A});const C=await a.getDimensions(s.floating);return h!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}},hi=(e,t,n)=>{const r=new Map,o={platform:li,...n},i={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=Go(c,r,l),p=r,f={},h=0;for(let n=0;n<s.length;n++){const{name:i,fn:m}=s[n],{x:g,y:b,data:v,reset:y}=await m({x:u,y:d,initialPlacement:r,placement:p,strategy:o,middlewareData:f,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=b?b:d,f={...f,[i]:{...f[i],...v}},y&&h<=50&&(h++,"object"==typeof y&&(y.placement&&(p=y.placement),y.rects&&(c=!0===y.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):y.rects),({x:u,y:d}=Go(c,p,l))),n=-1)}return{x:u,y:d,placement:p,strategy:o,middlewareData:f}})(e,t,{...o,platform:i})};var mi="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;function gi(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!=r--;)if(!gi(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!=r--;){const n=o[r];if(!("_owner"===n&&e.$$typeof||gi(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function bi(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vi(e,t){const n=bi(e);return Math.round(t*n)/n}function yi(e){const t=i.useRef(e);return mi((()=>{t.current=e})),t}const wi=(e,t)=>({...pi(e),options:[e,t]}),Si=(e,t)=>({...fi(e),options:[e,t]}),Ei={...a},Ai=Ei.useInsertionEffect||(e=>e());function xi(e){const t=i.useRef((()=>{}));return Ai((()=>{t.current=e})),i.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const Ci="ArrowUp",Oi="ArrowDown",Ii="ArrowLeft",Ri="ArrowRight";function Di(e,t,n){return Math.floor(e/t)!==n}function Pi(e,t){return t<0||t>=e.current.length}function Ti(e,t){return ki(e,{disabledIndices:t})}function _i(e,t){return ki(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ki(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=void 0===t?{}:t;const a=e.current;let s=n;do{s+=r?-i:i}while(s>=0&&s<=a.length-1&&Li(a,s,o));return s}function Bi(e,t,n,r,o){if(-1===e)return-1;const i=n.indexOf(e),a=t[e];switch(o){case"tl":return i;case"tr":return a?i+a.width-1:i;case"bl":return a?i+(a.height-1)*r:i;case"br":return n.lastIndexOf(e)}}function Mi(e,t){return t.flatMap(((t,n)=>e.includes(t)?[n]:[]))}function Li(e,t,n){if(n)return n.includes(t);const r=e[t];return null==r||r.hasAttribute("disabled")||"true"===r.getAttribute("aria-disabled")}var Ni="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ji.apply(this,arguments)}let Fi=!1,zi=0;const Vi=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+zi++,$i=Ei.useId||function(){const[e,t]=i.useState((()=>Fi?Vi():void 0));return Ni((()=>{null==e&&t(Vi())}),[]),i.useEffect((()=>{Fi=!0}),[]),e};const Ui=i.createContext(null),Wi=i.createContext(null),Hi=()=>{var e;return(null==(e=i.useContext(Ui))?void 0:e.id)||null},Gi=()=>i.useContext(Wi);function qi(e){return"data-floating-ui-"+e}function Yi(e){const t=(0,i.useRef)(e);return Ni((()=>{t.current=e})),t}let Xi=0;function Qi(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Xi);const i=()=>null==e?void 0:e.focus({preventScroll:n});o?i():Xi=requestAnimationFrame(i)}function Zi(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(r);return n}let Ki=new WeakMap,Ji=new WeakSet,ea={},ta=0;const na=e=>e&&(e.host||na(e.parentNode));function ra(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=so(e[0]).body;return function(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,a=(s=t,e.map((e=>{if(s.contains(e))return e;const t=na(e);return s.contains(t)?t:null})).filter((e=>null!=e)));var s;const l=new Set,c=new Set(a),u=[];ea[o]||(ea[o]=new WeakMap);const d=ea[o];return a.forEach((function e(t){t&&!l.has(t)&&(l.add(t),t.parentNode&&e(t.parentNode))})),function e(t){t&&!c.has(t)&&[].forEach.call(t.children,(t=>{if("script"!==Br(t))if(l.has(t))e(t);else{const e=i?t.getAttribute(i):null,n=null!==e&&"false"!==e,r=(Ki.get(t)||0)+1,a=(d.get(t)||0)+1;Ki.set(t,r),d.set(t,a),u.push(t),1===r&&n&&Ji.add(t),1===a&&t.setAttribute(o,""),!n&&i&&t.setAttribute(i,"true")}}))}(t),l.clear(),ta++,()=>{u.forEach((e=>{const t=(Ki.get(e)||0)-1,n=(d.get(e)||0)-1;Ki.set(e,t),d.set(e,n),t||(!Ji.has(e)&&i&&e.removeAttribute(i),Ji.delete(e)),n||e.removeAttribute(o)})),ta--,ta||(Ki=new WeakMap,Ki=new WeakMap,Ji=new WeakSet,ea={})}}(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const oa=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function ia(e,t){const n=Wo(e,oa());"prev"===t&&n.reverse();const r=n.indexOf(Jr(so(e)));return n.slice(r+1)[0]}function aa(){return ia(document.body,"next")}function sa(){return ia(document.body,"prev")}function la(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!eo(n,r)}function ca(e){Wo(e,oa()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function ua(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const da={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function pa(e){"Tab"===e.key&&(e.target,clearTimeout(void 0))}const fa=i.forwardRef((function(e,t){const[n,r]=i.useState();Ni((()=>(io()&&r("button"),document.addEventListener("keydown",pa),()=>{document.removeEventListener("keydown",pa)})),[]);const o={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[qi("focus-guard")]:"",style:da};return i.createElement("span",ji({},e,o))})),ha=i.createContext(null),ma=qi("portal");function ga(e){const{children:t,id:n,root:r,preserveTabOrder:o=!0}=e,a=function(e){void 0===e&&(e={});const{id:t,root:n}=e,r=$i(),o=ba(),[a,s]=i.useState(null),l=i.useRef(null);return Ni((()=>()=>{null==a||a.remove(),queueMicrotask((()=>{l.current=null}))}),[a]),Ni((()=>{if(!r)return;if(l.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(ma,""),e.appendChild(n),l.current=n,s(n)}),[t,r]),Ni((()=>{if(null===n)return;if(!r)return;if(l.current)return;let e=n||(null==o?void 0:o.portalNode);e&&!jr(e)&&(e=e.current),e=e||document.body;let i=null;t&&(i=document.createElement("div"),i.id=t,e.appendChild(i));const a=document.createElement("div");a.id=r,a.setAttribute(ma,""),e=i||e,e.appendChild(a),l.current=a,s(a)}),[t,n,r,o]),a}({id:n,root:r}),[s,l]=i.useState(null),c=i.useRef(null),u=i.useRef(null),d=i.useRef(null),p=i.useRef(null),f=null==s?void 0:s.modal,h=null==s?void 0:s.open,m=!!s&&!s.modal&&s.open&&o&&!(!r&&!a);return i.useEffect((()=>{if(a&&o&&!f)return a.addEventListener("focusin",e,!0),a.addEventListener("focusout",e,!0),()=>{a.removeEventListener("focusin",e,!0),a.removeEventListener("focusout",e,!0)};function e(e){a&&la(e)&&("focusin"===e.type?ua:ca)(a)}}),[a,o,f]),i.useEffect((()=>{a&&(h||ua(a))}),[h,a]),i.createElement(ha.Provider,{value:i.useMemo((()=>({preserveTabOrder:o,beforeOutsideRef:c,afterOutsideRef:u,beforeInsideRef:d,afterInsideRef:p,portalNode:a,setFocusManagerState:l})),[o,a])},m&&a&&i.createElement(fa,{"data-type":"outside",ref:c,onFocus:e=>{if(la(e,a)){var t;null==(t=d.current)||t.focus()}else{const e=sa()||(null==s?void 0:s.refs.domReference.current);null==e||e.focus()}}}),m&&a&&i.createElement("span",{"aria-owns":a.id,style:da}),a&&Ho.createPortal(t,a),m&&a&&i.createElement(fa,{"data-type":"outside",ref:u,onFocus:e=>{if(la(e,a)){var t;null==(t=p.current)||t.focus()}else{const t=aa()||(null==s?void 0:s.refs.domReference.current);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent,"focus-out"))}}}))}const ba=()=>i.useContext(ha),va="data-floating-ui-focusable";function ya(e){return e?e.hasAttribute(va)?e:e.querySelector("["+va+"]")||e:null}let wa=[];function Sa(e){wa=wa.filter((e=>e.isConnected));let t=e;if(t&&"body"!==Br(t)){if(!function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==To.call(e,Do)&&Vo(t,e)}(t,oa())){const e=Wo(t,oa())[0];e&&(t=e)}wa.push(t),wa.length>20&&(wa=wa.slice(-20))}}function Ea(){return wa.slice().reverse().find((e=>e.isConnected))}const Aa=i.forwardRef((function(e,t){return i.createElement("button",ji({},e,{type:"button",ref:t,tabIndex:-1,style:da}))}));function xa(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:a=!0,initialFocus:s=0,returnFocus:l=!0,restoreFocus:c=!1,modal:u=!0,visuallyHiddenDismiss:d=!1,closeOnFocusOut:p=!0}=e,{open:f,refs:h,nodeId:m,onOpenChange:g,events:b,dataRef:v,floatingId:y,elements:{domReference:w,floating:S}}=t,E="number"==typeof s&&s<0,A=po(w)&&E,x="undefined"==typeof HTMLElement||!("inert"in HTMLElement.prototype)||a,C=Yi(o),O=Yi(s),I=Yi(l),R=Gi(),D=ba(),P=i.useRef(null),T=i.useRef(null),_=i.useRef(!1),k=i.useRef(!1),B=i.useRef(-1),M=null!=D,L=ya(S),N=xi((function(e){return void 0===e&&(e=L),e?Wo(e,oa()):[]})),j=xi((e=>{const t=N(e);return C.current.map((e=>w&&"reference"===e?w:L&&"floating"===e?L:t)).filter(Boolean).flat()}));function F(e){return!r&&d&&u?i.createElement(Aa,{ref:"start"===e?P:T,onClick:e=>g(!1,e.nativeEvent)},"string"==typeof d?d:"Dismiss"):null}i.useEffect((()=>{if(r)return;if(!u)return;function e(e){if("Tab"===e.key){eo(L,Jr(so(L)))&&0===N().length&&!A&&uo(e);const t=j(),n=co(e);"reference"===C.current[0]&&n===w&&(uo(e),e.shiftKey?Qi(t[t.length-1]):Qi(t[1])),"floating"===C.current[1]&&n===L&&e.shiftKey&&(uo(e),Qi(t[0]))}}const t=so(L);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[r,w,L,u,C,A,N,j]),i.useEffect((()=>{if(!r&&S)return S.addEventListener("focusin",e),()=>{S.removeEventListener("focusin",e)};function e(e){const t=co(e),n=N().indexOf(t);-1!==n&&(B.current=n)}}),[r,S,N]),i.useEffect((()=>{if(!r&&p)return S&&Fr(w)?(w.addEventListener("focusout",t),w.addEventListener("pointerdown",e),S.addEventListener("focusout",t),()=>{w.removeEventListener("focusout",t),w.removeEventListener("pointerdown",e),S.removeEventListener("focusout",t)}):void 0;function e(){k.current=!0,setTimeout((()=>{k.current=!1}))}function t(e){const t=e.relatedTarget;queueMicrotask((()=>{const n=!(eo(w,t)||eo(S,t)||eo(t,S)||eo(null==D?void 0:D.portalNode,t)||null!=t&&t.hasAttribute(qi("focus-guard"))||R&&(Zi(R.nodesRef.current,m).find((e=>{var n,r;return eo(null==(n=e.context)?void 0:n.elements.floating,t)||eo(null==(r=e.context)?void 0:r.elements.domReference,t)}))||function(e,t){var n;let r=[],o=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;o;){const t=e.find((e=>e.id===o));o=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(R.nodesRef.current,m).find((e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t}))));if(c&&n&&Jr(so(L))===so(L).body){Fr(L)&&L.focus();const e=B.current,t=N(),n=t[e]||t[t.length-1]||L;Fr(n)&&n.focus()}!A&&u||!t||!n||k.current||t===Ea()||(_.current=!0,g(!1,e,"focus-out"))}))}}),[r,w,S,L,u,m,R,D,g,p,c,N,A]),i.useEffect((()=>{var e;if(r)return;const t=Array.from((null==D||null==(e=D.portalNode)?void 0:e.querySelectorAll("["+qi("portal")+"]"))||[]);if(S){const e=[S,...t,P.current,T.current,C.current.includes("reference")||A?w:null].filter((e=>null!=e)),n=u||A?ra(e,x,!x):ra(e);return()=>{n()}}}),[r,w,S,u,C,D,A,x]),Ni((()=>{if(r||!Fr(L))return;const e=Jr(so(L));queueMicrotask((()=>{const t=j(L),n=O.current,r=("number"==typeof n?t[n]:n.current)||L,o=eo(L,e);E||o||!f||Qi(r,{preventScroll:r===L})}))}),[r,f,L,E,j,O]),Ni((()=>{if(r||!L)return;let e=!1;const t=so(L),n=Jr(t);let o=v.current.openEvent;function i(t){let{open:n,reason:r,event:i,nested:a}=t;n&&(o=i),"escape-key"===r&&h.domReference.current&&Sa(h.domReference.current),"hover"===r&&"mouseleave"===i.type&&(_.current=!0),"outside-press"===r&&(a?(_.current=!1,e=!0):_.current=!(ro(i)||oo(i)))}Sa(n),b.on("openchange",i);const a=t.createElement("span");return a.setAttribute("tabindex","-1"),a.setAttribute("aria-hidden","true"),Object.assign(a.style,da),M&&w&&w.insertAdjacentElement("afterend",a),()=>{b.off("openchange",i);const n=Jr(t),r=eo(S,n)||R&&Zi(R.nodesRef.current,m).some((e=>{var t;return eo(null==(t=e.context)?void 0:t.elements.floating,n)}));(r||o&&["click","mousedown"].includes(o.type))&&h.domReference.current&&Sa(h.domReference.current);const s="boolean"==typeof I.current?Ea()||a:I.current.current||a;queueMicrotask((()=>{I.current&&!_.current&&Fr(s)&&(s===n||n===t.body||r)&&s.focus({preventScroll:e}),a.remove()}))}}),[r,S,L,I,v,h,b,R,m,M,w]),i.useEffect((()=>{queueMicrotask((()=>{_.current=!1}))}),[r]),Ni((()=>{if(!r&&D)return D.setFocusManagerState({modal:u,closeOnFocusOut:p,open:f,onOpenChange:g,refs:h}),()=>{D.setFocusManagerState(null)}}),[r,D,u,f,g,h,p]),Ni((()=>{if(r)return;if(!L)return;if("function"!=typeof MutationObserver)return;if(E)return;const e=()=>{const e=L.getAttribute("tabindex"),t=N(),n=Jr(so(S)),r=t.indexOf(n);-1!==r&&(B.current=r),C.current.includes("floating")||n!==h.domReference.current&&0===t.length?"0"!==e&&L.setAttribute("tabindex","0"):"-1"!==e&&L.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(L,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}}),[r,S,L,h,C,N,E]);const z=!r&&x&&(!u||!A)&&(M||u);return i.createElement(i.Fragment,null,z&&i.createElement(fa,{"data-type":"inside",ref:null==D?void 0:D.beforeInsideRef,onFocus:e=>{if(u){const e=j();Qi("reference"===o[0]?e[0]:e[e.length-1])}else if(null!=D&&D.preserveTabOrder&&D.portalNode)if(_.current=!1,la(e,D.portalNode)){const e=aa()||w;null==e||e.focus()}else{var t;null==(t=D.beforeOutsideRef.current)||t.focus()}}}),!A&&F("start"),n,F("end"),z&&i.createElement(fa,{"data-type":"inside",ref:null==D?void 0:D.afterInsideRef,onFocus:e=>{if(u)Qi(j()[0]);else if(null!=D&&D.preserveTabOrder&&D.portalNode)if(p&&(_.current=!0),la(e,D.portalNode)){const e=sa()||w;null==e||e.focus()}else{var t;null==(t=D.afterOutsideRef.current)||t.focus()}}}))}const Ca={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Oa={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Ia=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function Ra(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=$i(),a=i.useRef({}),[s]=i.useState((()=>function(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}())),l=null!=Hi(),[c,u]=i.useState(r.reference),d=xi(((e,t,r)=>{a.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)})),p=i.useMemo((()=>({setPositionReference:u})),[]),f=i.useMemo((()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference})),[c,r.reference,r.floating]);return i.useMemo((()=>({dataRef:a,open:t,onOpenChange:d,elements:f,events:s,floatingId:o,refs:p})),[t,d,f,s,o,p])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[a,s]=i.useState(null),[l,c]=i.useState(null),u=(null==o?void 0:o.domReference)||a,d=i.useRef(null),p=Gi();Ni((()=>{u&&(d.current=u)}),[u]);const f=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,p]=i.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=i.useState(r);gi(f,r)||h(r);const[m,g]=i.useState(null),[b,v]=i.useState(null),y=i.useCallback((e=>{e!==A.current&&(A.current=e,g(e))}),[]),w=i.useCallback((e=>{e!==x.current&&(x.current=e,v(e))}),[]),S=a||m,E=s||b,A=i.useRef(null),x=i.useRef(null),C=i.useRef(d),O=null!=c,I=yi(c),R=yi(o),D=yi(u),P=i.useCallback((()=>{if(!A.current||!x.current)return;const e={placement:t,strategy:n,middleware:f};R.current&&(e.platform=R.current),hi(A.current,x.current,e).then((e=>{const t={...e,isPositioned:!1!==D.current};T.current&&!gi(C.current,t)&&(C.current=t,Ho.flushSync((()=>{p(t)})))}))}),[f,t,n,R,D]);mi((()=>{!1===u&&C.current.isPositioned&&(C.current.isPositioned=!1,p((e=>({...e,isPositioned:!1}))))}),[u]);const T=i.useRef(!1);mi((()=>(T.current=!0,()=>{T.current=!1})),[]),mi((()=>{if(S&&(A.current=S),E&&(x.current=E),S&&E){if(I.current)return I.current(S,E,P);P()}}),[S,E,P,I,O]);const _=i.useMemo((()=>({reference:A,floating:x,setReference:y,setFloating:w})),[y,w]),k=i.useMemo((()=>({reference:S,floating:E})),[S,E]),B=i.useMemo((()=>{const e={position:n,left:0,top:0};if(!k.floating)return e;const t=vi(k.floating,d.x),r=vi(k.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+r+"px)",...bi(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,l,k.floating,d.x,d.y]);return i.useMemo((()=>({...d,update:P,refs:_,elements:k,floatingStyles:B})),[d,P,_,k,B])}({...e,elements:{...o,...l&&{reference:l}}}),h=i.useCallback((e=>{const t=jr(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;c(t),f.refs.setReference(t)}),[f.refs]),m=i.useCallback((e=>{(jr(e)||null===e)&&(d.current=e,s(e)),(jr(f.refs.reference.current)||null===f.refs.reference.current||null!==e&&!jr(e))&&f.refs.setReference(e)}),[f.refs]),g=i.useMemo((()=>({...f.refs,setReference:m,setPositionReference:h,domReference:d})),[f.refs,m,h]),b=i.useMemo((()=>({...f.elements,domReference:u})),[f.elements,u]),v=i.useMemo((()=>({...f,...r,refs:g,elements:b,nodeId:t})),[f,g,b,t,r]);return Ni((()=>{r.dataRef.current.floatingContext=v;const e=null==p?void 0:p.nodesRef.current.find((e=>e.id===t));e&&(e.context=v)})),i.useMemo((()=>({...f,context:v,refs:g,elements:b})),[f,g,b,v])}const Da="active",Pa="selected";function Ta(e,t,n){const r=new Map,o="item"===n;let i=e;if(o&&e){const{[Da]:t,[Pa]:n,...r}=e;i=r}return{..."floating"===n&&{tabIndex:-1,[va]:""},...i,...t.map((t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,i]=t;var a;o&&[Da,Pa].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof i&&(null==(a=r.get(n))||a.push(i),e[n]=function(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return null==(e=r.get(n))?void 0:e.map((e=>e(...o))).find((e=>void 0!==e))})):e[n]=i)})),e):e),{})}}let _a=!1;function ka(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Ba(e,t){return ka(t,e===Ci||e===Oi,e===Ii||e===Ri)}function Ma(e,t,n){return ka(t,e===Oi,n?e===Ii:e===Ri)||"Enter"===e||" "===e||""===e}function La(e,t,n){return ka(t,n?e===Ri:e===Ii,e===Ci)}function Na(e,t){const{open:n,onOpenChange:r,elements:o}=e,{listRef:a,activeIndex:s,onNavigate:l=()=>{},enabled:c=!0,selectedIndex:u=null,allowEscape:d=!1,loop:p=!1,nested:f=!1,rtl:h=!1,virtual:m=!1,focusItemOnOpen:g="auto",focusItemOnHover:b=!0,openOnArrowKeyDown:v=!0,disabledIndices:y,orientation:w="vertical",cols:S=1,scrollItemIntoView:E=!0,virtualItemRef:A,itemSizes:x,dense:C=!1}=t,O=Yi(ya(o.floating)),I=Hi(),R=Gi(),D=xi(l),P=po(o.domReference),T=i.useRef(g),_=i.useRef(null!=u?u:-1),k=i.useRef(null),B=i.useRef(!0),M=i.useRef(D),L=i.useRef(!!o.floating),N=i.useRef(n),j=i.useRef(!1),F=i.useRef(!1),z=Yi(y),V=Yi(n),$=Yi(E),U=Yi(u),[W,H]=i.useState(),[G,q]=i.useState(),Y=xi((function(e,t,n){function r(e){m?(H(e.id),null==R||R.events.emit("virtualfocus",e),A&&(A.current=e)):Qi(e,{preventScroll:!0,sync:!(!to().toLowerCase().startsWith("mac")||navigator.maxTouchPoints||!io())&&(_a||j.current)})}void 0===n&&(n=!1);const o=e.current[t.current];o&&r(o),requestAnimationFrame((()=>{const i=e.current[t.current]||o;if(!i)return;o||r(i);const a=$.current;a&&Q&&(n||!B.current)&&(null==i.scrollIntoView||i.scrollIntoView("boolean"==typeof a?{block:"nearest",inline:"nearest"}:a))}))}));Ni((()=>{document.createElement("div").focus({get preventScroll(){return _a=!0,!1}})}),[]),Ni((()=>{c&&(n&&o.floating?T.current&&null!=u&&(F.current=!0,_.current=u,D(u)):L.current&&(_.current=-1,M.current(null)))}),[c,n,o.floating,u,D]),Ni((()=>{if(c&&n&&o.floating)if(null==s){if(j.current=!1,null!=U.current)return;if(L.current&&(_.current=-1,Y(a,_)),(!N.current||!L.current)&&T.current&&(null!=k.current||!0===T.current&&null==k.current)){let e=0;const t=()=>{null==a.current[0]?(e<2&&(e?requestAnimationFrame:queueMicrotask)(t),e++):(_.current=null==k.current||Ma(k.current,w,h)||f?Ti(a,z.current):_i(a,z.current),k.current=null,D(_.current))};t()}}else Pi(a,s)||(_.current=s,Y(a,_,F.current),F.current=!1)}),[c,n,o.floating,s,U,f,a,w,h,D,Y,z]),Ni((()=>{var e;if(!c||o.floating||!R||m||!L.current)return;const t=R.nodesRef.current,n=null==(e=t.find((e=>e.id===I)))||null==(e=e.context)?void 0:e.elements.floating,r=Jr(so(o.floating)),i=t.some((e=>e.context&&eo(e.context.elements.floating,r)));n&&!i&&B.current&&n.focus({preventScroll:!0})}),[c,o.floating,R,I,m]),Ni((()=>{if(c&&R&&m&&!I)return R.events.on("virtualfocus",e),()=>{R.events.off("virtualfocus",e)};function e(e){q(e.id),A&&(A.current=e)}}),[c,R,m,I,A]),Ni((()=>{M.current=D,L.current=!!o.floating})),Ni((()=>{n||(k.current=null)}),[n]),Ni((()=>{N.current=n}),[n]);const X=null!=s,Q=i.useMemo((()=>{function e(e){if(!n)return;const t=a.current.indexOf(e);-1!==t&&D(t)}const t={onFocus(t){let{currentTarget:n}=t;e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...b&&{onMouseMove(t){let{currentTarget:n}=t;e(n)},onPointerLeave(e){let{pointerType:t}=e;B.current&&"touch"!==t&&(_.current=-1,Y(a,_),D(null),m||Qi(O.current,{preventScroll:!0}))}}};return t}),[n,O,Y,b,a,D,m]),Z=xi((e=>{if(B.current=!1,j.current=!0,229===e.which)return;if(!V.current&&e.currentTarget===O.current)return;if(f&&La(e.key,w,h))return uo(e),r(!1,e.nativeEvent,"list-navigation"),void(Fr(o.domReference)&&(m?null==R||R.events.emit("virtualfocus",o.domReference):o.domReference.focus()));const t=_.current,i=Ti(a,y),s=_i(a,y);if(P||("Home"===e.key&&(uo(e),_.current=i,D(_.current)),"End"===e.key&&(uo(e),_.current=s,D(_.current))),S>1){const t=x||Array.from({length:a.current.length},(()=>({width:1,height:1}))),n=function(e,t,n){const r=[];let o=0;return e.forEach(((e,i)=>{let{width:a,height:s}=e,l=!1;for(n&&(o=0);!l;){const e=[];for(let n=0;n<a;n++)for(let r=0;r<s;r++)e.push(o+n+r*t);o%t+a<=t&&e.every((e=>null==r[e]))?(e.forEach((e=>{r[e]=i})),l=!0):o++}})),[...r]}(t,S,C),r=n.findIndex((e=>null!=e&&!Li(a.current,e,y))),o=n.reduce(((e,t,n)=>null==t||Li(a.current,t,y)?e:n),-1),l=n[function(e,t){let{event:n,orientation:r,loop:o,rtl:i,cols:a,disabledIndices:s,minIndex:l,maxIndex:c,prevIndex:u,stopEvent:d=!1}=t,p=u;if(n.key===Ci){if(d&&uo(n),-1===u)p=c;else if(p=ki(e,{startingIndex:p,amount:a,decrement:!0,disabledIndices:s}),o&&(u-a<l||p<0)){const e=u%a,t=c%a,n=c-(t-e);p=t===e?c:t>e?n:n-a}Pi(e,p)&&(p=u)}if(n.key===Oi&&(d&&uo(n),-1===u?p=l:(p=ki(e,{startingIndex:u,amount:a,disabledIndices:s}),o&&u+a>c&&(p=ki(e,{startingIndex:u%a-a,amount:a,disabledIndices:s}))),Pi(e,p)&&(p=u)),"both"===r){const t=go(u/a);n.key===(i?Ii:Ri)&&(d&&uo(n),u%a!=a-1?(p=ki(e,{startingIndex:u,disabledIndices:s}),o&&Di(p,a,t)&&(p=ki(e,{startingIndex:u-u%a-1,disabledIndices:s}))):o&&(p=ki(e,{startingIndex:u-u%a-1,disabledIndices:s})),Di(p,a,t)&&(p=u)),n.key===(i?Ri:Ii)&&(d&&uo(n),u%a!=0?(p=ki(e,{startingIndex:u,decrement:!0,disabledIndices:s}),o&&Di(p,a,t)&&(p=ki(e,{startingIndex:u+(a-u%a),decrement:!0,disabledIndices:s}))):o&&(p=ki(e,{startingIndex:u+(a-u%a),decrement:!0,disabledIndices:s})),Di(p,a,t)&&(p=u));const r=go(c/a)===t;Pi(e,p)&&(p=o&&r?n.key===(i?Ri:Ii)?c:ki(e,{startingIndex:u-u%a-1,disabledIndices:s}):u)}return p}({current:n.map((e=>null!=e?a.current[e]:null))},{event:e,orientation:w,loop:p,rtl:h,cols:S,disabledIndices:Mi([...y||a.current.map(((e,t)=>Li(a.current,t)?t:void 0)),void 0],n),minIndex:r,maxIndex:o,prevIndex:Bi(_.current>s?i:_.current,t,n,S,e.key===Oi?"bl":e.key===(h?Ii:Ri)?"tr":"tl"),stopEvent:!0})];if(null!=l&&(_.current=l,D(_.current)),"both"===w)return}if(Ba(e.key,w)){if(uo(e),n&&!m&&Jr(e.currentTarget.ownerDocument)===e.currentTarget)return _.current=Ma(e.key,w,h)?i:s,void D(_.current);Ma(e.key,w,h)?_.current=p?t>=s?d&&t!==a.current.length?-1:i:ki(a,{startingIndex:t,disabledIndices:y}):Math.min(s,ki(a,{startingIndex:t,disabledIndices:y})):_.current=p?t<=i?d&&-1!==t?a.current.length:s:ki(a,{startingIndex:t,decrement:!0,disabledIndices:y}):Math.max(i,ki(a,{startingIndex:t,decrement:!0,disabledIndices:y})),Pi(a,_.current)?D(null):D(_.current)}})),K=i.useMemo((()=>m&&n&&X&&{"aria-activedescendant":G||W}),[m,n,X,G,W]),J=i.useMemo((()=>({"aria-orientation":"both"===w?void 0:w,...!po(o.domReference)&&K,onKeyDown:Z,onPointerMove(){B.current=!0}})),[K,Z,o.domReference,w]),ee=i.useMemo((()=>{function e(e){"auto"===g&&ro(e.nativeEvent)&&(T.current=!0)}return{...K,onKeyDown(e){B.current=!1;const t=e.key.startsWith("Arrow"),o=["Home","End"].includes(e.key),i=t||o,s=function(e,t,n){return ka(t,n?e===Ii:e===Ri,e===Oi)}(e.key,w,h),l=La(e.key,w,h),c=Ba(e.key,w),d=(f?s:c)||"Enter"===e.key||""===e.key.trim();if(m&&n){const t=null==R?void 0:R.nodesRef.current.find((e=>null==e.parentId)),n=R&&t?function(e,t){let n,r=-1;return function t(o,i){i>r&&(n=o,r=i),Zi(e,o).forEach((e=>{t(e.id,i+1)}))}(t,0),e.find((e=>e.id===n))}(R.nodesRef.current,t.id):null;if(i&&n&&A){const t=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(s||l){var p,g;const r=(null==(p=n.context)?void 0:p.elements.domReference)===e.currentTarget,o=l&&!r?null==(g=n.context)?void 0:g.elements.domReference:s?a.current.find((e=>(null==e?void 0:e.id)===W)):null;o&&(uo(e),o.dispatchEvent(t),q(void 0))}var b;if((c||o)&&n.context&&n.context.open&&n.parentId&&e.currentTarget!==n.context.elements.domReference)return uo(e),void(null==(b=n.context.elements.domReference)||b.dispatchEvent(t))}return Z(e)}(n||v||!t)&&(d&&(k.current=f&&c?null:e.key),f?s&&(uo(e),n?(_.current=Ti(a,z.current),D(_.current)):r(!0,e.nativeEvent,"list-navigation")):c&&(null!=u&&(_.current=u),uo(e),!n&&v?r(!0,e.nativeEvent,"list-navigation"):Z(e),n&&D(_.current)))},onFocus(){n&&!m&&D(null)},onPointerDown:function(e){T.current=g,"auto"===g&&oo(e.nativeEvent)&&(T.current=!0)},onMouseDown:e,onClick:e}}),[W,K,Z,z,g,a,f,D,r,n,v,w,h,u,R,m,A]);return i.useMemo((()=>c?{reference:ee,floating:J,item:Q}:{}),[c,ee,J,Q])}const ja=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Fa(e,t,n){let r,o=n.initialDeps??[];function i(){var i,a,s,l;let c;n.key&&(null==(i=n.debug)?void 0:i.call(n))&&(c=Date.now());const u=e(),d=u.length!==o.length||u.some(((e,t)=>o[t]!==e));if(!d)return r;let p;if(o=u,n.key&&(null==(a=n.debug)?void 0:a.call(n))&&(p=Date.now()),r=t(...u),n.key&&(null==(s=n.debug)?void 0:s.call(n))){const e=Math.round(100*(Date.now()-c))/100,t=Math.round(100*(Date.now()-p))/100,r=t/16,o=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${o(t,5)} /${o(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return null==(l=null==n?void 0:n.onChange)||l.call(n,r),r}return i.updateDeps=e=>{o=e},i}function za(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?`: ${t}`:""));return e}const Va=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout((()=>t.apply(this,o)),n)}},$a=e=>e,Ua=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let e=t;e<=n;e++)r.push(e);return r},Wa=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=e=>{const{width:n,height:r}=e;t({width:Math.round(n),height:Math.round(r)})};if(o(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver((t=>{const r=()=>{const e=t[0];if(null==e?void 0:e.borderBoxSize){const t=e.borderBoxSize[0];if(t)return void o({width:t.inlineSize,height:t.blockSize})}o(n.getBoundingClientRect())};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()}));return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},Ha={passive:!0},Ga="undefined"==typeof window||"onscrollend"in window,qa=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const i=e.options.useScrollendEvent&&Ga?()=>{}:Va(r,(()=>{t(o,!1)}),e.options.isScrollingResetDelay),a=r=>()=>{const{horizontal:a,isRtl:s}=e.options;o=a?n.scrollLeft*(s?-1:1):n.scrollTop,i(),t(o,r)},s=a(!0),l=a(!1);l(),n.addEventListener("scroll",s,Ha);const c=e.options.useScrollendEvent&&Ga;return c&&n.addEventListener("scrollend",l,Ha),()=>{n.removeEventListener("scroll",s),c&&n.removeEventListener("scrollend",l)}},Ya=(e,t,n)=>{if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e)return Math.round(e[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Xa=(e,{adjustments:t=0,behavior:n},r)=>{var o,i;const a=e+t;null==(i=null==(o=r.scrollElement)?void 0:o.scrollTo)||i.call(o,{[r.options.horizontal?"left":"top"]:a,behavior:n})};class Qa{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver((e=>{e.forEach((e=>{const t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()}))})):null);return{disconnect:()=>{var n;null==(n=t())||n.disconnect(),e=null},observe:e=>{var n;return null==(n=t())?void 0:n.observe(e,{box:"border-box"})},unobserve:e=>{var n;return null==(n=t())?void 0:n.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach((([t,n])=>{void 0===n&&delete e[t]})),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:$a,rangeExtractor:Ua,onChange:()=>{},measureElement:Ya,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,n;null==(n=(t=this.options).onChange)||n.call(t,this,e)},this.maybeNotify=Fa((()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null])),(e=>{this.notify(e)}),{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach((e=>e())),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t)return void this.maybeNotify();this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach((e=>{this.observer.observe(e)})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,(e=>{this.scrollRect=e,this.maybeNotify()}))),this.unsubs.push(this.options.observeElementOffset(this,((e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()})))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{const n=new Map,r=new Map;for(let o=t-1;o>=0;o--){const t=e[o];if(n.has(t.lane))continue;const i=r.get(t.lane);if(null==i||t.end>i.end?r.set(t.lane,t):t.end<i.end&&n.set(t.lane,!0),n.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort(((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end))[0]:void 0},this.getMeasurementOptions=Fa((()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled]),((e,t,n,r,o)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:o})),{key:!1}),this.getMeasurements=Fa((()=>[this.getMeasurementOptions(),this.itemSizeCache]),(({count:e,paddingStart:t,scrollMargin:n,getItemKey:r,enabled:o},i)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach((e=>{this.itemSizeCache.set(e.key,e.size)})));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const s=this.measurementsCache.slice(0,a);for(let o=a;o<e;o++){const e=r(o),a=1===this.options.lanes?s[o-1]:this.getFurthestMeasurement(s,o),l=a?a.end+this.options.gap:t+n,c=i.get(e),u="number"==typeof c?c:this.options.estimateSize(o),d=l+u,p=a?a.lane:o%this.options.lanes;s[o]={index:o,start:l,size:u,end:d,key:e,lane:p}}return this.measurementsCache=s,s}),{key:!1,debug:()=>this.options.debug}),this.calculateRange=Fa((()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes]),((e,t,n,r)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const o=e.length-1;if(e.length<=r)return{startIndex:0,endIndex:o};let i=Za(0,o,(t=>e[t].start),n),a=i;if(1===r)for(;a<o&&e[a].end<n+t;)a++;else if(r>1){const s=Array(r).fill(0);for(;a<o&&s.some((e=>e<n+t));){const t=e[a];s[t.lane]=t.end,a++}const l=Array(r).fill(n+t);for(;i>=0&&l.some((e=>e>=n));){const t=e[i];l[t.lane]=t.start,i--}i=Math.max(0,i-i%r),a=Math.min(o,a+(r-1-a%r))}return{startIndex:i,endIndex:a}}({measurements:e,outerSize:t,scrollOffset:n,lanes:r}):null),{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Fa((()=>{let e=null,t=null;const n=this.calculateRange();return n&&(e=n.startIndex,t=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]}),((e,t,n,r,o)=>null===r||null===o?[]:e({startIndex:r,endIndex:o,overscan:t,count:n})),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{const n=this.indexFromElement(e),r=this.measurementsCache[n];if(!r)return;const o=r.key,i=this.elementsCache.get(o);i!==e&&(i&&this.observer.unobserve(i),this.observer.observe(e),this.elementsCache.set(o,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{const n=this.measurementsCache[e];if(!n)return;const r=t-(this.itemSizeCache.get(n.key)??n.size);0!==r&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(n,r,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach(((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))}))},this.getVirtualItems=Fa((()=>[this.getVirtualIndexes(),this.getMeasurements()]),((e,t)=>{const n=[];for(let r=0,o=e.length;r<o;r++){const o=t[e[r]];n.push(o)}return n}),{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(0!==t.length)return za(t[Za(0,t.length-1,(e=>za(t[e]).start),e)])},this.getOffsetForAlignment=(e,t,n=0)=>{const r=this.getSize(),o=this.getScrollOffset();"auto"===t&&(t=e>=o+r?"end":"start"),"center"===t?e+=(n-r)/2:"end"===t&&(e-=r);const i=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-r;return Math.max(Math.min(a,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const n=this.measurementsCache[e];if(!n)return;const r=this.getSize(),o=this.getScrollOffset();if("auto"===t)if(n.end>=o+r-this.options.scrollPaddingEnd)t="end";else{if(!(n.start<=o+this.options.scrollPaddingStart))return[o,t];t="start"}const i="end"===t?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,t,n.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{null!==this.scrollToIndexTimeoutId&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:n}={})=>{this.cancelScrollToIndex(),"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:t="auto",behavior:n}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),"smooth"===n&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const r=this.getOffsetForIndex(e,t);if(!r)return;const[o,i]=r;this._scrollToOffset(o,{adjustments:void 0,behavior:n}),"smooth"!==n&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout((()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){const[o]=za(this.getOffsetForIndex(e,i));t=o,r=this.getScrollOffset(),Math.abs(t-r)<1||this.scrollToIndex(e,{align:i,behavior:n})}else this.scrollToIndex(e,{align:i,behavior:n});var t,r})))},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let n;if(0===t.length)n=this.options.paddingStart;else if(1===this.options.lanes)n=(null==(e=t[t.length-1])?void 0:e.end)??0;else{const e=Array(this.options.lanes).fill(null);let r=t.length-1;for(;r>=0&&e.some((e=>null===e));){const n=t[r];null===e[n.lane]&&(e[n.lane]=n.end),r--}n=Math.max(...e.filter((e=>null!==e)))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const Za=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,i=n(o);if(i<r)e=o+1;else{if(!(i>r))return o;t=o-1}}return e>0?e-1:0},Ka="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;var Ja=Object.defineProperty,es=Object.getOwnPropertySymbols,ts=Object.prototype.hasOwnProperty,ns=Object.prototype.propertyIsEnumerable,rs=(e,t,n)=>t in e?Ja(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const os=(0,i.forwardRef)((function(e,t){var n=e,{children:r,active:o,addGroupBottomBorder:a,isMultiValueEdit:l,checked:c}=n,u=((e,t)=>{var n={};for(var r in e)ts.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&es)for(var r of es(e))t.indexOf(r)<0&&ns.call(e,r)&&(n[r]=e[r]);return n})(n,["children","active","addGroupBottomBorder","isMultiValueEdit","checked"]);const d=(0,In.useStyles2)(is),p=(0,i.useId)();return s().createElement("div",((e,t)=>{for(var n in t||(t={}))ts.call(t,n)&&rs(e,n,t[n]);if(es)for(var n of es(t))ns.call(t,n)&&rs(e,n,t[n]);return e})({ref:t,role:"option",id:p,"aria-selected":o,className:(0,Nn.cx)(d.option,o&&d.optionFocused,a&&d.groupBottomBorder)},u),s().createElement("div",{className:d.optionBody,"data-testid":`data-testid ad hoc filter option value ${r}`},s().createElement("span",null,l?s().createElement(In.Checkbox,{tabIndex:-1,checked:c,className:d.checkbox}):null,r)))})),is=e=>({option:(0,Nn.css)({label:"grafana-select-option",top:0,left:0,width:"100%",position:"absolute",padding:e.spacing(1),display:"flex",alignItems:"center",flexDirection:"row",flexShrink:0,whiteSpace:"nowrap",cursor:"pointer","&:hover":{background:e.colors.action.hover,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${e.colors.primary.border}`}}}),optionFocused:(0,Nn.css)({label:"grafana-select-option-focused",background:e.colors.action.focus,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${e.colors.primary.border}`}}),optionBody:(0,Nn.css)({label:"grafana-select-option-body",display:"flex",fontWeight:e.typography.fontWeightMedium,flexDirection:"column",flexGrow:1}),groupBottomBorder:(0,Nn.css)({borderBottom:`1px solid ${e.colors.border.weak}`}),checkbox:(0,Nn.css)({paddingRight:e.spacing(.5)}),multiValueApplyWrapper:(0,Nn.css)({position:"fixed",top:0,left:0,display:"flex",backgroundColor:e.colors.background.primary,color:e.colors.text.primary,boxShadow:e.shadows.z2,overflowY:"auto",zIndex:e.zIndex.dropdown,gap:e.spacing(1.5),padding:`${e.spacing(1.5)} ${e.spacing(1)}`})}),as=()=>s().createElement(os,{onClick:e=>e.stopPropagation()},"Loading options..."),ss=()=>s().createElement(os,{onClick:e=>e.stopPropagation()},"No options found"),ls=({handleFetchOptions:e})=>s().createElement(os,{onClick:e},"An error has occurred fetching labels. Click to retry"),cs=({onApply:e,floatingElement:t,maxOptionWidth:n,menuHeight:r})=>{const o=(0,In.useStyles2)(is),i=null==t?void 0:t.getBoundingClientRect();return s().createElement("div",{className:o.multiValueApplyWrapper,style:{width:`${n}px`,transform:`translate(${null==i?void 0:i.left}px,${i?i.top+r:0}px)`}},s().createElement(In.Button,{onClick:e,size:"sm",tabIndex:-1},"Apply"))},us=/[^ -~]/m,ds={key:"operator",operator:"value",value:"key"},ps=(e,t,n,r,o)=>fs(ds[e],t,"value"===e?n:void 0,r,o),fs=(e,t,n,r,o)=>{t(e),null==n||n(void 0,o),setTimeout((()=>null==r?void 0:r.focus()))},hs=({filterInputType:e,item:t,filter:n,setFilterMultiValues:r,onAddCustomValue:o})=>{var i,a,s,l,c;if("key"===e)return{key:t.value,keyLabel:t.label?t.label:t.value,meta:null==t?void 0:t.meta};if("value"===e)return t.isCustom&&o?o(t,n):{value:t.value,valueLabels:[t.label?t.label:t.value]};if("operator"===e){if(pl(n.operator)&&!pl(t.value))return r([]),{operator:t.value,valueLabels:[(null==(i=n.valueLabels)?void 0:i[0])||(null==(a=n.values)?void 0:a[0])||n.value],values:void 0};if(pl(t.value)&&!pl(n.operator)){const e=[(null==(s=n.valueLabels)?void 0:s[0])||(null==(l=n.values)?void 0:l[0])||n.value],o=[n.value];return o[0]&&r([{value:o[0],label:null!=(c=null==e?void 0:e[0])?c:o[0]}]),{operator:t.value,valueLabels:e,values:o}}}return{[e]:t.value}},ms="Filter by label values",gs=(e,t,n,r)=>{var o;return"key"===t?ms:"value"===t?n?"Edit values":(null==(o=e.valueLabels)?void 0:o[0])||"":e[t]&&!r?`${e[t]}`:ms},bs=({populateInputOnEdit:e,item:t,filterInputType:n,setInputValue:r,filter:o})=>{var i,a,s;e&&!pl(t.value||"")&&"value"===ds[n]?r(null!=(s=null!=(a=null==(i=null==o?void 0:o.valueLabels)?void 0:i[0])?a:null==o?void 0:o.value)?s:""):r("")};var vs=Object.defineProperty,ys=Object.defineProperties,ws=Object.getOwnPropertyDescriptors,Ss=Object.getOwnPropertySymbols,Es=Object.prototype.hasOwnProperty,As=Object.prototype.propertyIsEnumerable,xs=(e,t,n)=>t in e?vs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cs=(e,t)=>{for(var n in t||(t={}))Es.call(t,n)&&xs(e,n,t[n]);if(Ss)for(var n of Ss(t))As.call(t,n)&&xs(e,n,t[n]);return e};const Os=({item:e,handleRemoveMultiValue:t,index:n,handleEditMultiValuePill:r})=>{var o,a;const l=(0,In.useStyles2)(Is),c=(0,i.useCallback)((t=>{t.stopPropagation(),t.preventDefault(),r(e)}),[r,e]),u=(0,i.useCallback)((e=>{"Enter"===e.key&&c(e)}),[c]),d=(0,i.useCallback)((n=>{n.stopPropagation(),n.preventDefault(),t(e)}),[t,e]),p=(0,i.useCallback)((e=>{"Enter"===e.key&&d(e)}),[d]);return s().createElement("div",{className:(0,Nn.cx)(l.basePill,l.valuePill),onClick:c,onKeyDown:u,tabIndex:0,id:`${e.value}-${n}`},null!=(o=e.label)?o:e.value,s().createElement(In.Button,{onClick:d,onKeyDownCapture:p,fill:"text",size:"sm",variant:"secondary",className:l.removeButton,tooltip:`Remove filter value - ${null!=(a=e.label)?a:e.value}`},s().createElement(In.Icon,{name:"times",size:"md",id:`${e.value}-${n}-close-icon`})))},Is=e=>{return{basePill:(0,Nn.css)((t=Cs({display:"flex",alignItems:"center",background:e.colors.action.disabledBackground,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,1,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75)},e.typography.bodySmall),n={cursor:"pointer"},ys(t,ws(n)))),valuePill:(0,Nn.css)({background:e.colors.action.selected,padding:e.spacing(.125,0,.125,1)}),removeButton:(0,Nn.css)({marginInline:e.spacing(.5),height:"100%",padding:0,cursor:"pointer","&:hover":{color:e.colors.text.primary}})};var t,n};var Rs=Object.defineProperty,Ds=Object.defineProperties,Ps=Object.getOwnPropertyDescriptors,Ts=Object.getOwnPropertySymbols,_s=Object.prototype.hasOwnProperty,ks=Object.prototype.propertyIsEnumerable,Bs=(e,t,n)=>t in e?Rs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ms=(e,t)=>{for(var n in t||(t={}))_s.call(t,n)&&Bs(e,n,t[n]);if(Ts)for(var n of Ts(t))ks.call(t,n)&&Bs(e,n,t[n]);return e},Ls=(e,t)=>Ds(e,Ps(t));const Ns=(0,i.forwardRef)((function({filter:e,model:t,isAlwaysWip:n,handleChangeViewMode:r,focusOnWipInputRef:o,populateInputOnEdit:a},l){var c,u,d,p;const[f,h]=(0,i.useState)(!1),[m,g]=(0,i.useState)([]),[b,v]=(0,i.useState)(!1),[y,w]=(0,i.useState)(!1),[S,E]=(0,i.useState)(""),[A,x]=(0,i.useState)(null),[C,O]=(0,i.useState)(n?"key":"value"),[I,R]=(0,i.useState)(!n&&"value"===C),D=(0,In.useStyles2)(js),[P,T]=(0,i.useState)([]),[_,k]=(0,i.useState)({}),B=null==(c=t.state.allowCustomValue)||c,M=(0,i.useRef)(null),L=pl((null==e?void 0:e.operator)||""),N=L&&"value"===C,j=(0,i.useId)(),F=(0,i.useRef)([]),z=(0,i.useRef)([]),V=(0,i.useRef)(n?"key":"value"),$=(0,i.useMemo)((()=>function(e){const t=rc(e.map((e=>{var t;return null!=(t=e.label)?t:e.value})));return(n,r)=>us.test(n)?e.filter((e=>{var t,r;return(null==(t=e.label)?void 0:t.includes(n))||(null==(r=e.value)?void 0:r.includes(n))||!1})):("operator"===r&&""!==n&&(n=`"${n}"`),t(n).map((t=>e[t])))}(m)),[m]),U=(0,i.useMemo)((()=>!n&&t.state.filters.at(-1)===e),[e,n,t.state.filters]),W=(0,i.useCallback)((()=>{n&&(t._addWip(),O("key"),E(""))}),[t,n]),H=(0,i.useCallback)(((e,t,n,r)=>{if(n.length){const r=[],o=[];n.forEach((e=>{var t;r.push(null!=(t=e.label)?t:e.value),o.push(e.value)})),e._updateFilter(t,{valueLabels:r,values:o,value:o[0]}),T([])}r||setTimeout((()=>{var e;return null==(e=X.domReference.current)?void 0:e.focus()}))}),[]),G=(0,i.useCallback)((e=>{T((t=>t.some((t=>t.value===e.value))?t.filter((t=>t.value!==e.value)):[...t,e]))}),[]),q=(0,i.useCallback)(((n,o,i)=>{h(n),i&&["outside-press","escape-key"].includes(i)&&(N&&H(t,e,P),W(),null==r||r())}),[e,P,r,H,W,N,t]),Y=(0,i.useMemo)((()=>[j,...P.reduce(((e,t,n)=>[...e,`${t.value}-${n}`,`${t.value}-${n}-close-icon`]),[])]),[j,P]),{refs:X,floatingStyles:Q,context:Z,getReferenceProps:K,getFloatingProps:J,getItemProps:ee}=(({open:e,onOpenChange:t,activeIndex:n,setActiveIndex:r,outsidePressIdsToIgnore:o,listRef:a,disabledIndicesRef:s})=>{const{refs:l,floatingStyles:c,context:u}=Ra({whileElementsMounted:ui,open:e,onOpenChange:t,placement:"bottom-start",middleware:[{...di(10),options:[10,void 0]},wi({padding:10}),Si({apply({availableHeight:e,availableWidth:t,elements:n}){n.floating.style.maxHeight=`${Math.min(300,e)}px`,n.floating.style.maxWidth=`${t}px`},padding:10})],strategy:"fixed"}),d=function(e,t){var n;void 0===t&&(t={});const{open:r,floatingId:o}=e,{enabled:a=!0,role:s="dialog"}=t,l=null!=(n=ja.get(s))?n:s,c=$i(),u=null!=Hi(),d=i.useMemo((()=>"tooltip"===l||"label"===s?{["aria-"+("label"===s?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===l?"dialog":l,"aria-controls":r?o:void 0,..."listbox"===l&&{role:"combobox"},..."menu"===l&&{id:c},..."menu"===l&&u&&{role:"menuitem"},..."select"===s&&{"aria-autocomplete":"none"},..."combobox"===s&&{"aria-autocomplete":"list"}}),[l,o,u,r,c,s]),p=i.useMemo((()=>{const e={id:o,...l&&{role:l}};return"tooltip"===l||"label"===s?e:{...e,..."menu"===l&&{"aria-labelledby":c}}}),[l,o,c,s]),f=i.useCallback((e=>{let{active:t,selected:n}=e;const r={role:"option",...t&&{id:o+"-option"}};switch(s){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,...t&&{"aria-selected":!0}}}return{}}),[o,s]);return i.useMemo((()=>a?{reference:d,floating:p,item:f}:{}),[a,d,p,f])}(u,{role:"listbox"}),p=function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:a}=e,{enabled:s=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:u="pointerdown",referencePress:d=!1,referencePressEvent:p="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:m}=t,g=Gi(),b=xi("function"==typeof c?c:()=>!1),v="function"==typeof c?b:c,y=i.useRef(!1),w=i.useRef(!1),{escapeKey:S,outsidePress:E}=Ia(h),{escapeKey:A,outsidePress:x}=Ia(m),C=i.useRef(!1),O=xi((e=>{var t;if(!n||!s||!l||"Escape"!==e.key)return;if(C.current)return;const o=null==(t=a.current.floatingContext)?void 0:t.nodeId,i=g?Zi(g.nodesRef.current,o):[];if(!S&&(e.stopPropagation(),i.length>0)){let e=!0;if(i.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),I=xi((e=>{var t;const n=()=>{var t;O(e),null==(t=co(e))||t.removeEventListener("keydown",n)};null==(t=co(e))||t.addEventListener("keydown",n)})),R=xi((e=>{var t;const n=y.current;y.current=!1;const i=w.current;if(w.current=!1,"click"===u&&i)return;if(n)return;if("function"==typeof v&&!v(e))return;const s=co(e),l="["+qi("inert")+"]",c=so(o.floating).querySelectorAll(l);let d=jr(s)?s:null;for(;d&&!Gr(d);){const e=Xr(d);if(Gr(e)||!jr(e))break;d=e}if(c.length&&jr(s)&&!s.matches("html,body")&&!eo(s,o.floating)&&Array.from(c).every((e=>!eo(d,e))))return;if(Fr(s)&&T){const t=s.clientWidth>0&&s.scrollWidth>s.clientWidth,n=s.clientHeight>0&&s.scrollHeight>s.clientHeight;let r=n&&e.offsetX>s.clientWidth;if(n&&"rtl"===qr(s).direction&&(r=e.offsetX<=s.offsetWidth-s.clientWidth),r||t&&e.offsetY>s.clientHeight)return}const p=null==(t=a.current.floatingContext)?void 0:t.nodeId,f=g&&Zi(g.nodesRef.current,p).some((t=>{var n;return lo(e,null==(n=t.context)?void 0:n.elements.floating)}));if(lo(e,o.floating)||lo(e,o.domReference)||f)return;const h=g?Zi(g.nodesRef.current,p):[];if(h.length>0){let e=!0;if(h.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}r(!1,e,"outside-press")})),D=xi((e=>{var t;const n=()=>{var t;R(e),null==(t=co(e))||t.removeEventListener(u,n)};null==(t=co(e))||t.addEventListener(u,n)}));i.useEffect((()=>{if(!n||!s)return;a.current.__escapeKeyBubbles=S,a.current.__outsidePressBubbles=E;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function i(){window.clearTimeout(e),C.current=!0}function c(){e=window.setTimeout((()=>{C.current=!1}),Hr()?5:0)}const d=so(o.floating);l&&(d.addEventListener("keydown",A?I:O,A),d.addEventListener("compositionstart",i),d.addEventListener("compositionend",c)),v&&d.addEventListener(u,x?D:R,x);let p=[];return f&&(jr(o.domReference)&&(p=Zr(o.domReference)),jr(o.floating)&&(p=p.concat(Zr(o.floating))),!jr(o.reference)&&o.reference&&o.reference.contextElement&&(p=p.concat(Zr(o.reference.contextElement)))),p=p.filter((e=>{var t;return e!==(null==(t=d.defaultView)?void 0:t.visualViewport)})),p.forEach((e=>{e.addEventListener("scroll",t,{passive:!0})})),()=>{l&&(d.removeEventListener("keydown",A?I:O,A),d.removeEventListener("compositionstart",i),d.removeEventListener("compositionend",c)),v&&d.removeEventListener(u,x?D:R,x),p.forEach((e=>{e.removeEventListener("scroll",t)})),window.clearTimeout(e)}}),[a,o,l,v,u,n,r,f,s,S,E,O,A,I,R,x,D]),i.useEffect((()=>{y.current=!1}),[v,u]);const P=i.useMemo((()=>({onKeyDown:O,[Ca[p]]:e=>{d&&r(!1,e.nativeEvent,"reference-press")}})),[O,r,d,p]),T=i.useMemo((()=>({onKeyDown:O,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[Oa[u]]:()=>{y.current=!0}})),[O,u]);return i.useMemo((()=>s?{reference:P,floating:T}:{}),[s,P,T])}(u,{outsidePress:e=>{var t;if(e.currentTarget instanceof Element){const n=e.currentTarget;let r=n.id;if("path"===n.nodeName&&(r=(null==(t=n.parentElement)?void 0:t.id)||""),o.includes(r))return!1}return!0}}),f=Na(u,{listRef:a,activeIndex:n,onNavigate:r,virtual:!0,loop:!0,disabledIndices:s.current}),{getReferenceProps:h,getFloatingProps:m,getItemProps:g}=function(e){void 0===e&&(e=[]);const t=e.map((e=>null==e?void 0:e.reference)),n=e.map((e=>null==e?void 0:e.floating)),r=e.map((e=>null==e?void 0:e.item)),o=i.useCallback((t=>Ta(t,e,"reference")),t),a=i.useCallback((t=>Ta(t,e,"floating")),n),s=i.useCallback((t=>Ta(t,e,"item")),r);return i.useMemo((()=>({getReferenceProps:o,getFloatingProps:a,getItemProps:s})),[o,a,s])}([d,p,f]);return{refs:l,floatingStyles:c,context:u,getReferenceProps:h,getFloatingProps:m,getItemProps:g}})({open:f,onOpenChange:q,activeIndex:A,setActiveIndex:x,outsidePressIdsToIgnore:Y,listRef:F,disabledIndicesRef:z});(0,i.useImperativeHandle)(l,(()=>()=>{var e;return null==(e=X.domReference.current)?void 0:e.focus()}),[X.domReference]);const te=(0,i.useCallback)((e=>{T((t=>t.filter((t=>t.value!==e.value)))),setTimeout((()=>{var e;return null==(e=X.domReference.current)?void 0:e.focus()}))}),[X.domReference]),ne=(e=>e.flatMap((e=>e.options?[e,...e.options]:[e])))(nc($(I?"":S,C)));B&&"operator"!==C&&S&&ne.push({value:S.trim(),label:S.trim(),isCustom:!0});const re=t.state.onAddCustomValue,oe=((e,t,n)=>{var r,o,i,a;let s=182;const l=[],c=[];for(let t=0;t<e.length;t++){l.push(null),(null==(r=e[t])?void 0:r.options)&&c.push(t);let n=null!=(i=null!=(o=e[t].label)?o:e[t].value)?i:"",u=8;8*n.length<6*((null==(a=e[t].description)?void 0:a.length)||0)&&(n=e[t].description,u=6);const d=(e[t].isCustom?n.length+18:n.length)*u+16;d>s&&(s=d)}return t.current=[...l],n.current=[...c],s})(ne,F,z),ie=(0,i.useCallback)((async n=>{var r;w(!1),v(!0),g([]);let o=[];try{if("key"===n?o=await t._getKeys(null):"operator"===n?o=t._getOperators():"value"===n&&(o=await t._getValuesFor(e)),V.current!==n)return;g(o),(null==(r=o[0])?void 0:r.group)?x(1):x(0)}catch(e){w(!0)}v(!1)}),[e,t]),ae=function(e){return function(e){const t=i.useReducer((()=>({})),{})[1],n={...e,onChange:(n,r)=>{var o;r?(0,Ho.flushSync)(t):t(),null==(o=e.onChange)||o.call(e,n,r)}},[r]=i.useState((()=>new Qa(n)));return r.setOptions(n),Ka((()=>r._didMount()),[]),Ka((()=>r._willUpdate())),r}({observeElementRect:Wa,observeElementOffset:qa,scrollToFn:Xa,...e})}({count:ne.length,getScrollElement:()=>X.floating.current,estimateSize:e=>ne[e].description?60:38,overscan:5}),se=(0,i.useCallback)(((r,i)=>{if("Backspace"===r.key&&!S){if("value"===C)return i&&P.length?void T((e=>{const t=[...e];return t.splice(-1,1),t})):void O("operator");null==o||o(),t._handleComboboxBackspace(e),n&&W()}}),[S,C,t,e,n,P.length,W,o]),le=(0,i.useCallback)(((n,o)=>{var i;"Tab"!==n.key||n.shiftKey||(o&&(n.preventDefault(),H(t,e,P),null==(i=X.domReference.current)||i.focus()),null==r||r(),W())}),[e,P,r,H,W,t,X.domReference]),ce=(0,i.useCallback)(((n,o)=>{"Tab"===n.key&&n.shiftKey&&(o&&(n.preventDefault(),H(t,e,P,!0)),null==r||r(),W())}),[e,P,r,H,W,t]),ue=(0,i.useCallback)(((n,i)=>{if("Enter"===n.key&&null!=A){if(!ne[A])return;const n=ne[A];i?(G(n),E("")):(t._updateFilter(e,hs({filterInputType:C,item:n,filter:e,setFilterMultiValues:T,onAddCustomValue:re})),bs({populateInputOnEdit:a,item:n,filterInputType:C,setInputValue:E,filter:e}),ps(C,O,r,X.domReference.current,!U&&void 0),x(null),U&&(null==o||o()))}}),[A,ne,G,t,e,C,a,r,X.domReference,U,o,re]),de=(0,i.useCallback)((e=>{var t;const n=e.label||e.value;T((t=>t.filter((t=>t.value!==e.value)))),R(!0),E(n),null==(t=X.domReference.current)||t.focus(),setTimeout((()=>{var e;null==(e=X.domReference.current)||e.select()}))}),[X.domReference]);(0,i.useEffect)((()=>{f&&ie(C)}),[f,C]),(0,i.useEffect)((()=>{var t,r,o,i;if(!n){if(L&&(null==(t=null==e?void 0:e.values)?void 0:t.length)){const t=e.values.reduce(((t,n,r)=>{var o;return[...t,{label:(null==(o=e.valueLabels)?void 0:o[r])||n,value:n}]}),[]);T(t)}!L&&a&&(E(null!=(o=null==(r=null==e?void 0:e.valueLabels)?void 0:r[0])?o:(null==e?void 0:e.value)||""),setTimeout((()=>{var e;null==(e=X.domReference.current)||e.select()}))),null==(i=X.domReference.current)||i.focus()}}),[]),(0,i.useEffect)((()=>{N&&P&&setTimeout((()=>k({})))}),[P,N]),(0,i.useLayoutEffect)((()=>{V.current&&(V.current=C)}),[C]),(0,i.useLayoutEffect)((()=>{var e,t;null!==A&&ae.range&&(A>(null==(e=ae.range)?void 0:e.endIndex)||A<(null==(t=ae.range)?void 0:t.startIndex))&&ae.scrollToIndex(A)}),[A,ae]);const pe=null!=(u=null==e?void 0:e.keyLabel)?u:null==e?void 0:e.key;return s().createElement("div",{className:D.comboboxWrapper},e?s().createElement("div",{className:D.pillWrapper},(null==e?void 0:e.key)?s().createElement("div",{className:(0,Nn.cx)(D.basePill,D.keyPill)},pe):null,(null==e?void 0:e.key)&&(null==e?void 0:e.operator)&&"operator"!==C?s().createElement("div",{id:j,className:(0,Nn.cx)(D.basePill,D.operatorPill,j),role:"button","aria-label":"Edit filter operator",tabIndex:0,onClick:e=>{e.stopPropagation(),E(""),fs("operator",O,void 0,X.domReference.current)},onKeyDown:e=>{ce(e,L),"Enter"===e.key&&(E(""),fs("operator",O,void 0,X.domReference.current))}},e.operator):null,s().createElement("div",{ref:M}),N?P.map(((e,t)=>s().createElement(Os,{key:`${e.value}-${t}`,item:e,index:t,handleRemoveMultiValue:te,handleEditMultiValuePill:de}))):null):null,s().createElement("input",Ls(Ms({},K({ref:X.setReference,onChange:function(e){const t=e.target.value;E(t),x(0),I&&R(!1)},value:S,placeholder:gs(e,C,N,n),"aria-autocomplete":"list",onKeyDown(e){f?("operator"===C&&ce(e),se(e,N),le(e,N),ue(e,N)):h(!0)}})),{className:(0,Nn.cx)(D.inputStyle,{[D.loadingInputPadding]:!b}),onClick:e=>{e.stopPropagation(),h(!0)},onFocus:()=>{h(!0)}})),b?s().createElement(In.Spinner,{className:D.loadingIndicator,inline:!0}):null,s().createElement(ga,null,f&&s().createElement(xa,{context:Z,initialFocus:-1,visuallyHiddenDismiss:!0,modal:!1},s().createElement(s().Fragment,null,s().createElement("div",{style:Ls(Ms({},Q),{width:`${y?366:oe}px`,transform:N?`translate(${(null==(d=M.current)?void 0:d.getBoundingClientRect().left)||0}px, ${((null==(p=X.domReference.current)?void 0:p.getBoundingClientRect().bottom)||0)+10}px )`:Q.transform}),ref:X.setFloating,className:D.dropdownWrapper,tabIndex:-1},s().createElement("div",Ls(Ms({style:{height:`${ae.getTotalSize()||38}px`}},J()),{tabIndex:-1}),b?s().createElement(as,null):y?s().createElement(ls,{handleFetchOptions:()=>ie(C)}):ne.length||B&&"operator"!==C&&S?ae.getVirtualItems().map((n=>{var o;const i=ne[n.index],l=n.index;if(i.options)return s().createElement("div",{key:`${i.label}+${l}`,className:(0,Nn.cx)(D.optionGroupLabel,D.groupTopBorder),style:{height:`${n.size}px`,transform:`translateY(${n.start}px)`}},s().createElement(In.Text,{weight:"bold",variant:"bodySmall",color:"secondary"},i.label));const c=ne[n.index+1],u=c&&!c.group&&!c.options&&i.group;return s().createElement(os,Ls(Ms({},ee({key:`${i.value}-${l}`,ref(e){F.current[l]=e},onClick(n){var o;"value"!==C&&n.stopPropagation(),N?(n.preventDefault(),n.stopPropagation(),G(i),E(""),null==(o=X.domReference.current)||o.focus()):(t._updateFilter(e,hs({filterInputType:C,item:i,filter:e,setFilterMultiValues:T,onAddCustomValue:re})),bs({populateInputOnEdit:a,item:i,filterInputType:C,setInputValue:E,filter:e}),ps(C,O,r,X.domReference.current,!1))}})),{active:A===l,addGroupBottomBorder:u,style:{height:`${n.size}px`,transform:`translateY(${n.start}px)`},"aria-setsize":ne.length,"aria-posinset":n.index+1,isMultiValueEdit:N,checked:P.some((e=>e.value===i.value))}),s().createElement("span",null,i.isCustom?"Use custom value: ":""," ",null!=(o=i.label)?o:i.value),i.description?s().createElement("div",{className:D.descriptionText},i.description):null)})):s().createElement(ss,null))),N&&!b&&!y&&ne.length?s().createElement(cs,{onApply:()=>{H(t,e,P)},floatingElement:X.floating.current,maxOptionWidth:oe,menuHeight:Math.min(ae.getTotalSize(),300)}):null))))})),js=e=>({comboboxWrapper:(0,Nn.css)({display:"flex",flexWrap:"wrap"}),pillWrapper:(0,Nn.css)({display:"flex",alignItems:"center",flexWrap:"wrap"}),basePill:(0,Nn.css)(Ls(Ms({display:"flex",alignItems:"center",background:e.colors.action.disabledBackground,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,1,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75)},e.typography.bodySmall),{cursor:"pointer"})),keyPill:(0,Nn.css)({fontWeight:e.typography.fontWeightBold,cursor:"default"}),operatorPill:(0,Nn.css)({"&:hover":{background:e.colors.action.hover}}),dropdownWrapper:(0,Nn.css)({backgroundColor:e.colors.background.primary,color:e.colors.text.primary,boxShadow:e.shadows.z2,overflowY:"auto",zIndex:e.zIndex.dropdown}),inputStyle:(0,Nn.css)({paddingBlock:0,"&:focus":{outline:"none"}}),loadingIndicator:(0,Nn.css)({color:e.colors.text.secondary,marginLeft:e.spacing(.5)}),loadingInputPadding:(0,Nn.css)({paddingRight:e.spacing(2.5)}),optionGroupLabel:(0,Nn.css)({padding:e.spacing(1),position:"absolute",top:0,left:0,width:"100%"}),groupTopBorder:(0,Nn.css)({"&:not(:first-child)":{borderTop:`1px solid ${e.colors.border.weak}`}}),descriptionText:(0,Nn.css)(Ls(Ms({},e.typography.bodySmall),{color:e.colors.text.secondary,paddingTop:e.spacing(.5)}))});var Fs=Object.defineProperty,zs=Object.defineProperties,Vs=Object.getOwnPropertyDescriptors,$s=Object.getOwnPropertySymbols,Us=Object.prototype.hasOwnProperty,Ws=Object.prototype.propertyIsEnumerable,Hs=(e,t,n)=>t in e?Fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gs=(e,t)=>{for(var n in t||(t={}))Us.call(t,n)&&Hs(e,n,t[n]);if($s)for(var n of $s(t))Ws.call(t,n)&&Hs(e,n,t[n]);return e};function qs({filter:e,model:t,readOnly:n,focusOnWipInputRef:r}){var o,a,l;const c=(0,In.useStyles2)(Ys),[u,d]=(0,i.useState)(!0),[p,f]=(0,i.useState)(!1),h=(0,i.useRef)(null),[m,g]=(0,i.useState)(!1),b=null!=(o=e.keyLabel)?o:e.key,v=(null==(a=e.valueLabels)?void 0:a.join(", "))||(null==(l=e.values)?void 0:l.join(", "))||e.value,y=(0,i.useCallback)(((e,t)=>{null==e||e.stopPropagation(),n||(f(null!=t?t:!u),d(!u))}),[n,u]);if((0,i.useEffect)((()=>{var e;p&&(null==(e=h.current)||e.focus(),f(!1))}),[p]),(0,i.useEffect)((()=>{e.forceEdit&&u&&(d(!1),t._updateFilter(e,{forceEdit:void 0}))}),[e,t,u]),(0,i.useEffect)((()=>{u&&g((e=>!e&&e))}),[u]),u){const o=s().createElement("span",{className:c.pillText},b," ",e.operator," ",v);return s().createElement("div",{className:(0,Nn.cx)(c.combinedFilterPill,{[c.readOnlyCombinedFilter]:n}),onClick:e=>{e.stopPropagation(),g(!0),y()},onKeyDown:e=>{"Enter"===e.key&&(g(!0),y())},role:"button","aria-label":`Edit filter with key ${b}`,tabIndex:0,ref:h},v.length<20?o:s().createElement(In.Tooltip,{content:s().createElement("div",{className:c.tooltipText},v),placement:"top"},o),n?null:s().createElement(In.IconButton,{onClick:n=>{n.stopPropagation(),t._removeFilter(e),setTimeout((()=>null==r?void 0:r()))},onKeyDownCapture:n=>{"Enter"===n.key&&(n.preventDefault(),n.stopPropagation(),t._removeFilter(e),setTimeout((()=>null==r?void 0:r())))},name:"times",size:"md",className:c.removeButton,tooltip:`Remove filter with key ${b}`}))}return s().createElement(Ns,{filter:e,model:t,handleChangeViewMode:y,focusOnWipInputRef:r,populateInputOnEdit:m})}const Ys=e=>{return{combinedFilterPill:(0,Nn.css)((t=Gs({display:"flex",alignItems:"center",background:e.colors.action.selected,borderRadius:e.shape.radius.default,border:`1px solid ${e.colors.border.weak}`,padding:e.spacing(.125,0,.125,1),color:e.colors.text.primary,overflow:"hidden",whiteSpace:"nowrap",minHeight:e.spacing(2.75)},e.typography.bodySmall),n={fontWeight:e.typography.fontWeightBold,cursor:"pointer","&:hover":{background:e.colors.action.hover}},zs(t,Vs(n)))),readOnlyCombinedFilter:(0,Nn.css)({paddingRight:e.spacing(1),cursor:"text","&:hover":{background:e.colors.action.selected}}),removeButton:(0,Nn.css)({marginInline:e.spacing(.5),cursor:"pointer","&:hover":{color:e.colors.text.primary}}),pillText:(0,Nn.css)({maxWidth:"200px",width:"100%",textOverflow:"ellipsis",overflow:"hidden"}),tooltipText:(0,Nn.css)({textAlign:"center"})};var t,n},Xs=(0,i.forwardRef)((function({model:e},t){const{_wip:n}=e.useState();return(0,i.useLayoutEffect)((()=>{n||e._addWip()}),[n]),s().createElement(Ns,{model:e,filter:n,isAlwaysWip:!0,ref:t})})),Qs=(0,i.memo)((function({model:e}){const{filters:t,readOnly:n}=e.useState(),r=(0,In.useStyles2)(Zs),o=(0,i.useRef)();return s().createElement("div",{className:(0,Nn.cx)(r.comboboxWrapper,{[r.comboboxFocusOutline]:!n}),onClick:()=>{var e;null==(e=o.current)||e.call(o)}},s().createElement(In.Icon,{name:"filter",className:r.filterIcon,size:"lg"}),t.map(((t,r)=>s().createElement(qs,{key:`${r}-${t.key}`,filter:t,model:e,readOnly:n,focusOnWipInputRef:o.current}))),n?null:s().createElement(Xs,{model:e,ref:o}))})),Zs=e=>({comboboxWrapper:(0,Nn.css)({display:"flex",flexWrap:"wrap",alignItems:"center",columnGap:e.spacing(1),rowGap:e.spacing(.5),minHeight:e.spacing(4),backgroundColor:e.components.input.background,border:`1px solid ${e.colors.border.strong}`,borderRadius:e.shape.radius.default,paddingInline:e.spacing(1),paddingBlock:e.spacing(.5),flexGrow:1}),comboboxFocusOutline:(0,Nn.css)({"&:focus-within":{outline:"2px dotted transparent",outlineOffset:"2px",boxShadow:`0 0 0 2px ${e.colors.background.canvas}, 0 0 0px 4px ${e.colors.primary.main}`,transitionTimingFunction:"cubic-bezier(0.19, 1, 0.22, 1)",transitionDuration:"0.2s",transitionProperty:"outline, outline-offset, box-shadow",zIndex:2}}),filterIcon:(0,Nn.css)({color:e.colors.text.secondary,alignSelf:"center"})});var Ks=Object.defineProperty,Js=Object.defineProperties,el=Object.getOwnPropertyDescriptors,tl=Object.getOwnPropertySymbols,nl=Object.prototype.hasOwnProperty,rl=Object.prototype.propertyIsEnumerable,ol=(e,t,n)=>t in e?Ks(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,il=(e,t)=>{for(var n in t||(t={}))nl.call(t,n)&&ol(e,n,t[n]);if(tl)for(var n of tl(t))rl.call(t,n)&&ol(e,n,t[n]);return e};const al=[{value:"=",description:"Equals"},{value:"!=",description:"Not equal"},{value:"=|",description:"One of. Use to filter on multiple values.",isMulti:!0},{value:"!=|",description:"Not one of. Use to exclude multiple values.",isMulti:!0},{value:"=~",description:"Matches regex",isRegex:!0},{value:"!~",description:"Does not match regex",isRegex:!0},{value:"<",description:"Less than"},{value:">",description:"Greater than"}];class sl extends J{constructor(e){var t,n;super(il({type:"adhoc",name:null!=(t=e.name)?t:"Filters",filters:[],datasource:null,applyMode:"auto",filterExpression:null!=(n=e.filterExpression)?n:ll(e.expressionBuilder,e.filters)},e)),this._scopedVars={__sceneObject:ir(this)},this._dataSourceSrv=(0,u.getDataSourceSrv)(),this._urlSync=new Pr(this),"auto"===this.state.applyMode&&function(e){if(e.addActivationHandler((()=>(Cn.add(e),()=>Cn.delete(e)))),xn)return;const t=(0,u.getTemplateSrv)();(null==t?void 0:t.getAdhocFilters)?(xn=t.getAdhocFilters,t.getAdhocFilters=function(e){var n;if(0===Cn.size)return xn.call(t,e);const r=(0,u.getDataSourceSrv)().getInstanceSettings(e);if(!r)return[];for(const e of Cn.values())if((null==(n=e.state.datasource)?void 0:n.uid)===r.uid)return e.state.filters;return[]}.bind(t)):console.log("Failed to patch getAdhocFilters")}(this)}setState(e){let t=!1;e.filters&&e.filters!==this.state.filters&&!e.filterExpression&&(e.filterExpression=ll(this.state.expressionBuilder,e.filters),t=e.filterExpression!==this.state.filterExpression),super.setState(e),t&&this.publishEvent(new dt(this),!0)}updateFilters(e,t){let n,r=!1;e&&e!==this.state.filters&&(n=ll(this.state.expressionBuilder,e),r=n!==this.state.filterExpression),super.setState({filters:e,filterExpression:n}),(r&&!0!==(null==t?void 0:t.skipPublish)||(null==t?void 0:t.forcePublish))&&this.publishEvent(new dt(this),!0)}getValue(){return this.state.filterExpression}_updateFilter(e,t){const{filters:n,_wip:r}=this.state;if(e===r)return void("value"in t&&""!==t.value?this.setState({filters:[...n,il(il({},r),t)],_wip:void 0}):this.setState({_wip:il(il({},e),t)}));const o=this.state.filters.map((n=>n===e?il(il({},n),t):n));this.setState({filters:o})}_removeFilter(e){e!==this.state._wip?this.setState({filters:this.state.filters.filter((t=>t!==e))}):this.setState({_wip:void 0})}_removeLastFilter(){const e=this.state.filters.at(-1);e&&this._removeFilter(e)}_handleComboboxBackspace(e){if(this.state.filters.length){let t=this.state.filters.length-1;e!==this.state._wip&&(t=-1),this.setState({filters:this.state.filters.reduce(((n,r,o)=>{return o===t?[...n,(i=il({},r),a={forceEdit:!0},Js(i,el(a)))]:r===e?n:[...n,r];var i,a}),[])})}}async _getKeys(e){var t,n,r;const o=await(null==(n=(t=this.state).getTagKeysProvider)?void 0:n.call(t,this,e));if(o&&o.replace)return ec(o.values).map(ul);if(this.state.defaultKeys)return this.state.defaultKeys.map(ul);const i=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!i||!i.getTagKeys)return[];const a=this.state.filters.filter((t=>t.key!==e)).concat(null!=(r=this.state.baseFilters)?r:[]),s=Gc.getTimeRange(this).state.value,l=this.state.useQueriesAsFilterForOptions?Xl(this):void 0,c=await i.getTagKeys(il({filters:a,queries:l,timeRange:s},tr(this)));tc(c)&&this.setState({error:c.error.message});let u=ec(c);o&&(u=u.concat(ec(o.values)));const d=this.state.tagKeyRegexFilter;return d&&(u=u.filter((e=>e.text.match(d)))),u.map(ul)}async _getValuesFor(e){var t,n,r;const o=await(null==(n=(t=this.state).getTagValuesProvider)?void 0:n.call(t,this,e));if(o&&o.replace)return ec(o.values).map(ul);const i=await this._dataSourceSrv.get(this.state.datasource,this._scopedVars);if(!i||!i.getTagValues)return[];const a=this.state.filters.filter((t=>t.key!==e.key)).concat(null!=(r=this.state.baseFilters)?r:[]),s=Gc.getTimeRange(this).state.value,l=this.state.useQueriesAsFilterForOptions?Xl(this):void 0,c=await i.getTagValues(il({key:e.key,filters:a,timeRange:s,queries:l},tr(this)));tc(c)&&this.setState({error:c.error.message});let u=ec(c);return o&&(u=u.concat(ec(o.values))),u.map(ul)}_addWip(){this.setState({_wip:{key:"",value:"",operator:"=",condition:""}})}_getOperators(){const{supportsMultiValueOperators:e,allowCustomValue:t}=this.state;return al.filter((({isMulti:n,isRegex:r})=>!(!e&&n||!t&&r))).map((({value:e,description:t})=>({label:e,value:e,description:t})))}}function ll(e,t){return(null!=e?e:Hl)(null!=t?t:[])}sl.Component=function({model:e}){const{filters:t,readOnly:n,addFilterButtonText:r}=e.useState(),o=(0,In.useStyles2)(cl);return"combobox"===e.state.layout?s().createElement(Qs,{model:e}):s().createElement("div",{className:o.wrapper},t.filter((e=>!e.hidden)).map(((t,n)=>s().createElement(s().Fragment,{key:n},s().createElement(Ir,{filter:t,model:e})))),!n&&s().createElement(Dr,{model:e,key:"'builder",addFilterButtonText:r}))};const cl=e=>({wrapper:(0,Nn.css)({display:"flex",flexWrap:"wrap",alignItems:"flex-end",columnGap:e.spacing(2),rowGap:e.spacing(1)})});function ul(e){const{text:t,value:n}=e,r={label:String(t),value:String(null!=n?n:t)};return"group"in e&&(r.group=e.group),"meta"in e&&(r.meta=e.meta),r}function dl(e){return""!==e.key&&""!==e.operator&&""!==e.value}function pl(e){const t=al.find((t=>t.value===e));return!!t&&Boolean(t.isMulti)}class fl{constructor(){this._resultsMap=new Map,this._prevLayers=[]}getMergedStream(e){(function(e,t){if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1})(e,this._prevLayers)&&(this._resultsMap=new Map,this._prevLayers=e);const t=e.map((e=>e.getResultsStream())),n=[];for(const t of e)n.push(t.activate());return(0,O.merge)(t).pipe((0,O.mergeAll)(),(0,O.filter)((e=>this._resultsMap.get(e.origin.state.key)!==e)),(0,O.map)((e=>(this._resultsMap.set(e.origin.state.key,e),this._resultsMap.values()))),(0,O.finalize)((()=>{n.forEach((e=>e()))})))}}var hl=Object.defineProperty,ml=Object.defineProperties,gl=Object.getOwnPropertyDescriptors,bl=Object.getOwnPropertySymbols,vl=Object.prototype.hasOwnProperty,yl=Object.prototype.propertyIsEnumerable,wl=(e,t,n)=>t in e?hl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sl=(e,t)=>{for(var n in t||(t={}))vl.call(t,n)&&wl(e,n,t[n]);if(bl)for(var n of bl(t))yl.call(t,n)&&wl(e,n,t[n]);return e},El=(e,t)=>ml(e,gl(t));let Al=100;function xl(){return"SQR"+Al++}class Cl extends J{constructor(e){super(e),this._dataLayersMerger=new fl,this._variableValueRecorder=new nn,this._results=new O.ReplaySubject(1),this._scopedVars={__sceneObject:ir(this)},this._variableDependency=new pc(this,{statePaths:["queries","datasource","minInterval"],onVariableUpdateCompleted:this.onVariableUpdatesCompleted.bind(this),onAnyVariableChanged:this.onAnyVariableChanged.bind(this)}),this.onDataReceived=e=>{const t=(0,c.preProcessPanelData)(e,this.state.data);this._resultAnnotations=e.annotations;const n=this._combineDataLayers(t);let r=this.state._hasFetchedData;r||t.state===Ve.Loading||(r=!0),this.setState({data:n,_hasFetchedData:r}),this._results.next({origin:this,data:n})},this.addActivationHandler((()=>this._onActivate()))}getResultsStream(){return this._results}_onActivate(){if(this.isQueryModeAuto()){const e=Gc.getTimeRange(this),t=this.getClosestExtraQueryProviders();for(const e of t)this._subs.add(e.subscribeToState(((t,n)=>{e.shouldRerun(n,t,this.state.queries)&&this.runQueries()})));this.subscribeToTimeRangeChanges(e),this.shouldRunQueriesOnActivate()&&this.runQueries()}return this._dataLayersSub||this._handleDataLayers(),()=>this._onDeactivate()}_handleDataLayers(){const e=Gc.getDataLayers(this);0!==e.length&&(this._dataLayersSub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayersReceived.bind(this)))}_onLayersReceived(e){var t,n,r,o,i;const a=Gc.getTimeRange(this),{dataLayerFilter:s}=this.state;let l,u=[],d=[];for(const r of e)for(let e of r.data.series)(null==(t=e.meta)?void 0:t.dataTopic)===c.DataTopic.Annotations&&(u=u.concat(e)),(null==(n=e.meta)?void 0:n.dataTopic)===c.DataTopic.AlertStates&&(d=d.concat(e));if((null==s?void 0:s.panelId)&&(u.length>0&&(u=function(e,t){var n;if(!Array.isArray(e)||0===e.length)return e;const r=Array.from({length:e.length},(()=>new Set));let o=0;for(const i of e){for(let e=0;e<i.length;e++){if(r[o].has(e))continue;let a=!0;const s=i.fields.find((e=>"panelId"===e.name)),l=i.fields.find((e=>"source"===e.name));if(l){s&&"dashboard"===l.values[e].type&&(a=[t.panelId,En].includes(s.values[e]));const r=l.values[e].filter;if(r){const e=[...null!=(n=r.ids)?n:[],En].includes(t.panelId);r.exclude?e&&(a=!1):e||(a=!1)}}a&&r[o].add(e)}o++}const i=[];o=0;for(const t of e){const e=r[o].size,n=[];for(const e of t.fields){const i=[];for(let n=0;n<t.length;n++)r[o].has(n)&&i.push(e.values[n]);n.push(Sn(wn({},e),{values:i}))}i.push(Sn(wn({},t),{fields:n,length:e})),o++}return i}(u,s)),d.length>0))for(const e of d){const t=new c.DataFrameView(e);for(const e of t)if(e.panelId===s.panelId){l=e;break}}if(Il(u)&&Il(this._layerAnnotations)&&(0,fe.isEqual)(l,null==(r=this.state.data)?void 0:r.alertState))return;this._layerAnnotations=u;const p=this.state.data?this.state.data:El(Sl({},Ye),{timeRange:a.state.value});this.setState({data:El(Sl({},p),{annotations:[...null!=(o=this._resultAnnotations)?o:[],...u],alertState:null!=l?l:null==(i=this.state.data)?void 0:i.alertState})})}onVariableUpdatesCompleted(){this.isQueryModeAuto()&&this.runQueries()}onAnyVariableChanged(e){this._adhocFiltersVar!==e&&this._groupByVar!==e&&this.isQueryModeAuto()&&(e instanceof sl&&this._isRelevantAutoVariable(e)&&this.runQueries(),e instanceof hr&&this._isRelevantAutoVariable(e)&&this.runQueries())}_isRelevantAutoVariable(e){var t,n;const r=null!=(t=this.state.datasource)?t:Ol(this.state.queries);return"auto"===e.state.applyMode&&(null==r?void 0:r.uid)===(null==(n=e.state.datasource)?void 0:n.uid)}shouldRunQueriesOnActivate(){return this._variableValueRecorder.hasDependenciesChanged(this)?(me("SceneQueryRunner","Variable dependency changed while inactive, shouldRunQueriesOnActivate returns true"),!0):!this.state.data||!!this._isDataTimeRangeStale(this.state.data)}_isDataTimeRangeStale(e){const t=Gc.getTimeRange(this).state.value,n=e.timeRange;return(t.from.unix()!==n.from.unix()||t.to.unix()!==n.to.unix())&&(me("SceneQueryRunner","Data time range is stale"),!0)}_onDeactivate(){var e;this._querySub&&(this._querySub.unsubscribe(),this._querySub=void 0),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),null==(e=this._timeSub)||e.unsubscribe(),this._timeSub=void 0,this._timeSubRange=void 0,this._adhocFiltersVar=void 0,this._groupByVar=void 0,this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this)}setContainerWidth(e){!this._containerWidth&&e>0?(this._containerWidth=e,this.state.maxDataPointsFromWidth&&!this.state.maxDataPoints&&setTimeout((()=>{this.isActive&&!this.state._hasFetchedData&&this.runQueries()}),0)):e>0&&(this._containerWidth=e)}isDataReadyToDisplay(){return Boolean(this.state._hasFetchedData)}subscribeToTimeRangeChanges(e){this._timeSubRange!==e&&(this._timeSub&&this._timeSub.unsubscribe(),this._timeSubRange=e,this._timeSub=e.subscribeToState((()=>{this.runWithTimeRange(e)})))}runQueries(){const e=Gc.getTimeRange(this);this.isQueryModeAuto()&&this.subscribeToTimeRangeChanges(e),this.runWithTimeRange(e)}getMaxDataPoints(){var e;return this.state.maxDataPoints?this.state.maxDataPoints:this.state.maxDataPointsFromWidth&&null!=(e=this._containerWidth)?e:500}cancelQuery(){var e;null==(e=this._querySub)||e.unsubscribe(),this._dataLayersSub&&(this._dataLayersSub.unsubscribe(),this._dataLayersSub=void 0),this.setState({data:El(Sl({},this.state.data),{state:Ve.Done})})}async runWithTimeRange(e){var t,n,r;if(!this.state.maxDataPoints&&this.state.maxDataPointsFromWidth&&!this._containerWidth)return;if(this._dataLayersSub||this._handleDataLayers(),null==(t=this._querySub)||t.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())return me("SceneQueryRunner","Variable dependency is in loading state, skipping query execution"),void this.setState({data:El(Sl({},null!=(n=this.state.data)?n:Ye),{state:Ve.Loading})});const{queries:o}=this.state;if(null==o?void 0:o.length)try{const t=null!=(r=this.state.datasource)?r:Ol(o),n=await tn(t,this._scopedVars);this.findAndSubscribeToAdHocFilters(n.uid);const i=(0,u.getRunRequest)(),{primary:a,secondaries:s,processors:l}=this.prepareRequests(e,n);me("SceneQueryRunner","Starting runRequest",this.state.key);let c=i(n,a);if(s.length>0){const e=s.map((e=>i(n,e))),t=(e=>t=>t.pipe((0,O.mergeMap)((([t,...n])=>{const r=n.flatMap((n=>{var r,o;return null!=(o=null==(r=e.get(n.request.requestId))?void 0:r(t,n))?o:(0,O.of)(n)}));return(0,O.forkJoin)([(0,O.of)(t),...r])})),(0,O.map)((([e,...t])=>{var n,r,o;return r=((e,t)=>{for(var n in t||(t={}))cn.call(t,n)&&dn(e,n,t[n]);if(ln)for(var n of ln(t))un.call(t,n)&&dn(e,n,t[n]);return e})({},e),o={series:[...e.series,...t.flatMap((e=>e.series))],annotations:[...null!=(n=e.annotations)?n:[],...t.flatMap((e=>{var t;return null!=(t=e.annotations)?t:[]}))]},an(r,sn(o))}))))(l);c=(0,O.forkJoin)([c,...e]).pipe(t)}c=c.pipe(Jt({type:"data",request:a,origin:this,cancel:()=>this.cancelQuery()})),this._querySub=c.subscribe(this.onDataReceived)}catch(e){console.error("PanelQueryRunner Error",e),this.onDataReceived(El(Sl(Sl({},Ye),this.state.data),{state:Ve.Error,errors:[(0,u.toDataQueryError)(e)]}))}else this._setNoDataState()}clone(e){var t;const n=super.clone(e);return this._resultAnnotations&&(n._resultAnnotations=this._resultAnnotations.map((e=>Sl({},e)))),this._layerAnnotations&&(n._layerAnnotations=this._layerAnnotations.map((e=>Sl({},e)))),n._variableValueRecorder=this._variableValueRecorder.cloneAndRecordCurrentValuesForSceneObject(this),n._containerWidth=this._containerWidth,n._results.next({origin:this,data:null!=(t=this.state.data)?t:Ye}),n}prepareRequests(e,t){var n;const{minInterval:r,queries:o}=this.state;let i=Sl({app:"scenes",requestId:xl(),timezone:e.getTimeZone(),range:e.state.value,interval:"1s",intervalMs:1e3,targets:(0,fe.cloneDeep)(o),maxDataPoints:this.getMaxDataPoints(),scopedVars:this._scopedVars,startTime:Date.now(),liveStreaming:this.state.liveStreaming,rangeRaw:{from:e.state.from,to:e.state.to},cacheTimeout:this.state.cacheTimeout,queryCachingTTL:this.state.queryCachingTTL},An(this));this._adhocFiltersVar&&(i.filters=this._adhocFiltersVar.state.filters.filter(dl)),this._groupByVar&&(i.groupByKeys=this._groupByVar.state.value),i.targets=i.targets.map((e=>{var n;return e.datasource&&(e.datasource.uid===t.uid||(null==(n=t.meta)?void 0:n.mixed)||!u.isExpressionReference||(0,u.isExpressionReference)(e.datasource))||(e.datasource=t.getRef()),e}));const a=r?$c(this,r):t.interval,s=c.rangeUtil.calculateInterval(e.state.value,i.maxDataPoints,a);i.scopedVars=Object.assign({},i.scopedVars,{__interval:{text:s.interval,value:s.interval},__interval_ms:{text:s.intervalMs.toString(),value:s.intervalMs}}),i.interval=s.interval,i.intervalMs=s.intervalMs;const l=e.state.value;let d=[],p=new Map;for(const e of null!=(n=this.getClosestExtraQueryProviders())?n:[])for(const{req:t,processor:n}of e.getExtraQueries(i)){const e=xl();d.push(El(Sl({},t),{requestId:e})),p.set(e,null!=n?n:pn)}return i.range=l,{primary:i,secondaries:d,processors:p}}_combineDataLayers(e){return this._layerAnnotations&&this._layerAnnotations.length>0&&(e.annotations=(e.annotations||[]).concat(this._layerAnnotations)),this.state.data&&this.state.data.alertState&&(e.alertState=this.state.data.alertState),e}_setNoDataState(){this.state.data!==Ye&&this.setState({data:Ye})}getClosestExtraQueryProviders(){const e=new Map;return this.parent?(ce(this.parent,(t=>(rn(t)&&!e.has(t.constructor)&&e.set(t.constructor,t),t.forEachChild((t=>{rn(t)&&!e.has(t.constructor)&&e.set(t.constructor,t)})),null))),Array.from(e.values())):[]}findAndSubscribeToAdHocFilters(e){const t=function(e){var t;for(const n of Cn.values())if($c(n,null==(t=n.state.datasource)?void 0:t.uid)===e)return n}(e);this._adhocFiltersVar!==t&&(this._adhocFiltersVar=t,this._updateExplicitVariableDependencies());const n=function(e){var t;for(const n of On.values())if($c(n,null==(t=n.state.datasource)?void 0:t.uid)===e)return n}(e);this._groupByVar!==n&&(this._groupByVar=n,this._updateExplicitVariableDependencies())}_updateExplicitVariableDependencies(){const e=[];this._adhocFiltersVar&&e.push(this._adhocFiltersVar.state.name),this._groupByVar&&e.push(this._groupByVar.state.name),this._variableDependency.setVariableNames(e)}isQueryModeAuto(){var e;return"auto"===(null!=(e=this.state.runQueriesMode)?e:"auto")}}function Ol(e){var t,n;return null!=(n=null==(t=e.find((e=>null!==e.datasource)))?void 0:t.datasource)?n:void 0}function Il(e){if(!e)return!0;for(let t=0;t<e.length;t++)if(e[t].length>0)return!1;return!0}const Rl=(e,t)=>e>t?1:e<t?-1:0,Dl=1/0,Pl=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Tl="eexxaacctt",_l=/\p{P}/gu,kl=["en",{numeric:!0,sensitivity:"base"}],Bl=(e,t,n)=>e.replace("A-Z",t).replace("a-z",n),Ml={unicode:!1,alpha:null,interSplit:"[^A-Za-z\\d']+",intraSplit:"[a-z][A-Z]",interBound:"[^A-Za-z\\d]",intraBound:"[A-Za-z]\\d|\\d[A-Za-z]|[a-z][A-Z]",interLft:0,interRgt:0,interChars:".",interIns:Dl,intraChars:"[a-z\\d']",intraIns:null,intraContr:"'[a-z]{1,2}\\b",intraMode:0,intraSlice:[1,Dl],intraSub:null,intraTrn:null,intraDel:null,intraFilt:(e,t,n)=>!0,toUpper:e=>e.toLocaleUpperCase(),toLower:e=>e.toLocaleLowerCase(),compare:null,sort:(e,t,n,r=Rl)=>{let{idx:o,chars:i,terms:a,interLft2:s,interLft1:l,start:c,intraIns:u,interIns:d,cases:p}=e;return o.map(((e,t)=>t)).sort(((e,n)=>i[n]-i[e]||u[e]-u[n]||a[n]+s[n]+.5*l[n]-(a[e]+s[e]+.5*l[e])||d[e]-d[n]||c[e]-c[n]||p[n]-p[e]||r(t[o[e]],t[o[n]])))}},Ll=(e,t)=>0==t?"":1==t?e+"??":t==Dl?e+"*?":e+`{0,${t}}?`,Nl="(?:\\b|_)";function jl(e){e=Object.assign({},Ml,e);let{unicode:t,interLft:n,interRgt:r,intraMode:o,intraSlice:i,intraIns:a,intraSub:s,intraTrn:l,intraDel:c,intraContr:u,intraSplit:d,interSplit:p,intraBound:f,interBound:h,intraChars:m,toUpper:g,toLower:b,compare:v}=e;a??=o,s??=o,l??=o,c??=o,v??="undefined"==typeof Intl?Rl:new Intl.Collator(...kl).compare;let y=e.letters??e.alpha;if(null!=y){let e=g(y),t=b(y);p=Bl(p,e,t),d=Bl(d,e,t),h=Bl(h,e,t),f=Bl(f,e,t),m=Bl(m,e,t),u=Bl(u,e,t)}let w=t?"u":"";const S='".+?"',E=new RegExp(S,"gi"+w),A=new RegExp(`(?:\\s+|^)-(?:${m}+|${S})`,"gi"+w);let{intraRules:x}=e;null==x&&(x=e=>{let t=Ml.intraSlice,n=0,r=0,o=0,u=0;if(/[^\d]/.test(e)){let d=e.length;d<=4?d>=3&&(o=Math.min(l,1),4==d&&(n=Math.min(a,1))):(t=i,n=a,r=s,o=l,u=c)}return{intraSlice:t,intraIns:n,intraSub:r,intraTrn:o,intraDel:u}});let C=!!d,O=new RegExp(d,"g"+w),I=new RegExp(p,"g"+w),R=new RegExp("^"+p+"|"+p+"$","g"+w),D=new RegExp(u,"gi"+w);const P=(e,t=!1)=>{let n=[];e=(e=e.replace(E,(e=>(n.push(e),Tl)))).replace(R,""),t||(e=b(e)),C&&(e=e.replace(O,(e=>e[0]+" "+e[1])));let r=0;return e.split(I).filter((e=>""!=e)).map((e=>e===Tl?n[r++]:e))},T=/[^\d]+|\d+/g,_=(t,i=0,s=!1)=>{let l=P(t);if(0==l.length)return[];let c,u=Array(l.length).fill("");if(l=l.map(((e,t)=>e.replace(D,(e=>(u[t]=e,""))))),1==o)c=l.map(((e,t)=>{if('"'===e[0])return Pl(e.slice(1,-1));let n="";for(let r of e.matchAll(T)){let e=r[0],{intraSlice:o,intraIns:i,intraSub:a,intraTrn:s,intraDel:l}=x(e);if(i+a+s+l==0)n+=e+u[t];else{let[r,c]=o,d=e.slice(0,r),p=e.slice(c),f=e.slice(r,c);1==i&&1==d.length&&d!=f[0]&&(d+="(?!"+d+")");let h=f.length,g=[e];if(a)for(let e=0;e<h;e++)g.push(d+f.slice(0,e)+m+f.slice(e+1)+p);if(s)for(let e=0;e<h-1;e++)f[e]!=f[e+1]&&g.push(d+f.slice(0,e)+f[e+1]+f[e]+f.slice(e+2)+p);if(l)for(let e=0;e<h;e++)g.push(d+f.slice(0,e+1)+"?"+f.slice(e+1)+p);if(i){let e=Ll(m,1);for(let t=0;t<h;t++)g.push(d+f.slice(0,t)+e+f.slice(t)+p)}n+="(?:"+g.join("|")+")"+u[t]}}return n}));else{let e=Ll(m,a);2==i&&a>0&&(e=")("+e+")("),c=l.map(((t,n)=>'"'===t[0]?Pl(t.slice(1,-1)):t.split("").map(((e,t,n)=>(1==a&&0==t&&n.length>1&&e!=n[t+1]&&(e+="(?!"+e+")"),e))).join(e)+u[n]))}let d=2==n?Nl:"",p=2==r?Nl:"",f=p+Ll(e.interChars,e.interIns)+d;return i>0?s?c=d+"("+c.join(")"+p+"|"+d+"(")+")"+p:(c="("+c.join(")("+f+")(")+")",c="(.??"+d+")"+c+"("+p+".*)"):(c=c.join(f),c=d+c+p),[new RegExp(c,"i"+w),l,u]},k=(e,t,n)=>{let[r]=_(t);if(null==r)return null;let o=[];if(null!=n)for(let t=0;t<n.length;t++){let i=n[t];r.test(e[i])&&o.push(i)}else for(let t=0;t<e.length;t++)r.test(e[t])&&o.push(t);return o};let B=!!f,M=new RegExp(h,w),L=new RegExp(f,w);const N=(t,o,i)=>{let[a,s,l]=_(i,1),c=P(i,!0),[u]=_(i,2),d=s.length,p=Array(d),f=Array(d);for(let e=0;e<d;e++){let t=s[e],n=c[e],r='"'==t[0]?t.slice(1,-1):t+l[e],o='"'==n[0]?n.slice(1,-1):n+l[e];p[e]=r,f[e]=o}let h=t.length,m=Array(h).fill(0),g={idx:Array(h),start:m.slice(),chars:m.slice(),cases:m.slice(),terms:m.slice(),interIns:m.slice(),intraIns:m.slice(),interLft2:m.slice(),interRgt2:m.slice(),interLft1:m.slice(),interRgt1:m.slice(),ranges:Array(h)},v=1==n||1==r,y=0;for(let i=0;i<t.length;i++){let s=o[t[i]],l=s.match(a),c=l.index+l[1].length,h=c,m=!1,S=0,E=0,A=0,x=0,C=0,O=0,I=0,R=0,D=0,P=[];for(let t=0,o=2;t<d;t++,o+=2){let i=b(l[o]),a=p[t],u=f[t],g=a.length,y=i.length,T=i==a;if(l[o]==u&&I++,!T&&l[o+1].length>=g){let e=b(l[o+1]).indexOf(a);e>-1&&(P.push(h,y,e,g),h+=j(l,o,e,g),i=a,y=g,T=!0,0==t&&(c=h))}if(v||T){let e=h-1,u=h+y,d=!1,p=!1;if(-1==e||M.test(s[e]))T&&S++,d=!0;else{if(2==n){m=!0;break}if(B&&L.test(s[e]+s[e+1]))T&&E++,d=!0;else if(1==n){let e=l[o+1],n=h+y;if(e.length>=g){let r,u=0,p=!1,f=new RegExp(a,"ig"+w);for(;r=f.exec(e);){u=r.index;let e=n+u,t=e-1;if(-1==t||M.test(s[t])){S++,p=!0;break}if(L.test(s[t]+s[e])){E++,p=!0;break}}p&&(d=!0,P.push(h,y,u,g),h+=j(l,o,u,g),i=a,y=g,T=!0,0==t&&(c=h))}if(!d){m=!0;break}}}if(u==s.length||M.test(s[u]))T&&A++,p=!0;else{if(2==r){m=!0;break}if(B&&L.test(s[u-1]+s[u]))T&&x++,p=!0;else if(1==r){m=!0;break}}T&&(C+=g,d&&p&&O++)}if(y>g&&(D+=y-g),t>0&&(R+=l[o-1].length),!e.intraFilt(a,i,h)){m=!0;break}t<d-1&&(h+=y+l[o+1].length)}if(!m){g.idx[y]=t[i],g.interLft2[y]=S,g.interLft1[y]=E,g.interRgt2[y]=A,g.interRgt1[y]=x,g.chars[y]=C,g.terms[y]=O,g.cases[y]=I,g.interIns[y]=R,g.intraIns[y]=D,g.start[y]=c;let e=s.match(u),n=e.index+e[1].length,r=P.length,o=r>0?0:1/0,a=r-4;for(let t=2;t<e.length;){let r=e[t].length;if(o<=a&&P[o]==n){let r=P[o+1],i=P[o+2],a=P[o+3],s=t,l="";for(let t=0;t<r;s++)l+=e[s],t+=e[s].length;e.splice(t,s-t,l),n+=j(e,t,i,a),o+=4}else n+=r,t++}n=e.index+e[1].length;let l=g.ranges[y]=[],d=n,p=n;for(let t=2;t<e.length;t++){let r=e[t].length;n+=r,t%2==0?p=n:r>0&&(l.push(d,p),d=p=n)}p>d&&l.push(d,p),y++}}if(y<t.length)for(let e in g)g[e]=g[e].slice(0,y);return g},j=(e,t,n,r)=>{let o=e[t]+e[t+1].slice(0,n);return e[t-1]+=o,e[t]=e[t+1].slice(n,n+r),e[t+1]=e[t+1].slice(n+r),o.length};return{search:(...t)=>{let n=((t,n,r,o=1e3,i)=>{r=r?!0===r?5:r:0;let a=null,s=null,l=[];n=n.replace(A,(e=>{let t=e.trim().slice(1);return t='"'===t[0]?Pl(t.slice(1,-1)):t.replace(_l,""),""!=t&&l.push(t),""}));let c,u=P(n);if(l.length>0){if(c=new RegExp(l.join("|"),"i"+w),0==u.length){let e=[];for(let n=0;n<t.length;n++)c.test(t[n])||e.push(n);return[e,null,null]}}else if(0==u.length)return[null,null,null];if(r>0){let e=P(n);if(e.length>1){let n=e.slice().sort(((e,t)=>t.length-e.length));for(let e=0;e<n.length;e++){if(0==i?.length)return[[],null,null];i=k(t,n[e],i)}if(e.length>r)return[i,null,null];a=zl(e).map((e=>e.join(" "))),s=[];let o=new Set;for(let e=0;e<a.length;e++)if(o.size<i.length){let n=i.filter((e=>!o.has(e))),r=k(t,a[e],n);for(let e=0;e<r.length;e++)o.add(r[e]);s.push(r)}else s.push([])}}null==a&&(a=[n],s=[i?.length>0?i:k(t,n)]);let d=null,p=null;if(l.length>0&&(s=s.map((e=>e.filter((e=>!c.test(t[e])))))),s.reduce(((e,t)=>e+t.length),0)<=o){d={},p=[];for(let n=0;n<s.length;n++){let r=s[n];if(null==r||0==r.length)continue;let o=a[n],i=N(r,t,o),l=e.sort(i,t,o,v);if(n>0)for(let e=0;e<l.length;e++)l[e]+=p.length;for(let e in i)d[e]=(d[e]??[]).concat(i[e]);p=p.concat(l)}}return[[].concat(...s),d,p]})(...t);return n},split:P,filter:k,info:N,sort:e.sort}}const Fl=(()=>{let e={A:"",a:"",E:"",e:"",I:"",i:"",O:"",o:"",U:"",u:"",C:"",c:"",L:"",l:"",N:"",n:"",S:"",s:"",Z:"",z:""},t=new Map,n="";for(let r in e)e[r].split("").forEach((e=>{n+=e,t.set(e,r)}));let r=new RegExp(`[${n}]`,"g"),o=e=>t.get(e);return e=>{if("string"==typeof e)return e.replace(r,o);let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].replace(r,o);return t}})();function zl(e){let t,n,r=(e=e.slice()).length,o=[e.slice()],i=new Array(r).fill(0),a=1;for(;a<r;)i[a]<a?(t=a%2&&i[a],n=e[a],e[a]=e[t],e[t]=n,++i[a],a=1,o.push(e.slice())):(i[a]=0,++a);return o}const Vl=(e,t)=>t?`<mark>${e}</mark>`:e,$l=(e,t)=>e+t;function Ul(e,t){return e===t||(0,fe.isEqual)(e,t)}function Wl(e){try{return JSON.stringify(e,(()=>{const e=new WeakSet;return(t,n)=>{if("object"==typeof n&&null!==n){if(e.has(n))return;e.add(n)}return n}})())}catch(e){console.error(e)}return""}function Hl(e){return e.map((e=>function(e){var t,n;let r="",o=e.operator;return"=|"===o?(o="=~",r=null==(t=e.values)?void 0:t.map(ql).join("|")):"!=|"===o?(o="!~",r=null==(n=e.values)?void 0:n.map(ql).join("|")):r="=~"===o||"!~"===o?ql(e.value):Gl(e.value),`${e.key}${o}"${r}"`}(e))).join(",")}function Gl(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"')}function ql(e){return Gl(e.replace(Yl,"\\$&"))}jl.latinize=Fl,jl.permute=e=>zl([...Array(e.length).keys()]).sort(((e,t)=>{for(let n=0;n<e.length;n++)if(e[n]!=t[n])return e[n]-t[n];return 0})).map((t=>t.map((t=>e[t])))),jl.highlight=function(e,t,n=Vl,r="",o=$l){r=o(r,n(e.substring(0,t[0]),!1))??r;for(let i=0;i<t.length;i+=2){let a=t[i],s=t[i+1];r=o(r,n(e.substring(a,s),!0))??r,i<t.length-3&&(r=o(r,n(e.substring(t[i+1],t[i+2]),!1))??r)}return o(r,n(e.substring(t[t.length-1]),!1))??r};const Yl=/[*+?()|\\.\[\]{}^$]/g;function Xl(e){var t;const n=Gc.findAllObjects(e.getRoot(),(e=>e instanceof Cl)),r=Gc.interpolate(e,null==(t=e.state.datasource)?void 0:t.uid),o=function(e){const t={};for(const n of e)n.state.key&&(n.state.key in t||(t[n.state.key]=[]),t[n.state.key].push(n));return Object.values(t).flatMap((e=>{const t=e.filter((e=>e.isActive));return 0===t.length&&1===e.length?e:t}))}(n).filter((t=>{var n;return Gc.interpolate(e,null==(n=t.state.datasource)?void 0:n.uid)===r}));if(0===o.length)return[];const i=[];return o.forEach((t=>{i.push(...t.state.queries.filter((t=>!t.datasource||!t.datasource.uid||Gc.interpolate(e,t.datasource.uid)===r)))})),i}function Ql(e){return null==e?"":/\|/g[Symbol.replace](e,"__gfp__")}function Zl(e){return null==e?"":/,/g[Symbol.replace](e,"__gfc__")}function Kl(e){return null==e?"":(e=/__gfp__/g[Symbol.replace](e,"|"),e=/__gfc__/g[Symbol.replace](e,","))}function Jl(e,t){return t&&e!==t?[e,t].map(Zl).join(","):Zl(e)}function ec(e){return Array.isArray(e)?e:e.data}function tc(e){return!Array.isArray(e)&&Boolean(e.error)}function nc(e){const t=[],n=new Map;for(const r of e){const e=r.group;if(e){let o=n.get(e);o||(o=[],n.set(e,o),t.push({label:e,options:o})),o.push(r)}else t.push(r)}return t}function rc(e,t=1e4){const n=new jl,r=Array.from({length:Math.min(t,e.length)},((e,t)=>t));return o=>{if(""===o)return r;const[i,a,s]=n.search(e,o);if(i){if(a&&s){const e=Array(Math.min(s.length,t));for(let t=0;t<e.length;t++)e[t]=a.idx[s[t]];return e}return i.slice(0,t)}return[]}}var oc=Object.defineProperty,ic=Object.defineProperties,ac=Object.getOwnPropertyDescriptors,sc=Object.getOwnPropertySymbols,lc=Object.prototype.hasOwnProperty,cc=Object.prototype.propertyIsEnumerable,uc=(e,t,n)=>t in e?oc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class dc extends J{constructor(e){var t;super((t=((e,t)=>{for(var n in t||(t={}))lc.call(t,n)&&uc(e,n,t[n]);if(sc)for(var n of sc(t))cc.call(t,n)&&uc(e,n,t[n]);return e})({type:"constant",value:"",name:""},e),ic(t,ac({skipUrlSync:!0}))))}getValue(){return this.state.value}}class pc{constructor(e,t){this._sceneObject=e,this._options=t,this._dependencies=new Set,this._isWaitingForVariables=!1,this.scanCount=0,this._statePaths=t.statePaths,this._options.handleTimeMacros&&this.handleTimeMacros()}hasDependencyOn(e){return this.getNames().has(e)}variableUpdateCompleted(e,t){const n=this.getNames();let r=!1;(n.has(e.state.name)||n.has(c.DataLinkBuiltInVars.includeVars))&&t&&(r=!0),me("VariableDependencyConfig","variableUpdateCompleted",e.state.name,r,this._isWaitingForVariables),this._options.onAnyVariableChanged&&this._options.onAnyVariableChanged(e),this._options.onVariableUpdateCompleted&&(this._isWaitingForVariables||r)&&this._options.onVariableUpdateCompleted(),r&&(this._options.onReferencedVariableValueChanged&&this._options.onReferencedVariableValueChanged(e),this._options.onReferencedVariableValueChanged||this._options.onVariableUpdateCompleted||this._sceneObject.forceRender())}hasDependencyInLoadingState(){return Gc.hasVariableDependencyInLoadingState(this._sceneObject)?(this._isWaitingForVariables=!0,!0):(this._isWaitingForVariables=!1,!1)}getNames(){const e=this._state,t=this._state=this._sceneObject.state;if(!e)return this.scanStateForDependencies(this._state),this._dependencies;if(t!==e)if(this._statePaths){for(const n of this._statePaths)if("*"===n||t[n]!==e[n]){this.scanStateForDependencies(t);break}}else this.scanStateForDependencies(t);return this._dependencies}setVariableNames(e){this._options.variableNames=e,this.scanStateForDependencies(this._state)}setPaths(e){this._statePaths=e}scanStateForDependencies(e){if(this._dependencies.clear(),this.scanCount+=1,this._options.variableNames)for(const e of this._options.variableNames)this._dependencies.add(e);if(this._statePaths)for(const t of this._statePaths){if("*"===t){this.extractVariablesFrom(e);break}{const n=e[t];n&&this.extractVariablesFrom(n)}}}extractVariablesFrom(e){Rt.lastIndex=0;const t=("string"!=typeof e?Wl(e):e).matchAll(Rt);if(t)for(const e of t){const[,t,n,,r]=e,o=t||n||r;this._dependencies.add(o)}}handleTimeMacros(){this._sceneObject.addActivationHandler((()=>{const e=Gc.getTimeRange(this._sceneObject).subscribeToState(((e,t)=>{const n=this.getNames(),r=n.has("__from"),o=n.has("__to"),i=n.has("__timezone");if(e.value!==t.value)if(r){const t=new dc({name:"__from",value:e.from});this.variableUpdateCompleted(t,!0)}else if(o){const t=new dc({name:"__to",value:e.to});this.variableUpdateCompleted(t,!0)}if(e.timeZone!==t.timeZone&&i){const t=new dc({name:"__timezone",value:e.timeZone});this.variableUpdateCompleted(t,!0)}}));return()=>e.unsubscribe()}))}}const fc=e=>Boolean(e.metricFindQuery)&&!Boolean(e.variables),hc=e=>{if(!e.variables)return!1;if(e.variables.getType()!==c.VariableSupportType.Standard)return!1;const t=e.variables;return"toDataQuery"in t&&Boolean(t.toDataQuery)},mc=e=>{if(!e.variables)return!1;if(e.variables.getType()!==c.VariableSupportType.Custom)return!1;const t=e.variables;return"query"in t&&"editor"in t&&Boolean(t.query)&&Boolean(t.editor)},gc=e=>!!e.variables&&e.variables.getType()===c.VariableSupportType.Datasource;var bc=Object.defineProperty,vc=Object.defineProperties,yc=Object.getOwnPropertyDescriptors,wc=Object.getOwnPropertySymbols,Sc=Object.prototype.hasOwnProperty,Ec=Object.prototype.propertyIsEnumerable,Ac=(e,t,n)=>t in e?bc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xc=(e,t)=>{for(var n in t||(t={}))Sc.call(t,n)&&Ac(e,n,t[n]);if(wc)for(var n of wc(t))Ec.call(t,n)&&Ac(e,n,t[n]);return e},Cc=(e,t)=>vc(e,yc(t));class Oc{constructor(e,t=(0,u.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(hc(this.datasource))return this.datasource.variables.toDataQuery(function(e){var t;const n=null!=(t=e.state.query)?t:"";return"string"==typeof n?{query:n,refId:`variable-${e.state.name}`}:null==n.refId?Cc(xc({},n),{refId:`variable-${e.state.name}`}):e.state.query}(e));throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return hc(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):Pc()}}class Ic{constructor(e){this.datasource=e}getTarget(e){if(fc(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest({variable:e,searchFilter:t},n){return fc(this.datasource)?(0,O.from)(this.datasource.metricFindQuery(e.state.query,Cc(xc({},n),{variable:{name:e.state.name,type:e.state.type},searchFilter:t}))).pipe((0,O.mergeMap)((e=>{if(!e||!e.length)return Pc();const t=e;return(0,O.of)({series:t,state:c.LoadingState.Done,timeRange:n.range})}))):Pc()}}class Rc{constructor(e,t=(0,u.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){if(mc(this.datasource))return e.state.query;throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return mc(this.datasource)?this.datasource.variables.query?this._runRequest(this.datasource,t,this.datasource.variables.query.bind(this.datasource.variables)):this._runRequest(this.datasource,t):Pc()}}class Dc{constructor(e,t=(0,u.getRunRequest)()){this.datasource=e,this._runRequest=t}getTarget(e){var t;if(gc(this.datasource))return"string"==typeof e.state.query?e.state.query:Cc(xc({},e.state.query),{refId:null!=(t=e.state.query.refId)?t:"variable-query"});throw new Error("Couldn't create a target with supplied arguments.")}runRequest(e,t){return gc(this.datasource)?this._runRequest(this.datasource,t,this.datasource.query):Pc()}}function Pc(){return(0,O.of)({state:c.LoadingState.Done,series:[],timeRange:(0,c.getDefaultTimeRange)()})}const Tc=(e,t)=>{const n=[];let r=null;t.lastIndex=0;do{r=t.exec(e),r&&n.push(r)}while(t.global&&r&&""!==r[0]&&void 0!==r[0]);return n};function _c(e){if(!e.label)return-1;const t=e.label.match(/.*?(\d+).*/);return!t||t.length<2?-1:parseInt(t[1],10)}const kc=new Intl.Collator(void 0,{sensitivity:"accent",numeric:!0});function Bc(e){return e.slice().sort(((e,t)=>kc.compare(e.label,t.label)))}var Mc=Object.defineProperty,Lc=Object.getOwnPropertySymbols,Nc=Object.prototype.hasOwnProperty,jc=Object.prototype.propertyIsEnumerable,Fc=(e,t,n)=>t in e?Mc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class zc extends Bt{constructor(e){super(((e,t)=>{for(var n in t||(t={}))Nc.call(t,n)&&Fc(e,n,t[n]);if(Lc)for(var n of Lc(t))jc.call(t,n)&&Fc(e,n,t[n]);return e})({type:"query",name:"",value:"",text:"",options:[],datasource:null,regex:"",query:"",refresh:c.VariableRefresh.onDashboardLoad,sort:c.VariableSort.disabled},e)),this._variableDependency=new pc(this,{statePaths:["regex","query","datasource"]}),this.onSearchChange=e=>{Wl(this.state.query).indexOf("__searchFilter")>-1&&this._updateOptionsBasedOnSearchFilter(e)},this._updateOptionsBasedOnSearchFilter=(0,fe.debounce)((async e=>{const t=await(0,O.lastValueFrom)(this.getValueOptions({searchFilter:e}));this.setState({options:t,loading:!1})}),400)}getValueOptions(e){return this.state.query?(this.setState({loading:!0,error:null}),(0,O.from)(tn(this.state.datasource,{__sceneObject:ir(this)})).pipe((0,O.mergeMap)((t=>{const n=function(e){if(hc(e))return new Oc(e,(0,u.getRunRequest)());if(fc(e))return new Ic(e);if(mc(e))return new Rc(e);if(gc(e))return new Dc(e);throw new Error(`Couldn't create a query runner for datasource ${e.type}`)}(t),r=n.getTarget(this),o=this.getRequest(r,e.searchFilter);return n.runRequest({variable:this,searchFilter:e.searchFilter},o).pipe(Jt({type:"variable",request:o,origin:this}),(0,O.filter)((e=>e.state===c.LoadingState.Done||e.state===c.LoadingState.Error)),(0,O.take)(1),(0,O.mergeMap)((e=>e.state===c.LoadingState.Error?(0,O.throwError)((()=>e.error)):(0,O.of)(e))),(e=>e.pipe((0,O.map)((e=>{const t=e.series;if(!t||!t.length)return[];if(function(e){if(!e)return!1;if(!e.length)return!0;const t=e[0];if((0,c.isDataFrame)(t))return!1;for(const e in t){if(!t.hasOwnProperty(e))continue;if(null!==t[e]&&"string"!=typeof t[e]&&"number"!=typeof t[e])continue;const n=e.toLowerCase();if("text"===n||"value"===n)return!0}return!1}(t))return t;if(0===t[0].fields.length)return[];const n=(0,c.getProcessedDataFrames)(t),r=[];let o=-1,i=-1,a=-1,s=-1;for(const e of n)for(let n=0;n<e.fields.length;n++){const r=e.fields[n],l=(0,c.getFieldDisplayName)(r,e,t).toLowerCase();r.type===c.FieldType.string&&-1===a&&(a=n),"text"===l&&r.type===c.FieldType.string&&-1===i&&(i=n),"value"===l&&r.type===c.FieldType.string&&-1===o&&(o=n),"expandable"!==l||r.type!==c.FieldType.boolean&&r.type!==c.FieldType.number||-1!==s||(s=n)}if(-1===a)throw new Error("Couldn't find any field of type string in the results.");for(const e of t)for(let t=0;t<e.length;t++){const n=-1!==s?e.fields[s].values.get(t):void 0,l=e.fields[a].values.get(t),c=-1!==i?e.fields[i].values.get(t):"",u=-1!==o?e.fields[o].values.get(t):"";-1!==o||-1!==i?-1!==o||-1===i?-1===o||-1!==i?r.push({text:c,value:u,expandable:n}):r.push({text:u,value:u,expandable:n}):r.push({text:c,value:c,expandable:n}):r.push({text:l,value:l,expandable:n})}return r})))),(0,O.mergeMap)((e=>{let t="";return this.state.regex&&(t=Gc.interpolate(this,this.state.regex,void 0,"regex")),(0,O.of)(function(e,t,n){var r,o,i,a,s,l,u,d,p,f;let h,m=[];e&&(h=(0,c.stringToJsRegex)(e));for(let e=0;e<n.length;e++){const t=n[e];let c=null!=(o=null!=(r=t.text)?r:t.value)?o:"",g=null!=(a=null!=(i=t.value)?i:t.text)?a:"";if((0,fe.isNumber)(g)&&(g=g.toString()),(0,fe.isNumber)(c)&&(c=c.toString()),h){const e=Tc(g,h);if(!e.length)continue;const t=e.find((e=>e.groups&&e.groups.value)),n=e.find((e=>e.groups&&e.groups.text)),r=e.find((e=>e.length>1)),o=e.length>1&&r;if(t||n)g=null!=(u=null==(s=null==t?void 0:t.groups)?void 0:s.value)?u:null==(l=null==n?void 0:n.groups)?void 0:l.text,c=null!=(f=null==(d=null==n?void 0:n.groups)?void 0:d.text)?f:null==(p=null==t?void 0:t.groups)?void 0:p.value;else{if(o){for(let t=0;t<e.length;t++){const n=e[t];m.push({label:n[1],value:n[1]})}continue}r&&(c=r[1],g=r[1])}}m.push({label:c,value:g})}return m=(0,fe.uniqBy)(m,"value"),((e,t)=>{if(t===c.VariableSort.disabled)return e;switch(t){case c.VariableSort.alphabeticalAsc:e=(0,fe.sortBy)(e,"label");break;case c.VariableSort.alphabeticalDesc:e=(0,fe.sortBy)(e,"label").reverse();break;case c.VariableSort.numericalAsc:e=(0,fe.sortBy)(e,_c);break;case c.VariableSort.numericalDesc:e=(e=(0,fe.sortBy)(e,_c)).reverse();break;case c.VariableSort.alphabeticalCaseInsensitiveAsc:e=(0,fe.sortBy)(e,(e=>(0,fe.toLower)(e.label)));break;case c.VariableSort.alphabeticalCaseInsensitiveDesc:e=(e=(0,fe.sortBy)(e,(e=>(0,fe.toLower)(e.label)))).reverse();break;case c.VariableSort.naturalAsc||7:e=Bc(e);break;case c.VariableSort.naturalDesc||8:e=(e=Bc(e)).reverse()}return e})(m,t)}(t,this.state.sort,e))})),(0,O.catchError)((e=>e.cancelled?(0,O.of)([]):(0,O.throwError)((()=>e)))))})))):(0,O.of)([])}getRequest(e,t){const n={__sceneObject:ir(this)};t&&(n.__searchFilter={value:t,text:t});const r=Gc.getTimeRange(this).state.value;return{app:c.CoreApp.Dashboard,requestId:_(),timezone:"",range:r,interval:"",intervalMs:0,targets:[e],scopedVars:n,startTime:Date.now()}}}function Vc(e){var t;return null!=(t=ce(e,(e=>e.state.$data)))?t:st}function $c(e,t,n,r,o){return""===t||null==t?"":Yt(e,t,n,r,o)}function Uc(e,t,n,r){if(t(e))return e;let o=null;return e.forEachChild((e=>{if(e===n)return;let r=Uc(e,t);r&&(o=r)})),o||(r&&e.parent?Uc(e.parent,t,e,!0):null)}function Wc(e,t){return Uc(e,t,void 0,!0)}function Hc(e,t){const n=[];return e.forEachChild((e=>{t(e)&&n.push(e),n.push(...Hc(e,t))})),n}zc.Component=({model:e})=>Jn(e);const Gc={getVariables:function(e){var t;return null!=(t=ce(e,(e=>e.state.$variables)))?t:ct},getData:Vc,getTimeRange:ut,getLayout:function(e){return ce(e,(e=>function(e){return"isDraggable"in e}(e)?e:void 0))||null},getDataLayers:function(e,t=!1){let n=e,r=[];for(;n;){const e=n.state.$data;if(e){if(Kt(e)?r=r.concat(e):e.state.$data&&Kt(e.state.$data)&&(r=r.concat(e.state.$data)),t&&r.length>0)break;n=n.parent}else n=n.parent}return r},interpolate:$c,lookupVariable:he,hasVariableDependencyInLoadingState:function(e){if(!e.variableDependency)return!1;for(const t of e.variableDependency.getNames()){if(e instanceof zc&&e.state.name===t){console.warn("Query variable is referencing itself");continue}const n=he(t,e);if(n&&n.parent.isVariableLoadingOrWaitingToUpdate(n))return!0}return!1},findByKey:function(e,t){const n=Wc(e,(e=>e.state.key===t));if(!n)throw new Error("Unable to find scene with key "+t);return n},findByKeyAndType:function(e,t,n){const r=Wc(e,(e=>e.state.key===t));if(!r)throw new Error("Unable to find scene with key "+t);if(!(r instanceof n))throw new Error(`Found scene object with key ${t} does not match type ${n.name}`);return r},findObject:Wc,findAllObjects:Hc,getAncestor:function(e,t){let n=e;for(;n;){if(n instanceof t)return n;n=n.parent}if(!n)throw new Error("Unable to find parent of type "+t.name);return n},getQueryController:je,findDescendents:function(e,t){function n(e){return e instanceof t}return Hc(e,n).filter(n)}};class qc{constructor(){this.index=new Map}getUniqueKey(e,t){const n=this.index.get(e);if(!n)return this.index.set(e,[t]),e;let r=n.findIndex((e=>e===t));return-1===r&&(function(e){for(const t of e)if(Yc(t)){const n=e.indexOf(t);e.splice(n,1)}}(n),n.push(t),r=n.length-1),r>0?`${e}-${r+1}`:e}clear(){this.index.clear()}}function Yc(e){const t=e.getRoot();return!Gc.findObject(t,(t=>t===e))}function Xc(e){const t=new qc,n={},r=e=>{if(e.urlSync){const r=e.urlSync.getUrlState();for(const[o,i]of Object.entries(r))if(null!=i){const r=t.getUniqueKey(o,e);n[r]=i}}e.forEachChild(r)};return r(e),n}function Qc(e,t,n,r){r||Zc(e,t,n),e.forEachChild((e=>{Zc(e,t,n)})),e.forEachChild((e=>Qc(e,t,n,!0)))}function Zc(e,t,n){if(e.urlSync){const r={},o=e.urlSync.getUrlState();for(const i of e.urlSync.getKeys()){const a=n.getUniqueKey(i,e),s=t.getAll(a),l=o[i];Kc(s,l)||(s.length>0?Array.isArray(l)?r[i]=s:r[i]=s[0]:r[i]=null)}Object.keys(r).length>0&&e.urlSync.updateFromUrl(r)}}function Kc(e,t){return 0===e.length&&null==t||(Array.isArray(t)||1!==(null==e?void 0:e.length)?0===(null==t?void 0:t.length)&&null===e||(0,fe.isEqual)(e,t):t===e[0])}class Jc extends J{constructor(){super(...arguments),this._runningEffect=null,this._variableDependency=new pc(this,{variableNames:[this.state.variableName],onReferencedVariableValueChanged:this._onVariableChanged.bind(this)})}_onVariableChanged(e){const t=this.state.onChange;this._runningEffect&&(this._runningEffect(),this._runningEffect=null);const n=t(e,this);n&&(this._runningEffect=n)}}var eu=(e=>(e[e.never=0]="never",e[e.onDashboardLoad=1]="onDashboardLoad",e[e.onTimeRangeChanged=2]="onTimeRangeChanged",e))(eu||{}),tu=(e=>(e[e.Crosshair=1]="Crosshair",e[e.Off=0]="Off",e[e.Tooltip=2]="Tooltip",e))(tu||{}),nu=Object.defineProperty,ru=Object.defineProperties,ou=Object.getOwnPropertyDescriptors,iu=Object.getOwnPropertySymbols,au=Object.prototype.hasOwnProperty,su=Object.prototype.propertyIsEnumerable,lu=(e,t,n)=>t in e?nu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class cu extends J{constructor(e){var t,n;super((t=((e,t)=>{for(var n in t||(t={}))au.call(t,n)&&lu(e,n,t[n]);if(iu)for(var n of iu(t))su.call(t,n)&&lu(e,n,t[n]);return e})({},e),n={sync:e.sync||tu.Off},ru(t,ou(n)))),this.getEventsBus=e=>{if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return new uu(this.parent,e)}}getEventsScope(){if(!this.parent)throw new Error("EnableCursorSync cannot be used as a standalone scene object");return this.state.key}}class uu{constructor(e,t){this._source=e,this._eventsOrigin=t}publish(e){e.origin=this,this._eventsOrigin.publishEvent(e,!0)}getStream(e){return new O.Observable((t=>{const n=this._source.subscribeToEvent(e,(e=>{t.next(e)}));return()=>n.unsubscribe()}))}subscribe(e,t){return this.getStream(e).pipe().subscribe(t)}removeAllListeners(){}newScopedBus(e,t){throw new Error("For internal use only")}}var du=function(){},pu="undefined"!=typeof window;const fu=pu?i.useLayoutEffect:i.useEffect;var hu={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};const mu=pu&&void 0!==window.ResizeObserver?function(){var e=(0,i.useState)(null),t=e[0],n=e[1],r=(0,i.useState)(hu),o=r[0],a=r[1],s=(0,i.useMemo)((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,n=t.x,r=t.y,o=t.width,i=t.height,s=t.top,l=t.left,c=t.bottom,u=t.right;a({x:n,y:r,width:o,height:i,top:s,left:l,bottom:c,right:u})}}))}),[]);return fu((function(){if(t)return s.observe(t),function(){s.disconnect()}}),[t]),[n,o]}:function(){return[du,hu]};function gu({data:e,showAll:t,seriesLimit:n,onShowAllSeries:r}){const o=(0,In.useStyles2)(bu),i=null==e?void 0:e.series.length;if(void 0===i||i<n)return null;const a=t?"Restore limit":`Show all ${i}`;return s().createElement("div",{className:o.timeSeriesDisclaimer},!t&&s().createElement("span",{className:o.warningMessage},s().createElement(In.Icon,{title:`Showing only ${n} series`,name:"exclamation-triangle","aria-hidden":"true"})),s().createElement(In.Tooltip,{content:"Rendering too many series in a single panel may impact performance and make data harder to read."},s().createElement(In.Button,{variant:"secondary",size:"sm",onClick:r},a)))}const bu=e=>({timeSeriesDisclaimer:(0,Nn.css)({label:"time-series-disclaimer",display:"flex",alignItems:"center",gap:e.spacing(1)}),warningMessage:(0,Nn.css)({display:"flex",alignItems:"center",gap:e.spacing(.5),color:e.colors.warning.main,fontSize:e.typography.bodySmall.fontSize})});var vu=Object.defineProperty,yu=Object.defineProperties,wu=Object.getOwnPropertyDescriptors,Su=Object.getOwnPropertySymbols,Eu=Object.prototype.hasOwnProperty,Au=Object.prototype.propertyIsEnumerable,xu=(e,t,n)=>t in e?vu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cu=(e,t)=>{for(var n in t||(t={}))Eu.call(t,n)&&xu(e,n,t[n]);if(Su)for(var n of Su(t))Au.call(t,n)&&xu(e,n,t[n]);return e};function Ou(e,t){if(t)return t;let n=e.error?e.error.message:void 0;return e.errors&&(n=e.errors.map((e=>e.message)).join(", ")),n}const Iu=(0,Nn.css)({position:"relative",width:"100%",height:"100%"}),Ru=(0,Nn.css)({position:"absolute",width:"100%",height:"100%"}),Du=e=>({ok:(0,Nn.css)({color:e.colors.success.text}),pending:(0,Nn.css)({color:e.colors.warning.text}),alerting:(0,Nn.css)({color:e.colors.error.text})});var Pu=Object.defineProperty,Tu=Object.defineProperties,_u=Object.getOwnPropertyDescriptors,ku=Object.getOwnPropertySymbols,Bu=Object.prototype.hasOwnProperty,Mu=Object.prototype.propertyIsEnumerable,Lu=(e,t,n)=>t in e?Pu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nu=(e,t)=>{for(var n in t||(t={}))Bu.call(t,n)&&Lu(e,n,t[n]);if(ku)for(var n of ku(t))Mu.call(t,n)&&Lu(e,n,t[n]);return e},ju=(e,t)=>Tu(e,_u(t));const Fu="hideSeriesFrom",zu=(0,c.isSystemOverrideWithRef)(Fu);function Vu(e,t=c.ByNamesMatcherMode.exclude,n){return n=null!=n?n:{id:"custom.hideFrom",value:{viz:!0,legend:!1,tooltip:!1}},{__systemRef:Fu,matcher:{id:c.FieldMatcherID.byNames,options:{mode:t,names:e,prefix:t===c.ByNamesMatcherMode.exclude?"All except:":void 0,readOnly:!0}},properties:[ju(Nu({},n),{value:{viz:!0,legend:!1,tooltip:!1}})]}}const $u=e=>{var t;const n=null==(t=e.matcher.options)?void 0:t.names;return Array.isArray(n)?[...n]:[]},Uu=(e,t)=>{const n=new Set;for(const r of e)for(const o of r.fields){if(o.type!==c.FieldType.number)continue;const i=(0,c.getFieldDisplayName)(o,r,e);i!==t&&n.add(i)}return Array.from(n)},Wu=(e,t)=>{var n;let r=[];for(const o of e){const e=o.properties.find((e=>"custom.hideFrom"===e.id));if(void 0!==e&&!0===(null==(n=e.value)?void 0:n.legend)){const e=c.fieldMatchers.get(o.matcher.id).get(o.matcher.options);for(const n of t)for(const o of n.fields){if(o.type!==c.FieldType.number)continue;const i=(0,c.getFieldDisplayName)(o,n,t);e(o,n,t)&&r.push(i)}}}return r};var Hu=Object.defineProperty,Gu=Object.defineProperties,qu=Object.getOwnPropertyDescriptors,Yu=Object.getOwnPropertySymbols,Xu=Object.prototype.hasOwnProperty,Qu=Object.prototype.propertyIsEnumerable,Zu=(e,t,n)=>t in e?Hu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ku=(e,t)=>{for(var n in t||(t={}))Xu.call(t,n)&&Zu(e,n,t[n]);if(Yu)for(var n of Yu(t))Qu.call(t,n)&&Zu(e,n,t[n]);return e},Ju=(e,t)=>Gu(e,qu(t));const ed=(e,t)=>({matcher:{id:c.FieldMatcherID.byName,options:e},properties:[td(t)]}),td=e=>({id:"color",value:{mode:c.FieldColorModeId.Fixed,fixedColor:e}});var nd=Object.defineProperty,rd=Object.defineProperties,od=Object.getOwnPropertyDescriptors,id=Object.getOwnPropertySymbols,ad=Object.prototype.hasOwnProperty,sd=Object.prototype.propertyIsEnumerable,ld=(e,t,n)=>t in e?nd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cd=(e,t)=>{for(var n in t||(t={}))ad.call(t,n)&&ld(e,n,t[n]);if(id)for(var n of id(t))sd.call(t,n)&&ld(e,n,t[n]);return e},ud=(e,t)=>rd(e,od(t));class dd extends J{constructor(e){var t;super(cd({options:{},fieldConfig:{defaults:{},overrides:[]},title:"Title",pluginId:"timeseries",_renderCounter:0},e)),this._variableDependency=new pc(this,{statePaths:["title","options","fieldConfig"]}),this._structureRev=0,this.onTimeRangeChange=e=>{Gc.getTimeRange(this).onTimeRangeChange({raw:{from:(0,c.toUtc)(e.from),to:(0,c.toUtc)(e.to)},from:(0,c.toUtc)(e.from),to:(0,c.toUtc)(e.to)})},this.getTimeRange=e=>{const t=Gc.findObject(this,(e=>e instanceof fd)),n=Gc.getTimeRange(this);if(t instanceof fd&&t.isEnabled)return Ke(n.state.from,n.state.to,n.getTimeZone(),n.state.fiscalYearStartMonth,n.state.UNSAFE_nowDelay,n.state.weekStart);const r=this.getPlugin();return r&&!r.meta.skipDataQuery&&e&&e.timeRange?e.timeRange:n.state.value},this.onTitleChange=e=>{this.setState({title:e})},this.onDescriptionChange=e=>{this.setState({description:e})},this.onDisplayModeChange=e=>{this.setState({displayMode:e})},this.onToggleCollapse=e=>{this.setState({collapsed:e})},this.onOptionsChange=(e,t=!1,n=!1)=>{var r;const{fieldConfig:o,options:i}=this.state,a=t?e:(0,fe.mergeWith)((0,fe.cloneDeep)(i),e,((e,t,n,r)=>{if((0,fe.isArray)(t))return t;e===t||void 0!==t||(r[n]=t)})),s=(0,c.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:a,currentFieldConfig:o,isAfterPluginChange:n});this.setState({options:s.options,_renderCounter:(null!=(r=this.state._renderCounter)?r:0)+1})},this.onFieldConfigChange=(e,t)=>{const{fieldConfig:n,options:r}=this.state,o=t?e:(0,fe.merge)((0,fe.cloneDeep)(n),e),i=(0,c.getPanelOptionsWithDefaults)({plugin:this._plugin,currentOptions:r,currentFieldConfig:o,isAfterPluginChange:!1});this._dataWithFieldConfig=void 0,this.setState({fieldConfig:i.fieldConfig})},this.interpolate=(e,t,n)=>Gc.interpolate(this,e,t,n),this.getDescription=()=>{this.publishEvent(new U({origin:this,interaction:"panel-description-shown"}),!0);const{description:e}=this.state;if(e){const t=this.interpolate(e);return(0,c.renderMarkdown)(t)}return""},this.onCancelQuery=()=>{var e;this.publishEvent(new U({origin:this,interaction:"panel-cancel-query-clicked"}),!0);const t=Gc.getData(this);null==(e=t.cancelQuery)||e.call(t)},this.onStatusMessageClick=()=>{this.publishEvent(new U({origin:this,interaction:"panel-status-message-clicked"}),!0)},this._onSeriesColorChange=(e,t)=>{this.onFieldConfigChange(((e,t,n)=>{const{overrides:r}=n,o=n.overrides.findIndex((t=>t.matcher.id===c.FieldMatcherID.byName&&t.matcher.options===e));if(o<0)return Ju(Ku({},n),{overrides:[...n.overrides,ed(e,t)]});const i=Array.from(r),a=i[o],s=a.properties.findIndex((e=>"color"===e.id));if(s<0)return i[o]=Ju(Ku({},a),{properties:[...a.properties,td(t)]}),Ju(Ku({},n),{overrides:i});const l=Array.from(a.properties);return l[s]=td(t),i[o]=Ju(Ku({},a),{properties:l}),Ju(Ku({},n),{overrides:i})})(e,t,this.state.fieldConfig))},this._onSeriesVisibilityChange=(e,t)=>{this._dataWithFieldConfig&&this.onFieldConfigChange(function(e,t,n,r){const{overrides:o}=n,i=e,a=o.findIndex(zu);if(a<0){if(t===In.SeriesVisibilityChangeMode.ToggleSelection){const e=Vu([i,...Wu(o,r)]);return ju(Nu({},n),{overrides:[...n.overrides,e]})}const e=Vu(Uu(r,i));return ju(Nu({},n),{overrides:[...n.overrides,e]})}const s=Array.from(o),[l]=s.splice(a,1);if(t===In.SeriesVisibilityChangeMode.ToggleSelection){let e=$u(l);const t=Wu(s,r);if(t.length>0&&(e=e.filter((e=>t.indexOf(e)<0))),e[0]===i&&1===e.length)return ju(Nu({},n),{overrides:s});const o=Vu([i,...t]);return ju(Nu({},n),{overrides:[...s,o]})}const u=((e,t,n=c.ByNamesMatcherMode.exclude)=>{const r=e.properties.find((e=>"custom.hideFrom"===e.id)),o=$u(e),i=o.findIndex((e=>e===t));return i<0?o.push(t):o.splice(i,1),Vu(o,n,r)})(l,i);return((e,t)=>$u(e).length===Uu(t).length)(u,r)?ju(Nu({},n),{overrides:s}):ju(Nu({},n),{overrides:[...s,u]})}(e,t,this.state.fieldConfig,this._dataWithFieldConfig.series),!0)},this._onInstanceStateChange=e=>{this._panelContext&&(this._panelContext=ud(cd({},this._panelContext),{instanceState:e})),this.setState({_pluginInstanceState:e})},this._onToggleLegendSort=e=>{const t=this.state.options.legend;if(!t)return;let n=t.sortDesc,r=t.sortBy;e!==r&&(n=void 0),!1===n?(r=void 0,n=void 0):(n=!n,r=e),this.onOptionsChange(ud(cd({},this.state.options),{legend:ud(cd({},t),{sortBy:r,sortDesc:n})}),!0)},this.addActivationHandler((()=>{this._onActivate()})),null==(t=e.menu)||t.addActivationHandler((()=>{this.publishEvent(new U({origin:this,interaction:"panel-menu-shown"}),!0)}))}_onActivate(){this._plugin||this._loadPlugin(this.state.pluginId)}forceRender(){var e;this.setState({_renderCounter:(null!=(e=this.state._renderCounter)?e:0)+1})}async _loadPlugin(e,t,n,r){const o=function(e){var t;const{getPanelPluginFromCache:n}=(0,u.getPluginImportUtils)();return null!=(t=n(e))?t:C.get(e)}(e);if(o)this._pluginLoaded(o,t,n,r);else{const{importPanelPlugin:o}=(0,u.getPluginImportUtils)();try{const i=o(e),a=Gc.getQueryController(this);a&&a.state.enableProfiling&&en(i).pipe(Jt({type:"plugin",origin:this})).subscribe((()=>{}));const s=await i;this._pluginLoaded(s,t,n,r)}catch(t){this._pluginLoaded(function(e){const t=new c.PanelPlugin((()=>null));return t.meta={id:e,name:e,sort:100,type:c.PluginType.panel,module:"",baseUrl:"",info:{author:{name:""},description:"",links:[],logos:{large:"",small:"public/img/grafana_icon.svg"},screenshots:[],updated:"",version:""}},t}(e)),t instanceof Error&&this.setState({_pluginLoadError:t.message})}}}getLegacyPanelId(){const e=parseInt(this.state.key.replace("panel-",""),10);return isNaN(e)?0:e}async _pluginLoaded(e,t,n,r){const{options:o,fieldConfig:i,title:a,pluginVersion:s,_UNSAFE_customMigrationHandler:l}=this.state,u={title:a,options:o,fieldConfig:i,id:this.getLegacyPanelId(),type:e.meta.id,pluginVersion:s};t&&(u.options=t),n&&(u.fieldConfig=n);const d=this._getPluginVersion(e);null==l||l(u,e),e.onPanelMigration&&d!==s&&!r&&(u.options=await e.onPanelMigration(u));const p=(0,c.getPanelOptionsWithDefaults)({plugin:e,currentOptions:u.options,currentFieldConfig:u.fieldConfig,isAfterPluginChange:null!=r&&r});if(this._plugin=e,this.setState({options:p.options,fieldConfig:p.fieldConfig,pluginVersion:d,pluginId:e.meta.id}),e.meta.skipDataQuery){const e=Gc.getTimeRange(this);this._subs.add(e.subscribeToState((()=>this.forceRender())))}}_getPluginVersion(e){return e&&e.meta.info.version?e.meta.info.version:u.config.buildInfo.version}getPlugin(){return this._plugin}getPanelContext(){return null!=this._panelContext||(this._panelContext=this.buildPanelContext()),this._panelContext}async changePluginType(e,t,n){var r,o;const{options:i,fieldConfig:a,pluginId:s}=this.state;this._dataWithFieldConfig=void 0;const l=this.state.pluginId!==e;await this._loadPlugin(e,null!=t?t:{},n,l);const c={title:this.state.title,options:this.state.options,fieldConfig:this.state.fieldConfig,id:1,type:e},u=null==(o=null==(r=this._plugin)?void 0:r.onPanelTypeChanged)?void 0:o.call(r,c,s,i,a);u&&!(0,fe.isEmpty)(u)&&this.onOptionsChange(u,!0,!0)}clearFieldConfigCache(){this._dataWithFieldConfig=void 0}applyFieldConfig(e){var t,n,r,o;const i=this._plugin;if(!i||i.meta.skipDataQuery||!e)return Ye;if(this._prevData===e&&this._dataWithFieldConfig)return this._dataWithFieldConfig;const a=i.dataSupport||{alertStates:!1,annotations:!1},s=i.fieldConfigRegistry,l=null!=(n=null==(t=this._dataWithFieldConfig)?void 0:t.series)?n:[],d=(0,c.applyFieldOverrides)({data:e.series,fieldConfig:this.state.fieldConfig,fieldConfigRegistry:s,replaceVariables:this.interpolate,theme:u.config.theme2,timeZone:null==(r=e.request)?void 0:r.timezone});return(0,c.compareArrayValues)(d,l,c.compareDataFrameStructures)||this._structureRev++,this._dataWithFieldConfig=ud(cd({},e),{structureRev:this._structureRev,series:d}),this._dataWithFieldConfig.annotations&&(this._dataWithFieldConfig.annotations=(0,c.applyFieldOverrides)({data:this._dataWithFieldConfig.annotations,fieldConfig:{defaults:{},overrides:[]},fieldConfigRegistry:s,replaceVariables:this.interpolate,theme:u.config.theme2,timeZone:null==(o=e.request)?void 0:o.timezone})),a.alertStates||(this._dataWithFieldConfig.alertState=void 0),a.annotations||(this._dataWithFieldConfig.annotations=void 0),this._prevData=e,this._dataWithFieldConfig}buildPanelContext(){const e=Gc.findObject(this,(e=>e instanceof cu));const t={eventsScope:e?e.getEventsScope():"__global_",eventBus:e?e.getEventsBus(this):(0,u.getAppEvents)(),app:c.CoreApp.Unknown,sync:()=>e?e.state.sync:c.DashboardCursorSync.Off,onSeriesColorChange:this._onSeriesColorChange,onToggleSeriesVisibility:this._onSeriesVisibilityChange,onToggleLegendSort:this._onToggleLegendSort,onInstanceStateChange:this._onInstanceStateChange};return this.state.extendPanelContext&&this.state.extendPanelContext(this,t),t}}dd.Component=function({model:e}){var t;const{title:n,options:r,fieldConfig:o,_pluginLoadError:a,displayMode:l,hoverHeader:d,showMenuAlways:p,hoverHeaderOffset:f,menu:h,headerActions:m,titleItems:g,seriesLimit:b,seriesLimitShowAll:v,description:y,collapsible:w,collapsed:S,_renderCounter:E=0}=e.useState(),[A,{width:x,height:C}]=mu(),O=(0,i.useMemo)((()=>(0,u.getAppEvents)()),[]),I=(0,i.useCallback)((()=>{e.state.key&&O.publish(new c.SetPanelAttentionEvent({panelId:e.state.key}))}),[e.state.key,O]),R=(0,i.useMemo)((()=>(0,fe.debounce)(I,100,{leading:!0,trailing:!1})),[I]),D=e.getPlugin(),{dragClass:P,dragClassCancel:T}=function(e){var t,n;const r=Gc.getLayout(e),o=null==r?void 0:r.isDraggable();return r&&o&&!function(e,t){let n=e.parent;for(;n&&n!==t;){if("isDraggable"in n.state&&!1===n.state.isDraggable)return!0;n=n.parent}return!1}(e,r)?{dragClass:null==(t=r.getDragClass)?void 0:t.call(r),dragClassCancel:null==(n=null==r?void 0:r.getDragClassCancel)?void 0:n.call(r)}:{dragClass:"",dragClassCancel:""}}(e),_=function(e){var t,n;const r=Gc.getLayout(e);return null!=(n=null==(t=null==r?void 0:r.getDragHooks)?void 0:t.call(r))?n:{}}(e),k=Gc.getData(e),B=k.useState(),M=function(e,t,n){return(0,i.useMemo)((()=>{return(null==e?void 0:e.series)&&t&&!n?(r=Cu({},e),o={series:e.series.slice(0,t)},yu(r,wu(o))):e;var r,o}),[e,t,n])}(B.data,b,v),L=e.applyFieldConfig(M),N=Gc.getTimeRange(e).getTimeZone(),j=e.getTimeRange(L),F=e.interpolate(n,void 0,"text"),z=(0,In.useStyles2)(Du);if(!D)return s().createElement("div",null,"Loading plugin panel...");if(!D.panel)return s().createElement("div",null,"Panel plugin has no panel component");const V=D.panel;k&&k.setContainerWidth&&k.setContainerWidth(Math.round(x));let $,U,W=[];g&&(Array.isArray(g)?W=W.concat(g.map((e=>s().createElement(e.Component,{model:e,key:`${e.state.key}`})))):Xt(g)?W.push(s().createElement(g.Component,{model:g})):W.push(g)),b&&W.push(s().createElement(gu,{key:"series-limit",data:B.data,seriesLimit:b,showAll:v,onShowAllSeries:()=>e.setState({seriesLimitShowAll:!v})})),e.state.$timeRange&&W.push(s().createElement(e.state.$timeRange.Component,{model:e.state.$timeRange,key:e.state.key})),L.alertState&&W.push(s().createElement(In.Tooltip,{content:null!=(t=L.alertState.state)?t:"unknown",key:`alert-states-icon-${e.state.key}`},s().createElement(In.PanelChrome.TitleItem,{className:(0,Nn.cx)({[z.ok]:L.alertState.state===c.AlertState.OK,[z.pending]:L.alertState.state===c.AlertState.Pending,[z.alerting]:L.alertState.state===c.AlertState.Alerting})},s().createElement(In.Icon,{name:"alerting"===L.alertState.state?"heart-break":"heart",className:"panel-alert-icon",size:"md"})))),h&&($=s().createElement(h.Component,{model:h})),m&&(U=Array.isArray(m)?s().createElement(s().Fragment,null,m.map((e=>s().createElement(e.Component,{model:e,key:`${e.state.key}`})))):Xt(m)?s().createElement(m.Component,{model:m}):m);const H=L,G=!k.isDataReadyToDisplay||k.isDataReadyToDisplay(),q=e.getPanelContext(),Y=e.getLegacyPanelId();return s().createElement("div",{className:Iu},s().createElement("div",{ref:A,className:Ru,"data-viz-panel-key":e.state.key},x>0&&C>0&&s().createElement(In.PanelChrome,Cu({title:F,description:(null==y?void 0:y.trim())?e.getDescription:void 0,loadingState:H.state,statusMessage:Ou(H,a),statusMessageOnClick:e.onStatusMessageClick,width:x,height:C,selectionId:e.state.key,displayMode:l,titleItems:W,dragClass:P,actions:U,dragClassCancel:T,padding:D.noPadding?"none":"md",menu:$,onCancelQuery:e.onCancelQuery,onFocus:I,onMouseEnter:I,onMouseMove:R,onDragStart:t=>{var n;null==(n=_.onDragStart)||n.call(_,t,e)}},w?{collapsible:Boolean(w),collapsed:S,onToggleCollapse:e.onToggleCollapse,showMenuAlways:p}:{hoverHeader:d,hoverHeaderOffset:f}),((t,i)=>s().createElement(s().Fragment,null,s().createElement(In.ErrorBoundaryAlert,{dependencies:[D,H]},s().createElement(c.PluginContextProvider,{meta:D.meta},s().createElement(In.PanelContextProvider,{value:q},G&&s().createElement(V,{id:Y,data:H,title:n,timeRange:j,timeZone:N,options:r,fieldConfig:o,transparent:!1,width:t,height:i,renderCounter:E,replaceVariables:e.interpolate,onOptionsChange:e.onOptionsChange,onFieldConfigChange:e.onFieldConfigChange,onChangeTimeRange:e.onTimeRangeChange,eventBus:q.eventBus})))))))))};const pd=class extends J{constructor({enabled:e=!1}){super({enabled:e}),this.timerId=void 0,this._activationHandler=()=>(this.state.enabled&&this.enable(),()=>{window.clearInterval(this.timerId),this.timerId=void 0}),this.addActivationHandler(this._activationHandler)}enable(){window.clearInterval(this.timerId),this.timerId=void 0,this.timerId=window.setInterval((()=>{const e=Gc.findAllObjects(this.getRoot(),(e=>e instanceof dd));for(const t of e)t.forceRender()}),pd.REFRESH_RATE),this.setState({enabled:!0})}disable(){window.clearInterval(this.timerId),this.timerId=void 0,this.setState({enabled:!1})}get isEnabled(){return this.state.enabled}};let fd=pd;function hd(e){if("string"==typeof e)return e;if(e){if(e instanceof Error)return e.message;if((0,u.isFetchError)(e)){if(e.data&&e.data.message)return e.data.message;if(e.statusText)return e.statusText}else if(e.hasOwnProperty("message"))return e.message}return JSON.stringify(e)}fd.REFRESH_RATE=100;var md=Object.defineProperty,gd=Object.getOwnPropertySymbols,bd=Object.prototype.hasOwnProperty,vd=Object.prototype.propertyIsEnumerable,yd=(e,t,n)=>t in e?md(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class wd extends J{constructor(e,t=[]){super(((e,t)=>{for(var n in t||(t={}))bd.call(t,n)&&yd(e,n,t[n]);if(gd)for(var n of gd(t))vd.call(t,n)&&yd(e,n,t[n]);return e})({isEnabled:!0},e)),this._results=new O.ReplaySubject(1),this.isDataLayer=!0,this._variableValueRecorder=new nn,this._variableDependency=new pc(this,{onVariableUpdateCompleted:this.onVariableUpdateCompleted.bind(this)}),this._variableDependency.setPaths(t),this.addActivationHandler((()=>this.onActivate()))}onActivate(){return this.state.isEnabled&&this.onEnable(),this.shouldRunLayerOnActivate()&&this.runLayer(),this.subscribeToState(((e,t)=>{!e.isEnabled&&this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.onDisable(),this._results.next({origin:this,data:Ye}),this.setStateHelper({data:Ye})),e.isEnabled&&!t.isEnabled&&(this.onEnable(),this.runLayer())})),()=>{this.onDeactivate()}}onDeactivate(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0),this.onDisable(),this._variableValueRecorder.recordCurrentDependencyValuesForSceneObject(this)}onVariableUpdateCompleted(){this.runLayer()}cancelQuery(){this.querySub&&(this.querySub.unsubscribe(),this.querySub=void 0,this.publishResults(Ye))}publishResults(e){this.state.isEnabled&&(this._results.next({origin:this,data:e}),this.setStateHelper({data:e}))}getResultsStream(){return this._results}shouldRunLayerOnActivate(){return!!this.state.isEnabled&&(this._variableValueRecorder.hasDependenciesChanged(this)?(me("SceneDataLayerBase","Variable dependency changed while inactive, shouldRunLayerOnActivate returns true"),!0):!this.state.data)}setStateHelper(e){_t(this,e)}}class Sd extends J{constructor(){super({})}}function Ed({layer:e}){var t,n;const r=`data-layer-${e.state.key}`,{data:o,isEnabled:i}=e.useState(),a=Boolean(o&&o.state===Ve.Loading);return s().createElement("div",{className:Ad},s().createElement(vr,{htmlFor:r,isLoading:a,onCancel:()=>{var t;return null==(t=e.cancelQuery)?void 0:t.call(e)},label:e.state.name,description:e.state.description,error:null==(n=null==(t=e.state.data)?void 0:t.errors)?void 0:n[0].message}),s().createElement(In.InlineSwitch,{id:r,value:i,onChange:()=>e.setState({isEnabled:!i})}))}Sd.Component=function({model:e}){const t=Gc.getDataLayers(e,!0);return 0===t.length?null:s().createElement(s().Fragment,null,t.map((e=>s().createElement(e.Component,{model:e,key:e.state.key}))))};const Ad=(0,Nn.css)({display:"flex"});function xd(e){return"function"==typeof e}function Cd(e){return function(t){if(function(e){return xd(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Od=function(e,t){return Od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Od(e,t)};function Id(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Od(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Rd=function(){return Rd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Rd.apply(this,arguments)};function Dd(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function Pd(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Td(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function _d(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function kd(e){return this instanceof kd?(this.v=e,this):new kd(e)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Bd,Md=((Bd=function(e){var t;t=this,Error.call(t),t.stack=(new Error).stack,this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}).prototype=Object.create(Error.prototype),Bd.prototype.constructor=Bd,Bd);function Ld(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Nd=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=Pd(i),s=a.next();!s.done;s=a.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else i.remove(this);var l=this.initialTeardown;if(xd(l))try{l()}catch(e){o=e instanceof Md?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=Pd(c),d=u.next();!d.done;d=u.next()){var p=d.value;try{Fd(p)}catch(e){o=null!=o?o:[],e instanceof Md?o=_d(_d([],Td(o)),Td(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(o)throw new Md(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Fd(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Ld(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Ld(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function jd(e){return e instanceof Nd||e&&"closed"in e&&xd(e.remove)&&xd(e.add)&&xd(e.unsubscribe)}function Fd(e){xd(e)?e():e.unsubscribe()}Nd.EMPTY;var zd=null,Vd=null,$d=void 0,Ud=!1,Wd=!1,Hd={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=Hd.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,_d([e,t],Td(n))):setTimeout.apply(void 0,_d([e,t],Td(n)))},clearTimeout:function(e){var t=Hd.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Gd(e){Hd.setTimeout((function(){if(!zd)throw e;zd(e)}))}function qd(){}var Yd=Xd("C",void 0,void 0);function Xd(e,t,n){return{kind:e,value:t,error:n}}var Qd=null,Zd=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,jd(t)&&t.add(n)):n.destination=op,n}return Id(t,e),t.create=function(e,t,n){return new tp(e,t,n)},t.prototype.next=function(e){this.isStopped?rp(function(e){return Xd("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?rp(Xd("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?rp(Yd,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Nd),Kd=Function.prototype.bind;function Jd(e,t){return Kd.call(e,t)}var ep=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){np(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){np(e)}else np(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){np(e)}},e}(),tp=function(e){function t(t,n,r){var o,i,a=e.call(this)||this;return xd(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:a&&Wd?((i=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},o={next:t.next&&Jd(t.next,i),error:t.error&&Jd(t.error,i),complete:t.complete&&Jd(t.complete,i)}):o=t,a.destination=new ep(o),a}return Id(t,e),t}(Zd);function np(e){var t;Ud?(t=e,Ud&&Qd&&(Qd.errorThrown=!0,Qd.error=t)):Gd(e)}function rp(e,t){var n=Vd;n&&Hd.setTimeout((function(){return n(e,t)}))}var op={closed:!0,next:qd,error:function(e){throw e},complete:qd};function ip(e,t,n,r,o){return new ap(e,t,n,r,o)}var ap=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return Id(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Zd);function sp(e,t){return Cd((function(n,r){var o=0;n.subscribe(ip(r,(function(n){r.next(e.call(t,n,o++))})))}))}var lp="function"==typeof Symbol&&Symbol.observable||"@@observable";function cp(e){return e}var up=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,i=(r=e)&&r instanceof Zd||function(e){return e&&xd(e.next)&&xd(e.error)&&xd(e.complete)}(r)&&jd(r)?e:new tp(e,t,n);return function(e){if(Ud){var t=!Qd;if(t&&(Qd={errorThrown:!1,error:null}),e(),t){var n=Qd,r=n.errorThrown,o=n.error;if(Qd=null,r)throw o}}else e()}((function(){var e=o,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=dp(t))((function(t,r){var o=new tp({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[lp]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(n=e).length?cp:1===n.length?n[0]:function(e){return n.reduce((function(e,t){return t(e)}),e)})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=dp(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function dp(e){var t;return null!==(t=null!=e?e:$d)&&void 0!==t?t:Promise}var pp="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function fp(e){if(e instanceof up)return e;if(null!=e){if(function(e){return xd(e[lp])}(e))return a=e,new up((function(e){var t=a[lp]();if(xd(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((i=e)&&"number"==typeof i.length&&"function"!=typeof i)return o=e,new up((function(e){for(var t=0;t<o.length&&!e.closed;t++)e.next(o[t]);e.complete()}));if(xd(null==(r=e)?void 0:r.then))return n=e,new up((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Gd)}));if(function(e){return Symbol.asyncIterator&&xd(null==e?void 0:e[Symbol.asyncIterator])}(e))return hp(e);if(function(e){return xd(null==e?void 0:e[pp])}(e))return t=e,new up((function(e){var n,r;try{for(var o=Pd(t),i=o.next();!i.done;i=o.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(function(e){return xd(null==e?void 0:e.getReader)}(e))return hp(function(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=o[e](t)).value instanceof kd?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}(this,arguments,(function(){var t,n,r;return Dd(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,kd(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,kd(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,kd(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,n,r,o,i,a;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function hp(e){return new up((function(t){(function(e,t){var n,r,o,i,a,s,l,c;return a=this,s=void 0,c=function(){var a,s;return Dd(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Pd(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),o={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof l?o:new l((function(e){e(o)}))).then(n,r)}o((c=c.apply(a,s||[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}function mp(e,t,n){return void 0===n&&(n=1/0),xd(t)?mp((function(n,r){return sp((function(e,o){return t(n,e,r,o)}))(fp(e(n,r)))}),n):("number"==typeof t&&(n=t),Cd((function(t,r){return function(e,t,n,r){var o=[],i=0,a=0,s=!1,l=function(){!s||o.length||i||t.complete()},c=function(e){return i<r?u(e):o.push(e)},u=function(e){i++;var s=!1;fp(n(e,a++)).subscribe(ip(t,(function(e){t.next(e)}),(function(){s=!0}),void 0,(function(){if(s)try{i--;for(var e=function(){var e=o.shift();u(e)};o.length&&i<r;)e();l()}catch(e){t.error(e)}})))};return e.subscribe(ip(t,c,(function(){s=!0,l()}))),function(){}}(t,r,e,n)})))}var gp=Object.defineProperty,bp=Object.defineProperties,vp=Object.getOwnPropertyDescriptors,yp=Object.getOwnPropertySymbols,wp=Object.prototype.hasOwnProperty,Sp=Object.prototype.propertyIsEnumerable,Ep=(e,t,n)=>t in e?gp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ap={prepareAnnotation:e=>{if((0,fe.isString)(null==e?void 0:e.query)){const n=e,{query:r}=n;return t=((e,t)=>{for(var n in t||(t={}))wp.call(t,n)&&Ep(e,n,t[n]);if(yp)for(var n of yp(t))Sp.call(t,n)&&Ep(e,n,t[n]);return e})({},((e,t)=>{var n={};for(var r in e)wp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&yp)for(var r of yp(e))t.indexOf(r)<0&&Sp.call(e,r)&&(n[r]=e[r]);return n})(n,["query"])),bp(t,vp({target:{refId:"annotation_query",query:r},mappings:{}}))}var t;return e},prepareQuery:e=>e.target,processEvents:(e,t)=>function(e,t){return(0,O.of)(e).pipe((e=>e.pipe(mp((e=>{if(!(null==e?void 0:e.length))return(0,O.of)(void 0);if(1===e.length)return(0,O.of)(e[0]);return(0,O.of)(e).pipe(c.standardTransformers.mergeTransformer.operator({},{interpolate:e=>e}),sp((e=>e[0])))})))),sp((e=>{if(!(null==e?void 0:e.length))return[];let n=!1,r=!1;const o={};for(const t of e.fields)o[(0,c.getFieldDisplayName)(t,e).toLowerCase()]=t;t||(t={});const i=[];for(const a of Cp){const s=t[a.key]||{};if(s.source===c.AnnotationEventFieldSource.Skip)continue;const l={key:a.key,split:a.split};if(s.source===c.AnnotationEventFieldSource.Text)l.text=s.value;else{const t=(s.value||a.key).toLowerCase();l.field=o[t],!l.field&&a.field&&(l.field=a.field(e))}(l.field||l.text)&&(i.push(l),"time"===l.key?n=!0:"text"===l.key&&(r=!0))}if(!n||!r)return console.error("Cannot process annotation fields. No time or text present."),[];const a=[];for(let t=0;t<e.length;t++){const e={type:"default",color:"red"};for(const n of i){let r;if(n.text)r=n.text;else if(n.field&&(r=n.field.values.get(t),void 0!==r&&n.regex)){const e=n.regex.exec(r);e&&(r=e[1]?e[1]:e[0])}null!=r&&(n.split&&"string"==typeof r&&(r=r.split(",")),e[n.key]=r)}a.push(e)}return a})))}(t,e.mappings)},xp=[{key:"time",field:e=>e.fields.find((e=>e.type===c.FieldType.time)),placeholder:"time, or the first time field"},{key:"timeEnd",help:"When this field is defined, the annotation will be treated as a range"},{key:"title"},{key:"text",field:e=>e.fields.find((e=>e.type===c.FieldType.string)),placeholder:"text, or the first text field"},{key:"tags",split:",",help:"The results will be split on comma (,)"},{key:"id"}],Cp=[...u.config.publicDashboardAccessToken?[{key:"color"},{key:"isRegion"},{key:"source"}]:[],...xp,{key:"userId"},{key:"login"},{key:"email"},{key:"prevState"},{key:"newState"},{key:"data"},{key:"panelId"},{key:"alertId"},{key:"dashboardId"},{key:"dashboardUID"}],Op=["prometheus","loki","elasticsearch","grafana-opensearch-datasource"];var Ip=Object.defineProperty,Rp=Object.defineProperties,Dp=Object.getOwnPropertyDescriptors,Pp=Object.getOwnPropertySymbols,Tp=Object.prototype.hasOwnProperty,_p=Object.prototype.propertyIsEnumerable,kp=(e,t,n)=>t in e?Ip(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bp=(e,t)=>{for(var n in t||(t={}))Tp.call(t,n)&&kp(e,n,t[n]);if(Pp)for(var n of Pp(t))_p.call(t,n)&&kp(e,n,t[n]);return e},Mp=(e,t)=>Rp(e,Dp(t));let Lp=100;var Np=Object.defineProperty,jp=Object.getOwnPropertySymbols,Fp=Object.prototype.hasOwnProperty,zp=Object.prototype.propertyIsEnumerable,Vp=(e,t,n)=>t in e?Np(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function $p(e){return"panel-alert"===e.eventType}var Up=Object.defineProperty,Wp=Object.defineProperties,Hp=Object.getOwnPropertyDescriptors,Gp=Object.getOwnPropertySymbols,qp=Object.prototype.hasOwnProperty,Yp=Object.prototype.propertyIsEnumerable,Xp=(e,t,n)=>t in e?Up(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qp=(e,t)=>{for(var n in t||(t={}))qp.call(t,n)&&Xp(e,n,t[n]);if(Gp)for(var n of Gp(t))Yp.call(t,n)&&Xp(e,n,t[n]);return e},Zp=(e,t)=>Wp(e,Hp(t));class Kp extends wd{constructor(e){super(Qp({isEnabled:!0},e),["query"]),this._scopedVars={__sceneObject:ir(this)}}onEnable(){this.publishEvent(new u.RefreshEvent,!0);const e=Gc.getTimeRange(this);this._timeRangeSub=e.subscribeToState((()=>{this.runWithTimeRange(e)}))}onDisable(){var e;this.publishEvent(new u.RefreshEvent,!0),null==(e=this._timeRangeSub)||e.unsubscribe()}runLayer(){me("AnnotationsDataLayer","run layer");const e=Gc.getTimeRange(this);this.runWithTimeRange(e)}async runWithTimeRange(e){const{query:t}=this.state;if(this.querySub&&this.querySub.unsubscribe(),this._variableDependency.hasDependencyInLoadingState())me("AnnotationsDataLayer","Variable dependency is in loading state, skipping query execution");else try{let n=function(e,t,n,r){var o;if(e.annotationQuery&&function(e){const{type:t}=e;return!e.annotations||Op.includes(t)}(e))return console.warn("Using deprecated annotationQuery method, please upgrade your datasource"),(0,O.from)(e.annotationQuery({range:t.state.value,rangeRaw:t.state.value.raw,annotation:n,dashboard:{getVariables:(0,u.getTemplateSrv)().getVariables}})).pipe(sp((e=>({state:Ve.Done,events:e}))));const i=Bp(Bp({},Ap),e.annotations),a=Bp(Bp({},null==(o=i.getDefaultQuery)?void 0:o.call(i)),n),s=i.prepareAnnotation(a);if(!s)return(0,O.of)({state:Ve.Done,events:[]});const l=i.prepareQuery(s);if(!l)return(0,O.of)({state:Ve.Done,events:[]});const d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,p=c.rangeUtil.calculateInterval(t.state.value,d,e.interval),f={__interval:{text:p.interval,value:p.interval},__interval_ms:{text:p.intervalMs.toString(),value:p.intervalMs},__annotation:{text:s.name,value:s},__sceneObject:ir(r)},h=Bp(Mp(Bp({startTime:Date.now(),requestId:"AQ"+Lp++,range:t.state.value,maxDataPoints:d,scopedVars:f},p),{app:c.CoreApp.Dashboard,timezone:t.getTimeZone(),targets:[Mp(Bp({},l),{refId:"Anno"})]}),An(r));return(0,u.getRunRequest)()(e,h).pipe(mp((e=>{const t=(null==e?void 0:e.series.length)?e.series:e.annotations;return(null==t?void 0:t.length)?(t.forEach((e=>{var t;(null==(t=e.meta)?void 0:t.dataTopic)||(e.meta=Mp(Bp({},e.meta||{}),{dataTopic:c.DataTopic.Annotations}))})),i.processEvents(s,t).pipe(sp((t=>({state:e.state,events:t||[]}))))):(0,O.of)({state:e.state,events:[]})})))}(await this.resolveDataSource(t),e,t,this).pipe(Jt({type:"annotations",origin:this,cancel:()=>this.cancelQuery()}),(0,O.map)((e=>this.processEvents(t,e))));this.querySub=n.subscribe((e=>{this.publishResults(e)}))}catch(e){this.publishResults(Zp(Qp({},Ye),{state:Ve.Error,errors:[{message:hd(e)}]})),console.error("AnnotationsDataLayer error",e)}}async resolveDataSource(e){return await tn(e.datasource||void 0,this._scopedVars)}processEvents(e,t){let n=(r=e,o=t.events||[],r.snapshotData&&delete(r=(0,fe.cloneDeep)(r)).snapshotData,o.map((e=>{var t;const n=((e,t)=>{for(var n in t||(t={}))Fp.call(t,n)&&Vp(e,n,t[n]);if(jp)for(var n of jp(t))zp.call(t,n)&&Vp(e,n,t[n]);return e})({},e);switch(n.source=r,n.color=u.config.theme2.visualization.getColorByName(r.iconColor),n.type=r.name,n.isRegion=Boolean(n.timeEnd&&n.time!==n.timeEnd),null==(t=n.newState)?void 0:t.toLowerCase()){case"pending":n.color="yellow";break;case"alerting":n.color="red";break;case"ok":case"normal":n.color="green";break;case"no_data":case"nodata":n.color="gray"}return n})));var r,o;n=function(e){let t=[];const n=(0,fe.partition)(e,"id"),r=(0,fe.groupBy)(n[0],"id");return t=(0,fe.map)(r,(e=>e.length>1&&!(0,fe.every)(e,$p)?(0,fe.find)(e,(e=>"panel-alert"!==e.eventType)):(0,fe.head)(e))),t=(0,fe.concat)(t,n[1]),t}(n);const i=Zp(Qp({},Ye),{state:t.state}),a=(0,c.arrayToDataFrame)(n);return a.meta=Zp(Qp({},a.meta),{dataTopic:c.DataTopic.Annotations}),i.series=[a],i}}Kp.Component=function({model:e}){const{isHidden:t}=e.useState();return t?null:s().createElement(Ed,{layer:e})};class Jp extends J{constructor(e){super(e),this._activationHandler=()=>{const e=this.getAncestorTimeRange();this.ancestorTimeRangeChanged(e.state),this._subs.add(e.subscribeToState((e=>this.ancestorTimeRangeChanged(e))))},this.addActivationHandler(this._activationHandler)}getAncestorTimeRange(){if(!this.parent||!this.parent.parent)throw new Error(typeof this+" must be used within $timeRange scope");return Gc.getTimeRange(this.parent.parent)}getTimeZone(){return this.getAncestorTimeRange().getTimeZone()}onTimeRangeChange(e){this.getAncestorTimeRange().onTimeRangeChange(e)}onTimeZoneChange(e){this.getAncestorTimeRange().onTimeZoneChange(e)}onRefresh(){this.getAncestorTimeRange().onRefresh()}}var ef=Object.defineProperty,tf=Object.defineProperties,nf=Object.getOwnPropertyDescriptors,rf=Object.getOwnPropertySymbols,of=Object.prototype.hasOwnProperty,af=Object.prototype.propertyIsEnumerable,sf=(e,t,n)=>t in e?ef(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lf=(e,t)=>{for(var n in t||(t={}))of.call(t,n)&&sf(e,n,t[n]);if(rf)for(var n of rf(t))af.call(t,n)&&sf(e,n,t[n]);return e},cf=(e,t)=>tf(e,nf(t));class uf extends Jp{constructor(e){super(cf(lf({},e),{timeZone:e.timeZone,from:"now-6h",to:"now",value:(0,c.getDefaultTimeRange)()}))}ancestorTimeRangeChanged(e){this.setState(cf(lf({},e),{timeZone:this.state.timeZone,value:Ke(e.from,e.to,this.state.timeZone,e.fiscalYearStartMonth,e.UNSAFE_nowDelay,e.weekStart)}))}getTimeZone(){return this.state.timeZone}onTimeZoneChange(e){const t=this.getAncestorTimeRange();this.setState({timeZone:e,value:Ke(t.state.from,t.state.to,e,t.state.fiscalYearStartMonth,t.state.UNSAFE_nowDelay,t.state.weekStart)})}}class df extends J{constructor(e){super({source:e.source,data:e.source.resolve().state.data}),this.addActivationHandler((()=>{this._subs.add(this.state.source.resolve().subscribeToState(((e,t)=>{e.data!==t.data&&this.setState({data:e.data})})))}))}setContainerWidth(e){var t,n;null==(n=(t=this.state.source.resolve()).setContainerWidth)||n.call(t,e)}isDataReadyToDisplay(){var e,t,n;return null==(n=null==(t=(e=this.state.source.resolve()).isDataReadyToDisplay)?void 0:t.call(e))||n}cancelQuery(){var e,t;null==(t=(e=this.state.source.resolve()).cancelQuery)||t.call(e)}getResultsStream(){return this.state.source.resolve().getResultsStream()}}var pf=Object.defineProperty,ff=Object.defineProperties,hf=Object.getOwnPropertyDescriptors,mf=Object.getOwnPropertySymbols,gf=Object.prototype.hasOwnProperty,bf=Object.prototype.propertyIsEnumerable,vf=(e,t,n)=>t in e?pf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class yf extends J{constructor(){super(...arguments),this.isDataLayer=!0,this._results=new O.ReplaySubject(1),this._dataLayersMerger=new fl}subscribeToAllLayers(e){e.length>0?this.querySub=this._dataLayersMerger.getMergedStream(e).subscribe(this._onLayerUpdateReceived.bind(this)):(this._results.next({origin:this,data:Ye}),this.setStateHelper({data:Ye}))}_onLayerUpdateReceived(e){var t;let n=[];for(const r of e)(null==(t=r.data)?void 0:t.series)&&(n=n.concat(r.data.series));const r=(o=((e,t)=>{for(var n in t||(t={}))gf.call(t,n)&&vf(e,n,t[n]);if(mf)for(var n of mf(t))bf.call(t,n)&&vf(e,n,t[n]);return e})({},Ye),ff(o,hf({series:n})));var o;this._results.next({origin:this,data:r}),this.setStateHelper({data:r})}getResultsStream(){return this._results}cancelQuery(){var e;null==(e=this.querySub)||e.unsubscribe()}setStateHelper(e){_t(this,e)}}class wf extends yf{constructor(e){var t,n;super({name:null!=(t=e.name)?t:"Data layers",layers:null!=(n=e.layers)?n:[]}),this.addActivationHandler((()=>this._onActivate()))}_onActivate(){return this._subs.add(this.subscribeToState(((e,t)=>{var n;e.layers!==t.layers&&(null==(n=this.querySub)||n.unsubscribe(),this.subscribeToAllLayers(e.layers))}))),this.subscribeToAllLayers(this.state.layers),()=>{var e;null==(e=this.querySub)||e.unsubscribe()}}}wf.Component=({model:e})=>{const{layers:t}=e.useState();return s().createElement(s().Fragment,null,t.map((e=>s().createElement(e.Component,{model:e,key:e.state.key}))))};var Sf=Object.defineProperty,Ef=Object.defineProperties,Af=Object.getOwnPropertyDescriptors,xf=Object.getOwnPropertySymbols,Cf=Object.prototype.hasOwnProperty,Of=Object.prototype.propertyIsEnumerable,If=(e,t,n)=>t in e?Sf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rf=(e,t)=>{for(var n in t||(t={}))Cf.call(t,n)&&If(e,n,t[n]);if(xf)for(var n of xf(t))Of.call(t,n)&&If(e,n,t[n]);return e},Df=(e,t)=>Ef(e,Af(t));class Pf extends J{constructor(e){super(e),this._results=new O.ReplaySubject(1),this._variableDependency=new pc(this,{statePaths:["transformations"],onReferencedVariableValueChanged:()=>this.reprocessTransformations()}),this.addActivationHandler((()=>this.activationHandler()))}activationHandler(){const e=this.getSourceData();return this._subs.add(e.subscribeToState((e=>this.transform(e.data)))),e.state.data&&this.transform(e.state.data),()=>{this._transformSub&&this._transformSub.unsubscribe()}}getSourceData(){if(this.state.$data){if(this.state.$data instanceof wf)throw new Error("SceneDataLayerSet can not be used as data provider for SceneDataTransformer.");return this.state.$data}if(!this.parent||!this.parent.parent)throw new Error("SceneDataTransformer must either have $data set on it or have a parent.parent with $data");return Gc.getData(this.parent.parent)}setContainerWidth(e){this.state.$data&&this.state.$data.setContainerWidth&&this.state.$data.setContainerWidth(e)}isDataReadyToDisplay(){const e=this.getSourceData();return!e.isDataReadyToDisplay||e.isDataReadyToDisplay()}reprocessTransformations(){this.transform(this.getSourceData().state.data,!0)}cancelQuery(){var e,t;null==(t=(e=this.getSourceData()).cancelQuery)||t.call(e)}getResultsStream(){return this._results}clone(e){const t=super.clone(e);return this._prevDataFromSource&&(t._prevDataFromSource=this._prevDataFromSource),t}haveAlreadyTransformedData(e){if(!this._prevDataFromSource)return!1;if(e===this._prevDataFromSource)return!0;const{series:t,annotations:n}=this._prevDataFromSource;return e.series===t&&e.annotations===n&&(this.state.data&&e.state!==this.state.data.state&&this.setState({data:Df(Rf({},this.state.data),{state:e.state})}),!0)}transform(e,t=!1){var n;if(0===this.state.transformations.length||!e)return this._prevDataFromSource=e,this.setState({data:e}),void(e&&this._results.next({origin:this,data:e}));if(!t&&this.haveAlreadyTransformedData(e))return;const r=this.state.transformations.filter((e=>!("options"in e)&&!("topic"in e)||null==e.topic||e.topic===c.DataTopic.Series)).map((e=>"operator"in e?e.operator:e)),o=this.state.transformations.filter((e=>("options"in e||"topic"in e)&&e.topic===c.DataTopic.Annotations)).map((e=>"operator"in e?e.operator:e));this._transformSub&&this._transformSub.unsubscribe();const i={interpolate:t=>{var n;return Gc.interpolate(this,t,null==(n=e.request)?void 0:n.scopedVars)}};let a=[(0,c.transformDataFrame)(r,e.series,i)];e.annotations&&e.annotations.length>0&&o.length>0&&a.push((0,c.transformDataFrame)(o,null!=(n=e.annotations)?n:[])),this._transformSub=(0,O.forkJoin)(a).pipe((0,O.map)((t=>{const n=t[0],r=t[1];return Df(Rf({},e),{series:n,annotations:null!=r?r:e.annotations})})),(0,O.catchError)((t=>{var n;console.error("Error transforming data: ",t);const r=(null==(n=this.getSourceData().state.data)?void 0:n.errors)||[],o=(0,u.toDataQueryError)(t);o.message=`Error transforming data: ${o.message}`;const i=Df(Rf({},e),{state:c.LoadingState.Error,errors:[...r,o]});return(0,O.of)(i)}))).subscribe((t=>{this.setState({data:t}),this._results.next({origin:this,data:t}),this._prevDataFromSource=e}))}}class Tf extends J{}function _f({variable:e,layout:t,showAlways:n,hideLabel:r}){return ee(e,{shouldActivateOrKeepAlive:!0}).hide!==c.VariableHide.hideVariable||n?"vertical"===t?s().createElement("div",{className:Mf,"data-testid":Ln.pages.Dashboard.SubMenu.submenuItem},s().createElement(kf,{variable:e,layout:t,hideLabel:r}),s().createElement(e.Component,{model:e})):s().createElement("div",{className:Bf,"data-testid":Ln.pages.Dashboard.SubMenu.submenuItem},s().createElement(kf,{variable:e,hideLabel:r}),s().createElement(e.Component,{model:e})):null}function kf({variable:e,layout:t,hideLabel:n}){var r;const{state:o}=e;if(e.state.hide===c.VariableHide.hideLabel||n)return null;const i=`var-${o.key}`,a=o.label||o.name;return s().createElement(vr,{htmlFor:i,isLoading:o.loading,onCancel:()=>{var t;return null==(t=e.onCancel)?void 0:t.call(e)},label:a,error:o.error,layout:t,description:null!=(r=o.description)?r:void 0})}Tf.Component=function({model:e}){const t=Gc.getVariables(e).useState();return s().createElement(s().Fragment,null,t.variables.map((t=>s().createElement(_f,{key:t.state.key,variable:t,layout:e.state.layout}))))};const Bf=(0,Nn.css)({display:"flex","> :nth-child(2)":(0,Nn.css)({borderTopLeftRadius:0,borderBottomLeftRadius:0})}),Mf=(0,Nn.css)({display:"flex",flexDirection:"column"});class Lf extends J{}Lf.Component=function({model:e}){const t=Gc.lookupVariable(e.state.variableName,e);return t?s().createElement(_f,{key:t.state.key,variable:t,layout:e.state.layout,showAlways:!0}):null};class Nf extends J{constructor(e){super(e),this._variablesThatHaveChanged=new Set,this._variablesToUpdate=new Set,this._updating=new Map,this._variableValueRecorder=new nn,this._variableDependency=new Ff(this._handleParentVariableUpdatesCompleted.bind(this)),this._onActivate=()=>{const e=Gc.getTimeRange(this);this._subs.add(this.subscribeToEvent(dt,(e=>this._handleVariableValueChanged(e.payload)))),this._subs.add(e.subscribeToState((()=>{this._refreshTimeRangeBasedVariables()}))),this._subs.add(this.subscribeToState(this._onStateChanged)),this._checkForVariablesThatChangedWhileInactive();for(const e of this.state.variables)this._variableNeedsUpdate(e)&&this._variablesToUpdate.add(e);return this._updateNextBatch(),this._onDeactivate},this._onDeactivate=()=>{var e;for(const t of this._updating.values())null==(e=t.subscription)||e.unsubscribe();for(const e of this.state.variables)this._variablesToUpdate.has(e)||this._updating.has(e)||this._variableValueRecorder.recordCurrentValue(e);this._variablesToUpdate.clear(),this._updating.clear()},this._onStateChanged=(e,t)=>{const n=this._variablesToUpdate.size;for(const n of t.variables)if(!e.variables.includes(n)){const e=this._updating.get(n);(null==e?void 0:e.subscription)&&e.subscription.unsubscribe(),this._updating.delete(n),this._variablesToUpdate.delete(n)}for(const n of e.variables)t.variables.includes(n)||this._variableNeedsUpdate(n)&&this._variablesToUpdate.add(n);0===n&&this._variablesToUpdate.size>0&&this._updateNextBatch()},this.addActivationHandler(this._onActivate)}getByName(e){return this.state.variables.find((t=>t.state.name===e))}_refreshTimeRangeBasedVariables(){for(const e of this.state.variables)"refresh"in e.state&&e.state.refresh===c.VariableRefresh.onTimeRangeChanged&&this._variablesToUpdate.add(e);this._updateNextBatch()}_checkForVariablesThatChangedWhileInactive(){if(this._variableValueRecorder.hasValues())for(const e of this.state.variables)this._variableValueRecorder.hasValueChanged(e)&&(jf(e,"Changed while in-active"),this._addDependentVariablesToUpdateQueue(e))}_variableNeedsUpdate(e){return!(e.isLazy||!e.validateAndUpdate||this._variableValueRecorder.hasRecordedValue(e)&&(jf(e,"Skipping updateAndValidate current value valid"),1))}_updateNextBatch(){for(const e of this._variablesToUpdate){if(!e.validateAndUpdate)throw new Error("Variable added to variablesToUpdate but does not have validateAndUpdate");if(this._updating.has(e))continue;if(Gc.hasVariableDependencyInLoadingState(e))continue;const t={variable:e};this._updating.set(e,t),jf(e,"updateAndValidate started"),t.subscription=e.validateAndUpdate().subscribe({next:()=>this._validateAndUpdateCompleted(e),complete:()=>this._validateAndUpdateCompleted(e),error:t=>this._handleVariableError(e,t)})}}_validateAndUpdateCompleted(e){var t;if(!this._updating.has(e))return;const n=this._updating.get(e);null==(t=null==n?void 0:n.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),jf(e,"updateAndValidate completed"),this._notifyDependentSceneObjects(e),this._updateNextBatch()}cancel(e){var t;const n=this._updating.get(e);null==(t=null==n?void 0:n.subscription)||t.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e)}_handleVariableError(e,t){var n;const r=this._updating.get(e);null==(n=null==r?void 0:r.subscription)||n.unsubscribe(),this._updating.delete(e),this._variablesToUpdate.delete(e),e.setState({loading:!1,error:t.message}),console.error("SceneVariableSet updateAndValidate error",t),jf(e,"updateAndValidate error",t),this._notifyDependentSceneObjects(e),this._updateNextBatch()}_handleVariableValueChanged(e){this._variablesThatHaveChanged.add(e),this._addDependentVariablesToUpdateQueue(e),this._updating.has(e)||(this._updateNextBatch(),this._notifyDependentSceneObjects(e))}_handleParentVariableUpdatesCompleted(e,t){t&&this._addDependentVariablesToUpdateQueue(e),this._variablesToUpdate.size>0&&0===this._updating.size&&this._updateNextBatch()}_addDependentVariablesToUpdateQueue(e){for(const t of this.state.variables)t.variableDependency&&t.variableDependency.hasDependencyOn(e.state.name)&&(jf(t,"Added to update queue, dependant variable value changed"),this._updating.has(t)&&t.onCancel&&t.onCancel(),this._variablesToUpdate.add(t))}_notifyDependentSceneObjects(e){this.parent&&(this._traverseSceneAndNotify(this.parent,e,this._variablesThatHaveChanged.has(e)),this._variablesThatHaveChanged.delete(e))}_traverseSceneAndNotify(e,t,n){if(this!==e&&e.isActive){if(e.state.$variables&&e.state.$variables!==this){const n=e.state.$variables.getByName(t.state.name);if(null==n?void 0:n.isAncestorLoading)t=n;else if(n)return}e.variableDependency&&e.variableDependency.variableUpdateCompleted(t,n),e.forEachChild((e=>this._traverseSceneAndNotify(e,t,n)))}}isVariableLoadingOrWaitingToUpdate(e){return!(!e.isAncestorLoading||!e.isAncestorLoading())||!(!this._variablesToUpdate.has(e)&&!this._updating.has(e))||Gc.hasVariableDependencyInLoadingState(e)}}function jf(e,t,n){n?me("SceneVariableSet",`Variable[${e.state.name}]: ${t}`,n):me("SceneVariableSet",`Variable[${e.state.name}]: ${t}`)}class Ff{constructor(e){this._variableUpdatesCompleted=e,this._emptySet=new Set}getNames(){return this._emptySet}hasDependencyOn(e){return!1}variableUpdateCompleted(e,t){this._variableUpdatesCompleted(e,t)}}var zf=Object.defineProperty,Vf=Object.getOwnPropertySymbols,$f=Object.prototype.hasOwnProperty,Uf=Object.prototype.propertyIsEnumerable,Wf=(e,t,n)=>t in e?zf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Hf extends Bt{constructor(e){super(((e,t)=>{for(var n in t||(t={}))$f.call(t,n)&&Wf(e,n,t[n]);if(Vf)for(var n of Vf(t))Uf.call(t,n)&&Wf(e,n,t[n]);return e})({type:"custom",query:"",value:"",text:"",options:[],name:""},e)),this._variableDependency=new pc(this,{statePaths:["query"]})}getValueOptions(e){var t;const n=(null!=(t=Gc.interpolate(this,this.state.query).match(/(?:\\,|[^,])+/g))?t:[]).map((e=>{var t;e=e.replace(/\\,/g,",");const n=null!=(t=/^(.+)\s:\s(.+)$/g.exec(e))?t:[];if(3===n.length){const[,e,t]=n;return{label:e.trim(),value:t.trim()}}return{label:e.trim(),value:e.trim()}}));return n.length||(this.skipNextValidation=!0),(0,O.of)(n)}}Hf.Component=({model:e})=>Jn(e);var Gf=Object.defineProperty,qf=Object.getOwnPropertySymbols,Yf=Object.prototype.hasOwnProperty,Xf=Object.prototype.propertyIsEnumerable,Qf=(e,t,n)=>t in e?Gf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Zf extends Bt{constructor(e){super(((e,t)=>{for(var n in t||(t={}))Yf.call(t,n)&&Qf(e,n,t[n]);if(qf)for(var n of qf(t))Xf.call(t,n)&&Qf(e,n,t[n]);return e})({type:"datasource",value:"",text:"",options:[],name:"",regex:"",pluginId:""},e)),this._variableDependency=new pc(this,{statePaths:["regex"]})}getValueOptions(e){if(!this.state.pluginId)return(0,O.of)([]);const t=(0,u.getDataSourceSrv)().getList({metrics:!0,variables:!1,pluginId:this.state.pluginId});let n;if(this.state.regex){const e=Gc.interpolate(this,this.state.regex,void 0,"regex");n=(0,c.stringToJsRegex)(e)}const r=[];for(let e=0;e<t.length;e++){const o=t[e];Kf(o,n)&&r.push({label:o.name,value:o.uid}),this.state.defaultOptionEnabled&&Jf(o,n)&&r.push({label:"default",value:"default"})}return 0===r.length?this.setState({error:"No data sources found"}):this.state.error&&this.setState({error:null}),(0,O.of)(r)}}function Kf(e,t){return!t||t.exec(e.name)}function Jf(e,t){return!!e.isDefault&&(!t||t.exec("default"))}function eh(e,t){const n=["A","B","C","D","E","F","G","H"],r=[];if(t>5)return[];for(const o of n){const n=`${e}${o}`;r.push({name:n,children:eh(n,t+1)})}return r}function th(e,t,n){if(n>=t.length)return e;if("*"===t[n])return e;const r=t[n];let o=[],i=[r];r.startsWith("{")&&(i=r.replace(/\{|\}/g,"").split(","));for(const r of e)for(const e of i)if(-1!==e.indexOf("*")){const i=e.replace("*","");new RegExp(`^${i}.*`,"gi").test(r.name)&&(o=o.concat(th([r],t,n+1)))}else r.name===e&&(o=o.concat(th(r.children,t,n+1)));return o}function nh(e){return 0===e.indexOf("value")?[{name:e,children:[]}]:th(eh("",0),e.split("."),0)}Zf.Component=({model:e})=>Jn(e);var rh=Object.defineProperty,oh=Object.getOwnPropertySymbols,ih=Object.prototype.hasOwnProperty,ah=Object.prototype.propertyIsEnumerable,sh=(e,t,n)=>t in e?rh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class lh extends Bt{constructor(e,t=!1){super(((e,t)=>{for(var n in t||(t={}))ih.call(t,n)&&sh(e,n,t[n]);if(oh)for(var n of oh(t))ah.call(t,n)&&sh(e,n,t[n]);return e})({type:"custom",name:"Test",value:"Value",text:"Text",query:"Query",options:[],refresh:c.VariableRefresh.onDashboardLoad,updateOptions:!0},e)),this.completeUpdate=new O.Subject,this.isGettingValues=!0,this.getValueOptionsCount=0,this.isLazy=!1,this._variableDependency=new pc(this,{statePaths:["query"]}),this.isLazy=t}getValueOptions(e){const{delayMs:t}=this.state;this.getValueOptionsCount+=1;const n=Gc.getQueryController(this);return new O.Observable((e=>{const r={type:"variable",origin:this,cancel:()=>e.complete()};if(n&&n.queryStarted(r),this.setState({loading:!0}),this.state.throwError)throw new Error(this.state.throwError);const o=Gc.interpolate(this,this.state.query),i=this.getOptions(o),a=this.completeUpdate.subscribe({next:()=>{const t={issuedQuery:o,loading:!1};this.state.updateOptions&&(t.options=i),this.setState(t),e.next(i),e.complete()}});let s;return t?s=window.setTimeout((()=>this.signalUpdateCompleted()),t):0===t&&this.signalUpdateCompleted(),this.isGettingValues=!0,()=>{a.unsubscribe(),window.clearTimeout(s),this.isGettingValues=!1,this.state.loading&&this.setState({loading:!1}),n&&n.queryCompleted(r)}}))}cancel(){const e=ce(this,(e=>e instanceof Nf?e:void 0));null==e||e.cancel(this)}getOptions(e){return this.state.optionsToReturn?this.state.optionsToReturn:nh(e).map((e=>({label:e.name,value:e.name})))}signalUpdateCompleted(){this.completeUpdate.next(1)}}function ch({model:e}){const{value:t,key:n,loading:r}=e.useState(),o=(0,i.useCallback)((t=>{e.setValue(t.currentTarget.value)}),[e]),a=(0,i.useCallback)((t=>{"Enter"===t.key&&e.setValue(t.currentTarget.value)}),[e]);return s().createElement(In.AutoSizeInput,{id:n,placeholder:"Enter value",minWidth:15,maxWidth:30,value:t,loading:r,onBlur:o,onKeyDown:a})}lh.Component=({model:e})=>Jn(e);var uh=Object.defineProperty,dh=Object.getOwnPropertySymbols,ph=Object.prototype.hasOwnProperty,fh=Object.prototype.propertyIsEnumerable,hh=(e,t,n)=>t in e?uh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class mh extends J{constructor(e){super(((e,t)=>{for(var n in t||(t={}))ph.call(t,n)&&hh(e,n,t[n]);if(dh)for(var n of dh(t))fh.call(t,n)&&hh(e,n,t[n]);return e})({type:"textbox",value:"",name:""},e)),this._urlSync=new Xe(this,{keys:()=>[this.getKey()]})}getValue(){return this.state.value}setValue(e){e!==this.state.value&&(this.setState({value:e}),this.publishEvent(new dt(this),!0))}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t=e[this.getKey()];"string"==typeof t&&this.setValue(t)}}mh.Component=({model:e})=>s().createElement(ch,{model:e});var gh=Object.defineProperty,bh=Object.defineProperties,vh=Object.getOwnPropertyDescriptors,yh=Object.getOwnPropertySymbols,wh=Object.prototype.hasOwnProperty,Sh=Object.prototype.propertyIsEnumerable,Eh=(e,t,n)=>t in e?gh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Ah extends J{constructor(e){var t;super((t=((e,t)=>{for(var n in t||(t={}))wh.call(t,n)&&Eh(e,n,t[n]);if(yh)for(var n of yh(t))Sh.call(t,n)&&Eh(e,n,t[n]);return e})({type:"system",value:"",text:"",name:""},e),bh(t,vh({skipUrlSync:!0}))))}getValue(){return this.state.value}getValueText(){return this.state.text.toString()}isAncestorLoading(){var e,t;const n=null==(t=null==(e=this.parent)?void 0:e.parent)?void 0:t.parent;if(!n)throw new Error("LocalValueVariable requires a parent SceneVariableSet that has an ancestor SceneVariableSet");const r=Gc.getVariables(n),o=Gc.lookupVariable(this.state.name,n);return!(!r||!o)&&r.isVariableLoadingOrWaitingToUpdate(o)}}var xh=Object.defineProperty,Ch=Object.getOwnPropertySymbols,Oh=Object.prototype.hasOwnProperty,Ih=Object.prototype.propertyIsEnumerable,Rh=(e,t,n)=>t in e?xh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Dh extends J{constructor(e){super(((e,t)=>{for(var n in t||(t={}))Oh.call(t,n)&&Rh(e,n,t[n]);if(Ch)for(var n of Ch(t))Ih.call(t,n)&&Rh(e,n,t[n]);return e})({type:"interval",value:"",intervals:["1m","10m","30m","1h","6h","12h","1d","7d","14d","30d"],name:"",autoStepCount:30,autoMinInterval:"10s",autoEnabled:!1,refresh:eu.onTimeRangeChanged},e)),this._onChange=e=>{this.setState({value:e.value}),this.publishEvent(new dt(this),!0)},this._urlSync=new Xe(this,{keys:()=>[this.getKey()]})}getKey(){return`var-${this.state.name}`}getUrlState(){return{[this.getKey()]:this.state.value}}updateFromUrl(e){const t={},n=e[this.getKey()];"string"==typeof n&&(n.startsWith("$__auto_interval_")?t.value=It:t.value=n),this.setState(t)}getOptionsForSelect(){const{value:e,intervals:t,autoEnabled:n}=this.state;let r=t.map((e=>({value:e,label:e})));return n&&(r=[{value:It,label:"Auto"},...r]),e&&!r.some((t=>t.value===e))&&r.push({value:e,label:e}),r}getValue(){const{value:e,autoStepCount:t,autoMinInterval:n}=this.state;return e===It?this.getAutoRefreshInteval(t,n):e}getAutoRefreshInteval(e,t){const n=Gc.getTimeRange(this).state.value;return c.rangeUtil.calculateInterval(n,e,t).interval}validateAndUpdate(){const{value:e,intervals:t}=this.state;let n=!1;if(e===It)n=!0;else if(!e&&t.length>0){const e=t[0];this.setState({value:e}),n=!0}return n&&this.publishEvent(new dt(this),!0),(0,O.of)({})}}Dh.Component=({model:e})=>{const{key:t,value:n}=e.useState();return s().createElement(In.Select,{id:t,placeholder:"Select value",width:"auto",value:n,tabSelectsValue:!1,options:e.getOptionsForSelect(),onChange:e._onChange})};var Ph,Th,_h=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},kh=(e,t,n)=>(_h(e,t,"read from private field"),n?n.call(e):t.get(e)),Bh=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Mh=(e,t,n,r)=>(_h(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);class Lh extends c.BusEventWithPayload{}Lh.type="new-scene-object-added";class Nh{constructor(e={},t=u.locationService){this._urlKeyMapper=new qc,this._options=e,this._locationService=t,this._paramsCache=new jh(t)}initSync(e){var t;if(this._subs&&(me("UrlSyncManager","Unregister previous scene state subscription",null==(t=this._sceneRoot)?void 0:t.state.key),this._subs.unsubscribe()),me("UrlSyncManager","init",e.state.key),this._sceneRoot=e,this._subs=new O.Subscription,this._subs.add(e.subscribeToEvent($,(e=>{this.handleSceneObjectStateChanged(e.payload.changedObject)}))),this._subs.add(e.subscribeToEvent(Lh,(e=>{this.handleNewObject(e.payload)}))),this._urlKeyMapper.clear(),this._lastLocation=this._locationService.getLocation(),this.handleNewObject(this._sceneRoot),this._options.updateUrlOnInit){const t=Xc(e);(function(e,t){for(let n in e)if(!Kc(t.getAll(n),e[n]))return!0;return!1})(t,this._paramsCache.getParams())&&this._locationService.partial(t,!0)}}cleanUp(e){this._sceneRoot===e&&(me("UrlSyncManager","Clean up"),this._subs&&(this._subs.unsubscribe(),this._subs=void 0,me("UrlSyncManager","Root deactived, unsub to state","same key",this._sceneRoot.state.key===e.state.key)),this._sceneRoot=void 0,this._lastLocation=void 0)}handleNewLocation(e){this._sceneRoot&&this._lastLocation!==e&&(me("UrlSyncManager","handleNewLocation"),this._lastLocation=e,Qc(this._sceneRoot,this._paramsCache.getParams(),this._urlKeyMapper))}handleNewObject(e){this._sceneRoot&&Qc(e,this._paramsCache.getParams(),this._urlKeyMapper)}handleSceneObjectStateChanged(e){var t,n;if(!e.urlSync)return;const r=e.urlSync.getUrlState(),o=this._locationService.getSearch(),i={};for(const[t,n]of Object.entries(r)){const r=this._urlKeyMapper.getUniqueKey(t,e);Kc(o.getAll(r),n)||(i[r]=n)}if(Object.keys(i).length>0){const o=!0!==(null==(n=(t=e.urlSync).shouldCreateHistoryStep)?void 0:n.call(t,r));me("UrlSyncManager","onStateChange updating URL"),this._locationService.partial(i,o),this._lastLocation=this._locationService.getLocation()}}getUrlState(e){return Xc(e)}}class jh{constructor(e){this.locationService=e,Bh(this,Ph,void 0),Bh(this,Th,void 0)}getParams(){const e=this.locationService.getLocation();return kh(this,Th)===e||(Mh(this,Th,e),Mh(this,Ph,new URLSearchParams(e.search))),kh(this,Ph)}}function Fh(e,t={}){const n=(0,l.useLocation)(),r=kt(),[o,a]=(0,i.useState)(!1),s=function(e,t){return(0,i.useMemo)((()=>new Nh({updateUrlOnInit:e.updateUrlOnInit,createBrowserHistorySteps:e.createBrowserHistorySteps},t)),[e.updateUrlOnInit,e.createBrowserHistorySteps,t])}(t,r);return(0,i.useEffect)((()=>(s.initSync(e),a(!0),()=>s.cleanUp(e))),[e,s]),(0,i.useEffect)((()=>{const e=r.getLocation(),t=e!==n?e:n;e!==n&&me("useUrlSync","latestLocation different from location"),s.handleNewLocation(t)}),[e,s,n,r]),o}function zh({children:e,scene:t,updateUrlOnInit:n,createBrowserHistorySteps:r}){return Fh(t,{updateUrlOnInit:n,createBrowserHistorySteps:r})?e:null}Ph=new WeakMap,Th=new WeakMap;class Vh extends J{constructor(e){super(e),this.addActivationHandler((()=>{const e=function(e){const t=window.__grafanaSceneContext;return me("setWindowGrafanaScene","set window.__grafanaSceneContext",e),window.__grafanaSceneContext=e,()=>{window.__grafanaSceneContext===e&&(me("setWindowGrafanaScene","restore window.__grafanaSceneContext",t),window.__grafanaSceneContext=t)}}(this);return()=>{e()}}))}}Vh.Component=function({model:e}){const{body:t,controls:n}=e.useState(),r=(0,In.useStyles2)($h);return s().createElement("div",{className:r.container},n&&s().createElement("div",{className:r.controls},n.map((e=>s().createElement(e.Component,{key:e.state.key,model:e})))),s().createElement("div",{className:r.body},s().createElement(t.Component,{model:t})))};const $h=e=>({container:(0,Nn.css)({flexGrow:1,display:"flex",gap:e.spacing(2),minHeight:"100%",flexDirection:"column"}),body:(0,Nn.css)({flexGrow:1,display:"flex",gap:e.spacing(1)}),controls:(0,Nn.css)({display:"flex",gap:e.spacing(2),alignItems:"flex-end",flexWrap:"wrap"})});class Uh extends J{addItem(e){this.setState({items:this.state.items?[...this.state.items,e]:[e]})}setItems(e){this.setState({items:e})}}async function Wh(e,t,n,r){var o,i,a,s;const l=null==(o=e.request)?void 0:o.targets;if(!l)return"";const{from:c,to:d}=n,p=null==(i=e.request)?void 0:i.filters,f={__sceneObject:ir(t)},h=(await Promise.allSettled(l.map((async e=>{var t;const n=await(0,u.getDataSourceSrv)().get(e.datasource);return(null==(t=n.interpolateVariablesInQueries)?void 0:t.call(n,[e],null!=f?f:{},p)[0])||e})))).filter((e=>"fulfilled"===e.status)).map((e=>e.value)).map((e=>{var t;return null!=(t=null==r?void 0:r(e))?t:e})),m=null!=h?h:[],g=null==(s=null==(a=m.find((e=>{var t;return!!(null==(t=e.datasource)?void 0:t.uid)})))?void 0:a.datasource)?void 0:s.uid;return(null==m?void 0:m.length)&&g&&c&&d?`/explore?left=${encodeURIComponent(JSON.stringify({datasource:g,queries:m,range:{from:c,to:d}}))}`:""}Uh.Component=function({model:e}){const{items:t=[]}=e.useState(),n=s().useRef(null);(0,i.useEffect)((()=>{n.current&&n.current.focus()}),[]);const r=e=>e.map((e=>{switch(e.type){case"divider":return s().createElement(In.Menu.Divider,{key:e.text});case"group":return s().createElement(In.Menu.Group,{key:e.text,label:e.text},e.subMenu?r(e.subMenu):void 0);default:return s().createElement(In.Menu.Item,{key:e.text,label:e.text,icon:e.iconClassName,childItems:e.subMenu?r(e.subMenu):void 0,url:e.href,onClick:e.onClick,shortcut:e.shortcut,testId:Ln.components.Panels.Panel.menuItems(e.text)})}}));return s().createElement(In.Menu,{ref:n},r(t))};class Hh extends J{constructor(e={}){super({options:e})}}Hh.Component=function({model:e}){const{options:t}=e.useState(),{data:n}=Gc.getData(e).useState(),{from:r,to:o}=Gc.getTimeRange(e).useState(),{value:a}=function(a,s){void 0===s&&(s=[]);var l=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var r,o,a=(0,i.useRef)(0),s=(r=(0,i.useRef)(!1),o=(0,i.useCallback)((function(){return r.current}),[]),(0,i.useEffect)((function(){return r.current=!0,function(){r.current=!1}}),[]),o),l=(0,i.useState)(n),c=l[0],u=l[1],d=(0,i.useCallback)((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=++a.current;return c.loading||u((function(e){return Rd(Rd({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return s()&&r===a.current&&u({value:e,loading:!1}),e}),(function(e){return s()&&r===a.current&&u({error:e,loading:!1}),e}))}),t);return[c,d]}((async()=>n?Wh(n,e,{from:r,to:o},t.transform):""),s,{loading:!0}),c=l[0],u=l[1];return(0,i.useEffect)((function(){u()}),[u]),c}(0,[n,e,r,o]),l=(0,u.useReturnToPrevious)();return a?s().createElement(In.LinkButton,{key:"explore",icon:"compass",size:"sm",variant:"secondary",href:a,onClick:()=>{var e;t.returnToPrevious&&l(t.returnToPrevious.title,t.returnToPrevious.href),null==(e=t.onClick)||e.call(t)}},"Explore"):null};class Gh extends J{}function qh(e){return e instanceof Hm}Gh.Component=function({model:e}){const{body:t}=e.useState(),n=e.parent;if(n&&!(n instanceof Mm)&&!qh(n))throw new Error("SceneGridItem must be a child of SceneGridLayout or SceneGridRow");return t?s().createElement(t.Component,{model:t}):null};var Yh=n(2548),Xh=n.n(Yh);var Qh=Object.defineProperty,Zh=Object.getOwnPropertySymbols,Kh=Object.prototype.hasOwnProperty,Jh=Object.prototype.propertyIsEnumerable,em=(e,t,n)=>t in e?Qh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function tm(){const e=(0,i.useRef)(void 0);return null!=e.current||(e.current=(0,fe.uniqueId)()),e.current}const nm=s().forwardRef(((e,t)=>{var n=e,{children:r,onLoad:o,onChange:a,className:l}=n,c=((e,t)=>{var n={};for(var r in e)Kh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Zh)for(var r of Zh(e))t.indexOf(r)<0&&Jh.call(e,r)&&(n[r]=e[r]);return n})(n,["children","onLoad","onChange","className"]);const u=tm(),{hideEmpty:d}=(0,In.useStyles2)(rm),[p,f]=(0,i.useState)(!1),[h,m]=(0,i.useState)(!1),g=(0,i.useRef)(null);return(0,i.useImperativeHandle)(t,(()=>g.current)),b=()=>{nm.addCallback(u,(e=>{!p&&e.isIntersecting&&(f(!0),null==o||o()),m(e.isIntersecting),null==a||a(e.isIntersecting)}));const e=g.current;return e&&nm.observer.observe(e),()=>{e&&nm.observer.unobserve(e),delete nm.callbacks[u],0===Object.keys(nm.callbacks).length&&nm.observer.disconnect()}},(0,i.useEffect)(b,[]),s().createElement("div",((e,t)=>{for(var n in t||(t={}))Kh.call(t,n)&&em(e,n,t[n]);if(Zh)for(var n of Zh(t))Jh.call(t,n)&&em(e,n,t[n]);return e})({id:u,ref:g,className:`${d} ${l}`},c),!p&&"",p&&("function"==typeof r?r({isInView:h}):r));var b}));function rm(){return{hideEmpty:(0,Nn.css)({"&:empty":{display:"none"}})}}nm.displayName="LazyLoader",nm.callbacks={},nm.addCallback=(e,t)=>nm.callbacks[e]=t,nm.observer=new IntersectionObserver((e=>{for(const t of e)"function"==typeof nm.callbacks[t.target.id]&&nm.callbacks[t.target.id](t)}),{rootMargin:"100px"});var om=Object.defineProperty,im=Object.defineProperties,am=Object.getOwnPropertyDescriptors,sm=Object.getOwnPropertySymbols,lm=Object.prototype.hasOwnProperty,cm=Object.prototype.propertyIsEnumerable,um=(e,t,n)=>t in e?om(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dm=(e,t)=>{for(var n in t||(t={}))lm.call(t,n)&&um(e,n,t[n]);if(sm)for(var n of sm(t))cm.call(t,n)&&um(e,n,t[n]);return e},pm=(e,t)=>im(e,am(t)),fm=(e,t)=>{var n={};for(var r in e)lm.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&sm)for(var r of sm(e))t.indexOf(r)<0&&cm.call(e,r)&&(n[r]=e[r]);return n};const hm=s().forwardRef(((e,t)=>{var n;const r=e,{grid:o,layoutItem:i,index:a,totalCount:l,isLazy:c,style:u,onLoad:d,onChange:p,children:f}=r,h=fm(r,["grid","layoutItem","index","totalCount","isLazy","style","onLoad","onChange","children"]),m=o.getSceneLayoutChild(i.i),g=null==(n=m.getClassName)?void 0:n.call(m),b=s().createElement(m.Component,{model:m,key:m.state.key});return c?s().createElement(nm,pm(dm({},h),{key:m.state.key,"data-griditem-key":m.state.key,className:(0,Nn.cx)(g,e.className),style:u,ref:t}),b,f):s().createElement("div",pm(dm({},h),{ref:t,key:m.state.key,"data-griditem-key":m.state.key,className:(0,Nn.cx)(g,e.className),style:u}),b,f)}));function mm(e,t,n){e.current?t?e.current.classList.add("react-grid-layout--enable-move-animations"):e.current.classList.remove("react-grid-layout--enable-move-animations"):n||setTimeout((()=>mm(e,t,!0)),50)}hm.displayName="GridItemWrapper";const gm=s().forwardRef(((e,t)=>{var n=fm(e,["handleAxis"]);const r=(0,In.useStyles2)(bm);return s().createElement("div",pm(dm({ref:t},n),{className:`${r} scene-resize-handle`}),s().createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M21 15L15 21M21 8L8 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))}));function bm(e){return(0,Nn.css)({position:"absolute",bottom:0,right:0,zIndex:999,padding:e.spacing(1.5,0,0,1.5),color:e.colors.border.strong,cursor:"se-resize","&:hover":{color:e.colors.text.link},svg:{display:"block"},".react-resizable-hide &":{display:"none"}})}gm.displayName="ResizeHandle";var vm=Object.defineProperty,ym=Object.defineProperties,wm=Object.getOwnPropertyDescriptors,Sm=Object.getOwnPropertySymbols,Em=Object.prototype.hasOwnProperty,Am=Object.prototype.propertyIsEnumerable,xm=(e,t,n)=>t in e?vm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Cm=Object.defineProperty,Om=Object.defineProperties,Im=Object.getOwnPropertyDescriptors,Rm=Object.getOwnPropertySymbols,Dm=Object.prototype.hasOwnProperty,Pm=Object.prototype.propertyIsEnumerable,Tm=(e,t,n)=>t in e?Cm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_m=(e,t)=>{for(var n in t||(t={}))Dm.call(t,n)&&Tm(e,n,t[n]);if(Rm)for(var n of Rm(t))Pm.call(t,n)&&Tm(e,n,t[n]);return e},km=(e,t)=>Om(e,Im(t));const Bm=class extends J{constructor(e){super(km(_m({},e),{children:Lm(e.children)})),this._skipOnLayoutChange=!1,this._oldLayout=[],this._loadOldLayout=!1,this.onLayoutChange=e=>{if(this._skipOnLayoutChange)this._skipOnLayoutChange=!1;else{this._loadOldLayout&&(e=[...this._oldLayout],this._loadOldLayout=!1);for(const r of e){const e=this.getSceneLayoutChild(r.i),o={x:r.x,y:r.y,width:r.w,height:r.h};n=o,((t=e.state).x!==n.x||t.y!==n.y||t.width!==n.width||t.height!==n.height)&&e.setState(_m({},o))}var t,n;this.setState({children:Lm(this.state.children)})}},this.onResizeStop=(e,t,n)=>{this.getSceneLayoutChild(n.i).setState({width:n.w,height:n.h})},this.onDragStart=e=>{this._oldLayout=[...e]},this.onDragStop=(e,t,n)=>{const r=this.getSceneLayoutChild(n.i);e=Nm(e);for(let t=0;t<e.length;t++){const n=e[t],r=this.getSceneLayoutChild(n.i),o=r.state;(null==o?void 0:o.x)===n.x&&(null==o?void 0:o.y)===n.y||r.setState({x:n.x,y:n.y})}const o=e.findIndex((e=>e.i===n.i));let i=this.findGridItemSceneParent(e,o-1),a=this.state.children;r instanceof Hm&&i instanceof Hm&&(this.isRowDropValid(e,n,o)||(this._loadOldLayout=!0),i=this),i!==r.parent&&(a=this.moveChildTo(r,i)),this.setState({children:Lm(a)}),this._skipOnLayoutChange=!0}}isDraggable(){var e;return null!=(e=this.state.isDraggable)&&e}getDragClass(){return`grid-drag-handle-${this.state.key}`}getDragClassCancel(){return"grid-drag-cancel"}toggleRow(e){var t,n;if(!e.state.isCollapsed)return e.setState({isCollapsed:!0}),void this.setState({});const r=e.state.children;if(0===r.length)return e.setState({isCollapsed:!1}),void this.setState({});const o=e.state.y,i=(null!=(t=r[0].state.y)?t:o)-(o+1);let a=o;for(const e of r){const t=_m({},e.state);t.y=null!=(n=t.y)?n:o,t.y-=i,t.y!==e.state.y&&e.setState(t),a=Math.max(a,Number(t.y)+Number(t.height))}const s=a-o-1;for(const t of this.state.children)if(t.state.y>o&&this.pushChildDown(t,s),qh(t)&&t!==e)for(const e of t.state.children)e.state.y>o&&this.pushChildDown(e,s);e.setState({isCollapsed:!1}),this.setState({})}ignoreLayoutChange(e){this._skipOnLayoutChange=e}getSceneLayoutChild(e){for(const t of this.state.children){if(t.state.key===e)return t;if(t instanceof Hm)for(const n of t.state.children)if(n.state.key===e)return n}throw new Error("Scene layout child not found for GridItem")}pushChildDown(e,t){e.setState({y:e.state.y+t})}findGridItemSceneParent(e,t){for(let n=t;n>=0;n--){const t=e[n],r=this.getSceneLayoutChild(t.i);if(r instanceof Hm)return r.state.isCollapsed?this:r}return this}isRowDropValid(e,t,n){if(e[e.length-1].i===t.i)return!0;const r=this.getSceneLayoutChild(e[n+1].i);return r instanceof Hm||r.parent instanceof Bm}moveChildTo(e,t){const n=e.parent;let r=this.state.children;const o=e.clone({key:e.state.key});if(n instanceof Hm){const i=n.clone();if(i.setState({children:i.state.children.filter((t=>t.state.key!==e.state.key))}),r=r.map((e=>e===n?i:e)),t instanceof Hm){const e=t.clone();e.setState({children:[...e.state.children,o]}),r=r.map((n=>n===t?e:n))}else r=[...r,o]}else if(!(t instanceof Bm)){r=r.filter((t=>t.state.key!==e.state.key));const n=t.clone();n.setState({children:[...n.state.children,o]}),r=r.map((e=>e===t?n:e))}return r}toGridCell(e){var t,n;const r=e.state;let o=null!=(t=r.x)?t:0,i=null!=(n=r.y)?n:0;const a=Number.isInteger(Number(r.width))?Number(r.width):4,s=Number.isInteger(Number(r.height))?Number(r.height):4;let l=e.state.isDraggable,c=e.state.isResizable;return e instanceof Hm&&(l=!!e.state.isCollapsed,c=!1),{i:e.state.key,x:o,y:i,h:s,w:a,isResizable:c,isDraggable:l}}buildGridLayout(e,t){let n=[];for(const e of this.state.children)if(n.push(this.toGridCell(e)),e instanceof Hm&&!e.state.isCollapsed)for(const t of e.state.children)n.push(this.toGridCell(t));return n=Nm(n),this.state.UNSAFE_fitPanels&&(n=function(e,t){const n=t-32,r=Math.max(...e.map((e=>e.h+e.y)))/Math.floor(n/38);return e.map((e=>{return t=((e,t)=>{for(var n in t||(t={}))Em.call(t,n)&&xm(e,n,t[n]);if(Sm)for(var n of Sm(t))Am.call(t,n)&&xm(e,n,t[n]);return e})({},e),n={y:Math.round(e.y/r)||0,h:Math.round(e.h/r)||1},ym(t,wm(n));var t,n}))}(n,t)),e<768?(this._skipOnLayoutChange=!0,n.map((e=>km(_m({},e),{w:24})))):(this._skipOnLayoutChange=!1,n)}};let Mm=Bm;function Lm(e){return e.forEach((e=>{e instanceof Hm&&e.setState({children:Lm(e.state.children)})})),[...e].sort(((e,t)=>e.state.y-t.state.y||e.state.x-t.state.x))}function Nm(e){return[...e].sort(((e,t)=>e.y-t.y||e.x-t.x))}Mm.Component=function({model:e}){const{children:t,isLazy:n,isDraggable:r,isResizable:o}=e.useState(),[a,{width:l,height:c}]=mu(),u=(0,i.useRef)(null);return(0,i.useEffect)((()=>{mm(u,!!r)}),[r]),function(e){if(e.some((e=>void 0===e.state.height||void 0===e.state.width||void 0===e.state.x||void 0===e.state.y)))throw new Error("All children must have a size specified")}(t),s().createElement("div",{ref:a,style:{flex:"1 1 auto",position:"relative",zIndex:1,width:"100%"}},((t,i)=>{if(!t||!i)return null;const a=e.buildGridLayout(t,i);return s().createElement("div",{ref:u,style:{width:`${t}px`,height:"100%"},className:"react-grid-layout"},s().createElement(Xh(),{width:t,isDraggable:r&&t>768,isResizable:null!=o&&o,containerPadding:[0,0],useCSSTransforms:!0,margin:[8,8],cols:24,rowHeight:30,draggableHandle:`.grid-drag-handle-${e.state.key}`,draggableCancel:".grid-drag-cancel",layout:a,onDragStart:e.onDragStart,onDragStop:e.onDragStop,onResizeStop:e.onResizeStop,onLayoutChange:e.onLayoutChange,isBounded:!1,resizeHandle:s().createElement(gm,null)},a.map(((t,r)=>s().createElement(hm,{key:t.i,grid:e,layoutItem:t,index:r,isLazy:n,totalCount:a.length})))))})(l,c))};var jm=Object.defineProperty,Fm=Object.defineProperties,zm=Object.getOwnPropertyDescriptors,Vm=Object.getOwnPropertySymbols,$m=Object.prototype.hasOwnProperty,Um=Object.prototype.propertyIsEnumerable,Wm=(e,t,n)=>t in e?jm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Hm extends J{constructor(e){var t;super((t=((e,t)=>{for(var n in t||(t={}))$m.call(t,n)&&Wm(e,n,t[n]);if(Vm)for(var n of Vm(t))Um.call(t,n)&&Wm(e,n,t[n]);return e})({children:e.children||[],isCollapsible:e.isCollapsible||!0,title:e.title||""},e),Fm(t,zm({x:0,height:1,width:24})))),this._variableDependency=new pc(this,{statePaths:["title"],handleTimeMacros:!0}),this.onCollapseToggle=()=>{this.state.isCollapsible&&this.getGridLayout().toggleRow(this)}}getGridLayout(){const e=this.parent;if(!(e&&e instanceof Mm))throw new Error("SceneGridRow must be a child of SceneGridLayout");return e}getUrlState(){return{rowc:this.state.isCollapsed?"1":"0"}}updateFromUrl(e){null!=e.rowc&&e.rowc!==this.getUrlState().rowc&&this.onCollapseToggle()}}Hm.Component=function({model:e}){const t=(0,In.useStyles2)(Gm),{isCollapsible:n,isCollapsed:r,title:o,actions:i,children:a}=e.useState(),l=e.getGridLayout(),c=l.getDragClass(),u=l.isDraggable(),d=a?a.length:0,p=1===d?"panel":"panels";return s().createElement("div",{className:(0,Nn.cx)(t.row,r&&t.rowCollapsed)},s().createElement("div",{className:t.rowTitleAndActionsGroup},s().createElement("button",{onClick:e.onCollapseToggle,className:t.rowTitleButton,"aria-label":r?"Expand row":"Collapse row","data-testid":Ln.components.DashboardRow.title(Gc.interpolate(e,o,void 0,"text"))},n&&s().createElement(In.Icon,{name:r?"angle-right":"angle-down"}),s().createElement("span",{className:t.rowTitle,role:"heading"},Gc.interpolate(e,o,void 0,"text"))),s().createElement("span",{className:(0,Nn.cx)(t.panelCount,r&&t.panelCountCollapsed)},"(",d," ",p,")"),i&&s().createElement("div",{className:t.rowActions},s().createElement(i.Component,{model:i}))),u&&r&&s().createElement("div",{className:(0,Nn.cx)(t.dragHandle,c)},s().createElement(In.Icon,{name:"draggabledots"})))};const Gm=e=>({row:(0,Nn.css)({width:"100%",height:"30px",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowTitleButton:(0,Nn.css)({display:"flex",alignItems:"center",cursor:"pointer",background:"transparent",border:"none",minWidth:0,gap:e.spacing(1)}),rowCollapsed:(0,Nn.css)({borderBottom:`1px solid ${e.colors.border.weak}`}),rowTitle:(0,Nn.css)({fontSize:e.typography.h5.fontSize,fontWeight:e.typography.fontWeightMedium,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",flexGrow:1,minWidth:0}),collapsedInfo:(0,Nn.css)({fontSize:e.typography.bodySmall.fontSize,color:e.colors.text.secondary,display:"flex",alignItems:"center",flexGrow:1}),rowTitleAndActionsGroup:(0,Nn.css)({display:"flex",minWidth:0,"&:hover, &:focus-within":{"& > div":{opacity:1}}}),rowActions:(0,Nn.css)({display:"flex",whiteSpace:"nowrap",opacity:0,transition:"200ms opacity ease-in 200ms","&:hover, &:focus-within":{opacity:1}}),dragHandle:(0,Nn.css)({display:"flex",padding:e.spacing(0,1),alignItems:"center",justifyContent:"flex-end",cursor:"move",color:e.colors.text.secondary,"&:hover":{color:e.colors.text.primary}}),panelCount:(0,Nn.css)({whiteSpace:"nowrap",paddingLeft:e.spacing(2),color:e.colors.text.secondary,fontStyle:"italic",fontSize:e.typography.size.sm,fontWeight:"normal",display:"none",lineHeight:"30px"}),panelCountCollapsed:(0,Nn.css)({display:"inline-block"})});class qm extends J{constructor(){super(...arguments),this.onToggle=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onRemove=()=>{const e=this.parent;"body"in e.state&&e.setState({body:void 0})}}}qm.Component=function({model:e}){const{title:t,isCollapsed:n,canCollapse:r,canRemove:o,body:i,controls:a}=e.useState(),l=(0,In.useStyles2)(Gm),c=(0,In.useStyles2)(Ym),u=(null!=a?a:[]).map((e=>s().createElement(e.Component,{key:e.state.key,model:e})));return o&&u.push(s().createElement(In.ToolbarButton,{icon:"times",variant:"default",onClick:e.onRemove,key:"remove-button","aria-label":"Remove scene"})),s().createElement("div",{className:c.wrapper},s().createElement("div",{className:(0,Nn.cx)(c.row,n&&c.rowCollapsed)},s().createElement("button",{onClick:e.onToggle,className:l.rowTitleButton,"aria-label":n?"Expand scene":"Collapse scene"},r&&s().createElement(In.Icon,{name:n?"angle-right":"angle-down"}),s().createElement("span",{className:l.rowTitle,role:"heading"},Gc.interpolate(e,t,void 0,"text"))),s().createElement("div",{className:c.actions},u)),!n&&s().createElement(i.Component,{model:i}))};const Ym=e=>({wrapper:(0,Nn.css)({display:"flex",flexDirection:"column",flexGrow:1,gap:e.spacing(1)}),row:(0,Nn.css)({width:"100%",display:"flex",justifyContent:"space-between",gap:e.spacing(1)}),rowCollapsed:(0,Nn.css)({borderBottom:`1px solid ${e.colors.border.weak}`,paddingBottom:e.spacing(1)}),actions:(0,Nn.css)({display:"flex",alignItems:"center",gap:e.spacing(1),justifyContent:"flex-end",flexGrow:1})});class Xm extends J{constructor(){super(...arguments),this._variableDependency=new pc(this,{statePaths:["text"]})}}Xm.Component=({model:e})=>{const{text:t,fontSize:n=20,align:r="left",key:o,spacing:i}=e.useState(),a=(0,In.useTheme2)(),l=(0,Nn.css)({fontSize:n,display:"flex",flexGrow:1,alignItems:"center",padding:i?a.spacing(i,0):void 0,justifyContent:r});return s().createElement("div",{className:l,"data-testid":o},Gc.interpolate(e,t))};class Qm extends J{}Qm.Component=({model:e})=>{const t=e.useState();return s().createElement(In.ToolbarButton,{onClick:t.onClick,icon:t.icon})};class Zm extends J{}Zm.Component=({model:e})=>{const t=e.useState();return s().createElement("div",{style:{display:"flex"}},t.label&&s().createElement(vr,{label:t.label}),s().createElement(In.Input,{defaultValue:t.value,width:8,onBlur:t=>{e.state.onChange(parseInt(t.currentTarget.value,10))}}))};class Km extends J{constructor(){super(...arguments),this.onZoom=()=>{const e=Gc.getTimeRange(this),t=function(e){const t=e.to.valueOf()-e.from.valueOf(),n=e.to.valueOf()-t/2,r=0===t?3e4:2*t,o=n+r/2,i=n-r/2;return{from:(0,c.toUtc)(i),to:(0,c.toUtc)(o),raw:{from:(0,c.toUtc)(i),to:(0,c.toUtc)(o)}}}(e.state.value);e.onTimeRangeChange(t)},this.onChangeFiscalYearStartMonth=e=>{Gc.getTimeRange(this).setState({fiscalYearStartMonth:e})},this.toAbsolute=()=>{const e=Gc.getTimeRange(this),t=e.state.value,n=(0,c.toUtc)(t.from),r=(0,c.toUtc)(t.to);e.onTimeRangeChange({from:n,to:r,raw:{from:n,to:r}})},this.onMoveBackward=()=>{const e=Gc.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(eg(Jm.Backward,t,Date.now()))},this.onMoveForward=()=>{const e=Gc.getTimeRange(this),{state:{value:t}}=e;e.onTimeRangeChange(eg(Jm.Forward,t,Date.now()))}}}Km.Component=function({model:e}){const{hidePicker:t,isOnCanvas:n,quickRanges:r}=e.useState(),o=Gc.getTimeRange(e),a=o.getTimeZone(),l=o.useState(),[u,d]=function(e,t,n){if(!pu)return[t,du,du];if(!e)throw new Error("useLocalStorage key may not be falsy");var r=n?n.raw?function(e){return e}:n.deserializer:JSON.parse,o=(0,i.useRef)((function(e){try{var o=n?n.raw?String:n.serializer:JSON.stringify,i=localStorage.getItem(e);return null!==i?r(i):(t&&localStorage.setItem(e,o(t)),t)}catch(e){return t}})),a=(0,i.useState)((function(){return o.current(e)})),s=a[0],l=a[1];(0,i.useLayoutEffect)((function(){return l(o.current(e))}),[e]);var c=(0,i.useCallback)((function(t){try{var o,i="function"==typeof t?t(s):t;if(void 0===i)return;o=n?n.raw?"string"==typeof i?i:JSON.stringify(i):n.serializer?n.serializer(i):JSON.stringify(i):JSON.stringify(i),localStorage.setItem(e,o),l(r(o))}catch(e){}}),[e,l]),u=(0,i.useCallback)((function(){try{localStorage.removeItem(e),l(void 0)}catch(e){}}),[e,l]);return[s,c,u]}(tg,[],{raw:!1,serializer:rg,deserializer:ng});return t?null:s().createElement(In.TimeRangePicker,{isOnCanvas:null==n||n,value:l.value,onChange:e=>{var t;t=e,((0,c.isDateTime)(t.raw.from)||(0,c.isDateTime)(t.raw.to))&&d([e,...null!=u?u:[]]),o.onTimeRangeChange(e)},timeZone:a,fiscalYearStartMonth:l.fiscalYearStartMonth,onMoveBackward:e.onMoveBackward,onMoveForward:e.onMoveForward,onZoom:e.onZoom,onChangeTimeZone:o.onTimeZoneChange,onChangeFiscalYearStartMonth:e.onChangeFiscalYearStartMonth,weekStart:l.weekStart,history:u,quickRanges:r})};var Jm=(e=>(e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e))(Jm||{});function eg(e,t,n){const r=t.to.valueOf(),o=t.from.valueOf(),i=(r-o)/2;let a,s;0===e?(a=o-i,s=r-i):(a=o+i,s=r+i,s>n&&r<n&&(s=n,a=o));const l=(0,c.toUtc)(a),u=(0,c.toUtc)(s);return{from:l,to:u,raw:{from:l,to:u}}}const tg="grafana.dashboard.timepicker.history";function ng(e){return JSON.parse(e).map((e=>c.rangeUtil.convertRawToRange(e,"utc",void 0,"YYYY-MM-DD HH:mm:ss")))}function rg(e){return JSON.stringify((t=e.map((e=>({from:"string"==typeof e.raw.from?e.raw.from:e.raw.from.toISOString(),to:"string"==typeof e.raw.to?e.raw.to:e.raw.to.toISOString()}))),(0,fe.uniqBy)(t,(e=>e.from+e.to)).slice(0,4)));var t}var og=Object.defineProperty,ig=Object.defineProperties,ag=Object.getOwnPropertyDescriptors,sg=Object.getOwnPropertySymbols,lg=Object.prototype.hasOwnProperty,cg=Object.prototype.propertyIsEnumerable,ug=(e,t,n)=>t in e?og(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const dg=["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"];class pg extends J{constructor(e){var t,n,r,o,i;super((o=((e,t)=>{for(var n in t||(t={}))lg.call(t,n)&&ug(e,n,t[n]);if(sg)for(var n of sg(t))cg.call(t,n)&&ug(e,n,t[n]);return e})({refresh:""},e),i={autoValue:void 0,autoEnabled:null==(t=e.autoEnabled)||t,autoMinInterval:null!=(n=e.autoMinInterval)?n:u.config.minRefreshInterval,intervals:(null!=(r=e.intervals)?r:dg).filter((t=>{var n;const r=null!=(n=e.minRefreshInterval)?n:u.config.minRefreshInterval;try{return!r||c.rangeUtil.intervalToMs(t)>=c.rangeUtil.intervalToMs(r)}catch(e){return!1}}))},ig(o,ag(i)))),this._urlSync=new Xe(this,{keys:["refresh"]}),this._autoRefreshBlocked=!1,this.onRefresh=()=>{const e=Gc.getQueryController(this);if(null==e||e.startProfile(this),null==e?void 0:e.state.isRunning)return void e.cancelAll();const t=Gc.getTimeRange(this);this._intervalTimer&&clearInterval(this._intervalTimer),t.onRefresh(),this.setupIntervalTimer()},this.onIntervalChanged=e=>{this.setState({refresh:e}),this.setupIntervalTimer()},this.setupAutoTimeRangeListener=()=>Gc.getTimeRange(this).subscribeToState(((e,t)=>{e.from===t.from&&e.to===t.to||this.setupIntervalTimer()})),this.calculateAutoRefreshInterval=()=>{var e;const t=Gc.getTimeRange(this),n=null!=(e=null==window?void 0:window.innerWidth)?e:2e3;return c.rangeUtil.calculateInterval(t.state.value,n,this.state.autoMinInterval)},this.setupIntervalTimer=()=>{var e;const t=Gc.getTimeRange(this),{refresh:n,intervals:r}=this.state;if((this._intervalTimer||""===n)&&clearInterval(this._intervalTimer),""===n)return;if(n!==In.RefreshPicker.autoOption.value&&r&&!r.includes(n))return;let o;if(null==(e=this._autoTimeRangeListener)||e.unsubscribe(),n===In.RefreshPicker.autoOption.value){const e=this.calculateAutoRefreshInterval();o=e.intervalMs,this._autoTimeRangeListener=this.setupAutoTimeRangeListener(),e.interval!==this.state.autoValue&&this.setState({autoValue:e.interval})}else o=c.rangeUtil.intervalToMs(n);this._intervalTimer=setInterval((()=>{if(this.isTabVisible()){const e=Gc.getQueryController(this);null==e||e.startProfile(this),t.onRefresh()}else this._autoRefreshBlocked=!0}),o)},this.addActivationHandler((()=>{this.setupIntervalTimer();const e=()=>{this._autoRefreshBlocked&&"visible"===document.visibilityState&&(this._autoRefreshBlocked=!1,this.onRefresh())};return document.addEventListener("visibilitychange",e),()=>{var t;this._intervalTimer&&clearInterval(this._intervalTimer),document.removeEventListener("visibilitychange",e),null==(t=this._autoTimeRangeListener)||t.unsubscribe()}}))}getUrlState(){let e=this.state.refresh;return"string"==typeof e&&0!==e.length||(e=void 0),{refresh:e}}updateFromUrl(e){const{intervals:t}=this.state;let n=e.refresh;"string"==typeof n&&function(e){try{return c.rangeUtil.describeInterval(e).count>0}catch(e){return!1}}(n)&&((null==t?void 0:t.includes(n))?this.setState({refresh:n}):this.setState({refresh:t?t[0]:void 0}))}isTabVisible(){return void 0===document.visibilityState||"visible"===document.visibilityState}}pg.Component=function({model:e}){var t;const{refresh:n,intervals:r,autoEnabled:o,autoValue:i,isOnCanvas:a,primary:l,withText:c}=e.useState(),u=function(e){const t=Gc.getQueryController(e);return!!t&&t.useState().isRunning}(e);let d,p,f=n===(null==(t=In.RefreshPicker.autoOption)?void 0:t.value)?i:c?"Refresh":void 0;return u&&(d="Cancel all queries",c&&(f="Cancel")),c&&(p="96px"),s().createElement(In.RefreshPicker,{showAutoInterval:o,value:n,intervals:r,tooltip:d,width:p,text:f,onRefresh:()=>{e.onRefresh()},primary:l,onIntervalChanged:e.onIntervalChanged,isLoading:u,isOnCanvas:null==a||a})};const fg=e=>`${e}-compare`;var hg=Object.defineProperty,mg=Object.defineProperties,gg=Object.getOwnPropertyDescriptors,bg=Object.getOwnPropertySymbols,vg=Object.prototype.hasOwnProperty,yg=Object.prototype.propertyIsEnumerable,wg=(e,t,n)=>t in e?hg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sg=(e,t)=>{for(var n in t||(t={}))vg.call(t,n)&&wg(e,n,t[n]);if(bg)for(var n of bg(t))yg.call(t,n)&&wg(e,n,t[n]);return e},Eg=(e,t)=>mg(e,gg(t));const Ag="__previousPeriod",xg="__noPeriod",Cg={label:"Previous period",value:Ag},Og={label:"No comparison",value:xg},Ig=[{label:"Day before",value:"24h"},{label:"Week before",value:"1w"},{label:"Month before",value:"1M"}];class Rg extends J{constructor(e){super(Sg({compareOptions:Ig},e)),this._urlSync=new Xe(this,{keys:["compareWith"]}),this._onActivate=()=>{const e=Gc.getTimeRange(this);this.setState({compareOptions:this.getCompareOptions(e.state.value)}),this._subs.add(e.subscribeToState((e=>{const t=this.getCompareOptions(e.value),n={compareOptions:t};Boolean(this.state.compareWith)&&!t.find((({value:e})=>e===this.state.compareWith))&&(n.compareWith=Ag),this.setState(n)})))},this.getCompareOptions=e=>{const t=Math.ceil(e.to.diff(e.from)),n=Ig.findIndex((({value:e})=>c.rangeUtil.intervalToMs(e)>=t));return[Og,Cg,...Ig.slice(n).map((({label:e,value:t})=>({label:e,value:t})))]},this.onCompareWithChanged=e=>{e===xg?this.onClearCompare():this.setState({compareWith:e})},this.onClearCompare=()=>{this.setState({compareWith:void 0})},this.addActivationHandler(this._onActivate)}getExtraQueries(e){const t=[],n=this.getCompareTimeRange(e.range);if(!n)return t;const r=e.targets.filter((e=>!1!==e.timeRangeCompare));return r.length&&t.push({req:Eg(Sg({},e),{targets:r,range:n}),processor:Dg}),t}shouldRerun(e,t,n){return e.compareWith!==t.compareWith&&void 0!==n.find((e=>!1!==e.timeRangeCompare))}getCompareTimeRange(e){let t,n;if(this.state.compareWith){if(this.state.compareWith===Ag){const r=e.to.diff(e.from);t=(0,c.dateTime)(e.from).subtract(r),n=(0,c.dateTime)(e.to).subtract(r)}else t=(0,c.dateTime)(e.from).subtract(c.rangeUtil.intervalToMs(this.state.compareWith)),n=(0,c.dateTime)(e.to).subtract(c.rangeUtil.intervalToMs(this.state.compareWith));return{from:t,to:n,raw:{from:t,to:n}}}}getUrlState(){return{compareWith:this.state.compareWith}}updateFromUrl(e){if(!e.compareWith)return;const t=Ze(e.compareWith);t&&(this.getCompareOptions(Gc.getTimeRange(this).state.value).find((({value:e})=>e===t))?this.setState({compareWith:t}):this.setState({compareWith:"__previousPeriod"}))}}Rg.Component=function({model:e}){var t;const n=(0,In.useStyles2)(Pg),{compareWith:r,compareOptions:o}=e.useState(),[i,a]=s().useState(r),l=null!=(t=o.find((({value:e})=>e===i)))?t:Cg,c=o.find((({value:e})=>e===r)),u=Boolean(c),d=()=>{u?(a(r),e.onClearCompare()):u||e.onCompareWithChanged(l.value)};return s().createElement(In.ButtonGroup,null,s().createElement(In.ToolbarButton,{variant:"canvas",tooltip:"Enable time frame comparison",onClick:e=>{e.stopPropagation(),e.preventDefault(),d()}},s().createElement(In.Checkbox,{label:" ",value:u,onClick:d}),"Comparison"),u?s().createElement(In.ButtonSelect,{variant:"canvas",value:c,options:o,onChange:t=>{e.onCompareWithChanged(t.value)}}):s().createElement(In.ToolbarButton,{className:n.previewButton,disabled:!0,variant:"canvas",isOpen:!1},l.label))};const Dg=(e,t)=>{const n=t.timeRange.from.diff(e.timeRange.from);return t.series.forEach((e=>{e.refId=fg(e.refId||""),e.meta=Eg(Sg({},e.meta),{timeCompare:{diffMs:n,isTimeShiftQuery:!0}}),e.fields.forEach((e=>(e.type===c.FieldType.time&&(e.values=e.values.map((e=>n<0?e-n:e+n))),e.config=Eg(Sg({},e.config),{color:{mode:"fixed",fixedColor:u.config.theme.palette.gray60}}),e)))})),(0,O.of)(t)};function Pg(e){return{previewButton:(0,Nn.css)({"&:disabled":{border:`1px solid ${e.colors.secondary.border}`,color:e.colors.text.disabled,opacity:1}})}}class Tg extends J{constructor(e){super(e),this.addActivationHandler((()=>{const e=Gc.getData(this);this._subs.add(e.subscribeToState((e=>{var t;(null==(t=e.data)?void 0:t.state)===c.LoadingState.Done&&this.performRepeat(e.data)}))),e.state.data&&this.performRepeat(e.state.data)}))}performRepeat(e){const t=[];for(let n=0;n<e.series.length;n++){const r=this.state.getLayoutChild(e,e.series[n],n);t.push(r)}this.state.body.setState({children:t})}}Tg.Component=({model:e})=>{const{body:t}=e.useState();return s().createElement(t.Component,{model:t})};class _g extends J{constructor(e){super(e),this._variableDependency=new pc(this,{variableNames:[this.state.variableName],onVariableUpdateCompleted:()=>this.performRepeat()}),this.addActivationHandler((()=>this.performRepeat()))}performRepeat(){if(this._variableDependency.hasDependencyInLoadingState())return;const e=Gc.lookupVariable(this.state.variableName,this);if(!(e instanceof Bt))return void console.error("SceneByVariableRepeater: variable is not a MultiValueVariable");const t=function(e){const{value:t,text:n,options:r}=e.state;return e.hasAllValue()?r:Array.isArray(t)&&Array.isArray(n)?t.map(((e,t)=>({value:e,label:n[t]}))):[{value:t,label:n}]}(e),n=[];for(const e of t){const t=this.state.getLayoutChild(e);n.push(t)}this.state.body.setState({children:n})}}_g.Component=({model:e})=>{const{body:t}=e.useState();return s().createElement(t.Component,{model:t})};class kg extends J{constructor(){super({}),this._renderBeforeActivation=!0}}kg.Component=e=>s().createElement("div",{style:{flexGrow:1}});class Bg extends J{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}Bg.Component=function({model:e,parentState:t}){const{children:n,isHidden:r}=e.useState(),o=function(e,t){return(0,i.useMemo)((()=>{var n,r,o,i,a,s,l,c,d,p;const{direction:f="row",wrap:h}=e,m=u.config.theme2,g={};return t?Lg(g,e,t):(g.display="flex",g.flexGrow=1,g.minWidth=e.minWidth,g.minHeight=e.minHeight),g.flexDirection=f,g.gap="8px",g.flexWrap=h||"nowrap",g.alignContent="baseline",g.minWidth=g.minWidth||0,g.minHeight=g.minHeight||0,g[m.breakpoints.down("md")]={flexDirection:null!=(r=null==(n=e.md)?void 0:n.direction)?r:"column",maxWidth:null!=(i=null==(o=e.md)?void 0:o.maxWidth)?i:"unset",maxHeight:null!=(s=null==(a=e.md)?void 0:a.maxHeight)?s:"unset",height:null!=(c=null==(l=e.md)?void 0:l.height)?c:"unset",width:null!=(p=null==(d=e.md)?void 0:d.width)?p:"unset"},(0,Nn.css)(g)}),[t,e])}(e.state,t);return r?null:s().createElement("div",{className:o},n.map((t=>{const n=t.Component;return s().createElement(n,{key:t.state.key,model:t,parentState:e.state})})))};class Mg extends J{}function Lg(e,t,n){var r,o,i;const a=null!=(r=n.direction)?r:"row",{xSizing:s="fill",ySizing:l="fill"}=t;return e.display="flex",e.position="relative",e.flexDirection=a,"column"===a?(t.height?e.height=t.height:e.flexGrow="fill"===l?1:0,t.width?e.width=t.width:e.alignSelf="fill"===s?"stretch":"flex-start"):(t.height?e.height=t.height:e.alignSelf="fill"===l?"stretch":"flex-start",t.width?e.width=t.width:e.flexGrow="fill"===s?1:0),e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.maxHeight=t.maxHeight,e.minHeight=null!=(o=t.minHeight)?o:n.minHeight,e.height=null!=(i=t.height)?i:n.height,e}Mg.Component=function({model:e,parentState:t}){if(!t)throw new Error("SceneFlexItem must be a child of SceneFlexLayout");const{body:n,isHidden:r}=e.useState(),o=function(e,t){return(0,i.useMemo)((()=>{var n,r,o,i,a,s,l,c,d,p;const f=u.config.theme2,h=Lg({},e,t);return h[f.breakpoints.down("md")]={maxWidth:null!=(r=null==(n=e.md)?void 0:n.maxWidth)?r:"unset",maxHeight:null!=(i=null==(o=e.md)?void 0:o.maxHeight)?i:"unset",height:null!=(l=null==(a=e.md)?void 0:a.height)?l:null==(s=t.md)?void 0:s.height,width:null!=(p=null==(c=e.md)?void 0:c.width)?p:null==(d=t.md)?void 0:d.width},(0,Nn.css)(h)}),[e,t])}(e.state,t);return!n||r?null:s().createElement("div",{className:o},s().createElement(n.Component,{model:n}))};var Ng=Object.defineProperty,jg=Object.getOwnPropertySymbols,Fg=Object.prototype.hasOwnProperty,zg=Object.prototype.propertyIsEnumerable,Vg=(e,t,n)=>t in e?Ng(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class $g extends J{constructor(e){var t,n;super(((e,t)=>{for(var n in t||(t={}))Fg.call(t,n)&&Vg(e,n,t[n]);if(jg)for(var n of jg(t))zg.call(t,n)&&Vg(e,n,t[n]);return e})({rowGap:1,columnGap:1,templateColumns:"repeat(auto-fit, minmax(400px, 1fr))",autoRows:null!=(t=e.autoRows)?t:"320px",children:null!=(n=e.children)?n:[]},e))}isDraggable(){return!1}}$g.Component=function({model:e}){const{children:t,isHidden:n,isLazy:r}=e.useState(),o=(a=e.state,(0,i.useMemo)((()=>{var e,t,n,r,o,i,s,l,c,d,p;const f={},h=u.config.theme2;return f.display="grid",f.gridTemplateColumns=a.templateColumns,f.gridTemplateRows=a.templateRows||"unset",f.gridAutoRows=a.autoRows||"unset",f.rowGap=h.spacing(null!=(e=a.rowGap)?e:1),f.columnGap=h.spacing(null!=(t=a.columnGap)?t:1),f.justifyItems=a.justifyItems||"unset",f.alignItems=a.alignItems||"unset",f.justifyContent=a.justifyContent||"unset",f.flexGrow=1,a.md&&(f[h.breakpoints.down("md")]={gridTemplateRows:null==(n=a.md)?void 0:n.templateRows,gridTemplateColumns:null==(r=a.md)?void 0:r.templateColumns,rowGap:a.md.rowGap?h.spacing(null!=(i=null==(o=a.md)?void 0:o.rowGap)?i:1):void 0,columnGap:a.md.columnGap?h.spacing(null!=(l=null==(s=a.md)?void 0:s.rowGap)?l:1):void 0,justifyItems:null==(c=a.md)?void 0:c.justifyItems,alignItems:null==(d=a.md)?void 0:d.alignItems,justifyContent:null==(p=a.md)?void 0:p.justifyContent}),(0,Nn.css)(f)}),[a]));var a;return n?null:s().createElement("div",{className:o},t.map((t=>{const n=t.Component;return r?s().createElement(nm,{key:t.state.key,className:o},s().createElement(n,{key:t.state.key,model:t,parentState:e.state})):s().createElement(n,{key:t.state.key,model:t,parentState:e.state})})))};class Ug extends J{}Ug.Component=function({model:e,parentState:t}){if(!t)throw new Error("SceneCSSGridItem must be a child of SceneCSSGridLayout");const{body:n,isHidden:r}=e.useState(),o=(a=e.state,(0,i.useMemo)((()=>{const e={};return e.gridColumn=a.gridColumn||"unset",e.gridRow=a.gridRow||"unset",e.position="relative",(0,Nn.css)(e)}),[a]));var a;return!n||r?null:s().createElement("div",{className:o},s().createElement(n.Component,{model:n}))};var Wg=Object.defineProperty,Hg=Object.getOwnPropertySymbols,Gg=Object.prototype.hasOwnProperty,qg=Object.prototype.propertyIsEnumerable,Yg=(e,t,n)=>t in e?Wg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xg=(e,t)=>{for(var n in t||(t={}))Gg.call(t,n)&&Yg(e,n,t[n]);if(Hg)for(var n of Hg(t))qg.call(t,n)&&Yg(e,n,t[n]);return e};const Qg=new Set(["ArrowUp","ArrowDown"]),Zg=new Set(["ArrowLeft","ArrowRight"]),Kg={row:{dim:"width",axis:"clientX",min:"minWidth",max:"maxWidth"},column:{dim:"height",axis:"clientY",min:"minHeight",max:"maxHeight"}};function Jg({direction:e="row",handleSize:t=32,initialSize:n="auto",primaryPaneStyles:r,secondaryPaneStyles:o,onDragFinished:a,children:l}){const c=s().Children.toArray(l),u=(0,i.useRef)(null),d=(0,i.useRef)(null),p=(0,i.useRef)(null),f=(0,i.useRef)(null),h=(0,i.useRef)(null),m=(0,i.useRef)("1fr"),g=(0,i.useRef)(void 0),b=(0,i.useRef)(void 0),v=Kg[e].dim,y=Kg[e].axis,w=Kg[e].min,S=Kg[e].max;!function(e,t,n=0,r){const o=(0,fe.throttle)(t,n);(0,i.useLayoutEffect)((()=>{if(!e)return;const t=new ResizeObserver(o);return t.observe(e,{box:"device-pixel-content-box"}),()=>t.disconnect()}),r)}(f.current,(e=>{for(const t of e){if(!t.target.isSameNode(f.current))return;const e=d.current.getBoundingClientRect()[v],n=tb(d.current);u.current.ariaValueNow=`${(0,fe.clamp)((e-n[w])/(n[S]-n[w])*100,0,100)}`}}),500,[S,w,e,v]);const E=(0,i.useRef)(null),A=(0,i.useCallback)((e=>{m.current=d.current.getBoundingClientRect()[v],h.current=f.current.getBoundingClientRect()[v],E.current=e[y],u.current.setPointerCapture(e.pointerId),g.current=tb(d.current),b.current=void 0}),[v,y]),x=(0,i.useCallback)((e=>{if(null!==E.current&&"1fr"!==m.current){const n=e[y]-E.current,r=g.current,o=(0,fe.clamp)(m.current+n,r[w],r[S]),i=o/(h.current-t);d.current.style.flexGrow=`${i}`,p.current.style.flexGrow=""+(1-i);const a=(0,fe.clamp)((o-r[w])/(r[S]-r[w])*100,0,100);u.current.ariaValueNow=`${a}`}}),[t,y,w,S]),C=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),u.current.releasePointerCapture(e.pointerId),E.current=null,null==a||a(parseFloat(d.current.style.flexGrow))}),[a]),O=(0,i.useRef)(new Set),I=(0,i.useRef)(null),R=(0,i.useCallback)((n=>{var r;if(0===O.current.size)return void(I.current=null);if("1fr"===m.current)return;const o=.3*(n-(null!=(r=I.current)?r:n));let i=0;"row"===e?(O.current.has("ArrowLeft")&&(i-=o),O.current.has("ArrowRight")&&(i+=o)):(O.current.has("ArrowUp")&&(i-=o),O.current.has("ArrowDown")&&(i+=o));const a=g.current,s=d.current.getBoundingClientRect()[v],l=(0,fe.clamp)(s+i,a[w],a[S]),c=l/(h.current-t);d.current.style.flexGrow=`${c}`,p.current.style.flexGrow=""+(1-c);const f=(l-a[w])/(a[S]-a[w])*100;u.current.ariaValueNow=`${(0,fe.clamp)(f,0,100)}`,I.current=n,window.requestAnimationFrame(R)}),[e,t,w,S,v]),D=(0,i.useCallback)((n=>{if("Enter"!==n.key){if("Home"===n.key){g.current=tb(d.current),h.current=f.current.getBoundingClientRect()[v];const e=g.current[w]/(h.current-t);return d.current.style.flexGrow=`${e}`,p.current.style.flexGrow=""+(1-e),void(u.current.ariaValueNow="0")}if("End"===n.key){g.current=tb(d.current),h.current=f.current.getBoundingClientRect()[v];const e=g.current[S]/(h.current-t);return d.current.style.flexGrow=`${e}`,p.current.style.flexGrow=""+(1-e),void(u.current.ariaValueNow="100")}if(("column"===e&&Qg.has(n.key)||"row"===e&&Zg.has(n.key))&&!O.current.has(n.key)&&(b.current=void 0,n.preventDefault(),n.stopPropagation(),m.current=d.current.getBoundingClientRect()[v],h.current=f.current.getBoundingClientRect()[v],g.current=tb(d.current),!O.current.has(n.key))){const e=0===O.current.size;O.current.add(n.key),e&&window.requestAnimationFrame(R)}}else void 0===b.current?(b.current=d.current.style.flexGrow,d.current.style.flexGrow="0",p.current.style.flexGrow="1"):(d.current.style.flexGrow=b.current,p.current.style.flexGrow=""+(1-parseFloat(b.current)),b.current=void 0)}),[e,R,t,S,v,w]),P=(0,i.useCallback)((t=>{"row"===e&&!Zg.has(t.key)||"column"===e&&!Qg.has(t.key)||(O.current.delete(t.key),null==a||a(parseFloat(d.current.style.flexGrow)))}),[e,a]),T=(0,i.useCallback)((()=>{d.current.style.flexGrow="0.5",p.current.style.flexGrow="0.5";const e=tb(d.current);g.current=e,m.current=d.current.getBoundingClientRect()[v],u.current.ariaValueNow=""+(m.current-e[w])/(e[S]-e[w])*100}),[S,v,w]),_=(0,i.useCallback)((()=>{O.current.size>0&&(O.current.clear(),E.current=null,null==a||a(parseFloat(d.current.style.flexGrow)))}),[a]),k=(0,In.useStyles2)(eb),B=tm(),M=2===c.length?"visible":"hidden";return s().createElement("div",{ref:f,className:k.container,style:{flexDirection:e}},s().createElement("div",{ref:d,className:k.panel,style:Xg({flexGrow:"auto"===n?.5:(0,fe.clamp)(n,0,1),[w]:"min-content"},r),id:`start-panel-${B}`},c[0]),c[1]&&s().createElement(s().Fragment,null,s().createElement("div",{ref:u,style:{[v]:`${t}px`},className:(0,Nn.cx)(k.handle,{[k.handleHorizontal]:"column"===e}),onPointerUp:C,onPointerDown:A,onPointerMove:x,onKeyDown:D,onKeyUp:P,onDoubleClick:T,onBlur:_,role:"separator","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":50,"aria-controls":`start-panel-${B}`,"aria-label":"Pane resize widget",tabIndex:0}),s().createElement("div",{ref:p,className:k.panel,style:Xg({flexGrow:"auto"===n?.5:(0,fe.clamp)(1-n,0,1),[w]:"min-content",visibility:`${M}`},o),id:`end-panel-${B}`},c[1])))}function eb(e){return{handle:(0,Nn.css)({cursor:"col-resize",position:"relative",flexShrink:0,userSelect:"none","&::before":{content:'""',position:"absolute",backgroundColor:e.colors.primary.main,left:"50%",transform:"translate(-50%)",top:0,height:"100%",width:"1px",opacity:0,transition:"opacity ease-in-out 0.2s"},"&::after":{content:'""',width:"4px",borderRadius:"4px",backgroundColor:e.colors.border.weak,transition:"background-color ease-in-out 0.2s",height:"50%",top:"calc(50% - (50%) / 2)",transform:"translateX(-50%)",position:"absolute",left:"50%"},"&:hover, &:focus-visible":{outline:"none","&::before":{opacity:1},"&::after":{backgroundColor:e.colors.primary.main}}}),handleHorizontal:(0,Nn.css)({cursor:"row-resize","&::before":{left:"inherit",transform:"translateY(-50%)",top:"50%",height:"1px",width:"100%"},"&::after":{width:"50%",height:"4px",top:"50%",transform:"translateY(-50%)",left:"calc(50% - (50%) / 2)"}}),container:(0,Nn.css)({display:"flex",width:"100%",flexGrow:1,overflow:"hidden"}),panel:(0,Nn.css)({display:"flex",position:"relative",flexBasis:0})}}function tb(e){if(null===e)return;const t=document.body.style.overflow,n=e.style.width,r=e.style.height,o=e.style.flexGrow;document.body.style.overflow="hidden",e.style.flexGrow="0";const{width:i,height:a}=e.getBoundingClientRect();e.style.flexGrow="100";const{width:s,height:l}=e.getBoundingClientRect();return document.body.style.overflow=t,e.style.width=n,e.style.height=r,e.style.flexGrow=o,{minWidth:i,maxWidth:s,minHeight:a,maxHeight:l}}class nb extends J{toggleDirection(){this.setState({direction:"row"===this.state.direction?"column":"row"})}isDraggable(){return!1}}nb.Component=function({model:e}){const{primary:t,secondary:n,direction:r,isHidden:o,initialSize:i,primaryPaneStyles:a,secondaryPaneStyles:l}=e.useState();if(o)return null;const c=t.Component,u=null==n?void 0:n.Component;let d=n?i:1;return s().createElement(Jg,{direction:r,initialSize:null!=d?d:.5,primaryPaneStyles:a,secondaryPaneStyles:l},s().createElement(c,{key:t.state.key,model:t,parentState:e.state}),u&&n&&s().createElement(u,{key:n.state.key,model:n,parentState:e.state}))};class rb extends J{enrichDataRequest(){return{app:this.state.name||"app"}}}rb.Component=({model:e})=>{const{pages:t}=e.useState();return s().createElement(ob.Provider,{value:e},s().createElement(l.Switch,null,t.map((e=>s().createElement(l.Route,{key:e.state.url,exact:!1,path:e.state.url,render:t=>b(e,t)})))))};const ob=(0,i.createContext)(null),ib=new Map;function ab(e){const t=ib.get(e);if(t)return t;const n=e();return ib.set(e,n),n}var sb=Object.defineProperty,lb=Object.getOwnPropertySymbols,cb=Object.prototype.hasOwnProperty,ub=Object.prototype.propertyIsEnumerable,db=(e,t,n)=>t in e?sb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class pb extends J{}function fb({node:e}){const t=e.useState(),n=(0,In.useStyles2)(hb);return s().createElement("div",{className:n.container},Object.keys(t).map((r=>s().createElement("div",{className:n.row,key:r},s().createElement("div",{className:n.keyName},r),s().createElement("div",{className:n.value},function(e,t,n){if(null===t)return"null";switch(typeof t){case"number":return s().createElement(In.Input,{type:"number",defaultValue:t,onBlur:t=>n.setState({[e]:t.currentTarget.valueAsNumber})});case"string":return s().createElement(In.Input,{type:"text",defaultValue:t,onBlur:t=>n.setState({[e]:t.currentTarget.value})});case"object":return Xt(t)?t.constructor.name:(0,fe.isPlainObject)(t)||(0,fe.isArray)(t)?s().createElement(In.JSONFormatter,{json:t,open:0}):String(t);default:return typeof t}}(r,t[r],e))))))}function hb(e){return{container:(0,Nn.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),row:(0,Nn.css)({display:"flex",gap:e.spacing(2)}),keyName:(0,Nn.css)({display:"flex",flexGrow:"0",width:120,alignItems:"center",height:e.spacing(e.components.height.md)}),value:(0,Nn.css)({flexGrow:1,minHeight:e.spacing(e.components.height.md),display:"flex",alignItems:"center"})}}function mb({node:e,selectedObject:t,onSelect:n}){const r=(0,In.useStyles2)(gb),o=[],i=e===t;return e.forEachChild((e=>{o.push(s().createElement(mb,{node:e,key:e.state.key,selectedObject:t,onSelect:n}))})),s().createElement("div",{className:r.container},s().createElement("div",{className:(0,Nn.cx)(r.name,i&&r.selected),onClick:()=>n(e)},e.constructor.name),s().createElement("div",{className:r.children},o))}function gb(e){return{container:(0,Nn.css)({flexGrow:1,display:"flex",gap:e.spacing(.5),flexDirection:"column"}),name:(0,Nn.css)({flexGrow:1,display:"flex",gap:e.spacing(1),fontSize:e.typography.bodySmall.fontSize,cursor:"pointer",padding:e.spacing(0,1),borderRadius:e.shape.borderRadius(2),position:"relative","&:hover":{background:e.colors.background.secondary}}),selected:(0,Nn.css)({"&::before":{display:"block",content:"' '",position:"absolute",left:0,width:4,bottom:2,top:2,borderRadius:e.shape.radius.default,backgroundImage:e.colors.gradients.brandVertical}}),children:(0,Nn.css)({flexGrow:1,display:"flex",flexDirection:"column",paddingLeft:e.spacing(1)})}}function bb({scene:e}){const t=(0,In.useStyles2)(vb),[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)();return s().createElement(s().Fragment,null,s().createElement(In.ToolbarButton,{variant:"canvas",icon:"bug",onClick:()=>r(!0)}),n&&s().createElement(In.Drawer,{title:"Scene debugger",onClose:()=>r(!1),size:"lg"},s().createElement("div",{className:t.panes},s().createElement("div",{className:t.pane1},s().createElement("div",{className:t.paneHeading},"Scene graph"),s().createElement(In.CustomScrollbar,{autoHeightMin:"100%"},s().createElement("div",{className:t.treeWrapper},s().createElement(mb,{node:e,selectedObject:o,onSelect:a})))),s().createElement("div",{className:t.pane2},s().createElement("div",{className:t.paneHeading},"Object details"),o&&s().createElement(fb,{node:o})))))}function vb(e){return{panes:(0,Nn.css)({flexGrow:1,display:"flex",height:"100%",flexDirection:"row",marginTop:e.spacing(-2)}),pane1:(0,Nn.css)({flexGrow:0,display:"flex",height:"100%",flexDirection:"column",borderRight:`1px solid ${e.colors.border.weak}`}),pane2:(0,Nn.css)({flexGrow:1,display:"flex",minHeight:"100%",flexDirection:"column",paddingLeft:e.spacing(2)}),treeWrapper:(0,Nn.css)({paddingRight:e.spacing(2),height:"100%",marginLeft:e.spacing(-1)}),paneHeading:(0,Nn.css)({padding:e.spacing(1,0),fontWeight:e.typography.fontWeightMedium})}}function yb({page:e,routeProps:t}){const n=function(e){return e.parent instanceof Eb?e.parent:e}(e),r=n.useState(),o=function(){const e=(0,l.useLocation)();return(0,u.locationSearchToObject)(e.search||"")}(),a=e.getScene(t.match),c=(0,i.useContext)(ob),d=r.initializedScene===a,{layout:p}=e.state,f=kt();(0,i.useLayoutEffect)((()=>{d||n.initializeScene(a)}),[a,n,d]),(0,i.useEffect)((()=>()=>n.setState({initializedScene:void 0})),[n]);const h=Fh(n,null==c?void 0:c.state.urlSyncOptions);if(!d&&!h)return null;const m={text:r.title,img:r.titleImg,icon:r.titleIcon,url:g(r.url,f.getSearchObject(),r.preserveUrlKeys),hideFromBreadcrumbs:r.hideFromBreadcrumbs,parentItem:wb(r.getParentPage?r.getParentPage():n.parent,o,f.getSearchObject())};r.tabs&&(m.children=r.tabs.map((t=>({text:t.state.title,icon:t.state.titleIcon,tabSuffix:t.state.tabSuffix,active:e===t,url:g(t.state.url,f.getSearchObject(),t.state.preserveUrlKeys),parentItem:m}))));let b=[];return r.controls&&(b=r.controls.map((e=>s().createElement(e.Component,{model:e,key:e.state.key})))),o["scene-debugger"]&&b.push(s().createElement(bb,{scene:n,key:"scene-debugger"})),s().createElement(u.PluginPage,{layout:p,pageNav:m,actions:b,renderTitle:r.renderTitle,subTitle:r.subTitle},s().createElement(a.Component,{model:a}))}function wb(e,t,n){if(e instanceof Eb)return{text:e.state.title,url:g(e.state.url,n,e.state.preserveUrlKeys),hideFromBreadcrumbs:e.state.hideFromBreadcrumbs,parentItem:wb(e.state.getParentPage?e.state.getParentPage():e.parent,t,n)}}function Sb({drilldown:e,parent:t,routeProps:n}){return b(t.getDrilldownPage(e,n.match),n)}pb.Component=({model:e})=>{const{component:t,props:n,reactNode:r}=e.useState();return t?s().createElement(t,((e,t)=>{for(var n in t||(t={}))cb.call(t,n)&&db(e,n,t[n]);if(lb)for(var n of lb(t))ub.call(t,n)&&db(e,n,t[n]);return e})({},n)):r||null};class Eb extends J{constructor(e){super(e),this._sceneCache=new Map,this._drilldownCache=new Map}initializeScene(e){this.setState({initializedScene:e})}getScene(e){let t=this._sceneCache.get(e.url);if(t)return t;if(!this.state.getScene)throw new Error("Missing getScene on SceneAppPage "+this.state.title);return t=this.state.getScene(e),this._sceneCache.set(e.url,t),t}getDrilldownPage(e,t){let n=this._drilldownCache.get(t.url);return n||(n=e.getPage(t,this),this._drilldownCache.set(t.url,n),n)}enrichDataRequest(e){if(this.state.getParentPage)return this.state.getParentPage().enrichDataRequest(e);if(!this.parent)return null;const t=this.getRoot();return Qt(t)?t.enrichDataRequest(e):null}}Eb.Component=function({model:e,routeProps:t}){var n,r;const{tabs:o,drilldowns:i}=e.useState(),a=[];if(o&&o.length>0)for(let t=0;t<o.length;t++){const i=o[t];if(0===t&&a.push(s().createElement(l.Route,{exact:!0,key:e.state.url,path:null!=(n=e.state.routePath)?n:e.state.url,render:e=>b(i,e)})),a.push(s().createElement(l.Route,{exact:!0,key:i.state.url,path:null!=(r=i.state.routePath)?r:i.state.url,render:e=>b(i,e)})),i.state.drilldowns)for(const e of i.state.drilldowns)a.push(s().createElement(l.Route,{exact:!1,key:e.routePath,path:e.routePath,render:t=>s().createElement(Sb,{drilldown:e,parent:i,routeProps:t})}))}if(i)for(const t of i)a.push(s().createElement(l.Route,{key:t.routePath,exact:!1,path:t.routePath,render:n=>s().createElement(Sb,{drilldown:t,parent:e,routeProps:n})}));return!o&&(c=e,(u=t.match).isExact&&(u.url===c.state.url||c.parent instanceof Eb&&c.parent.state.tabs[0]===c&&c.parent.state.url===u.url))?s().createElement(yb,{page:e,routeProps:t}):(a.push(function(e,t){return s().createElement(l.Route,{key:"fallback route",render:n=>{var r,o,i;const a=null!=(i=null==(o=(r=e.state).getFallbackPage)?void 0:o.call(r))?i:new Eb({url:"",title:"Not found",subTitle:"The url did not match any page",getScene:()=>new Vh({body:new Bg({direction:"column",children:[new Mg({body:new pb({component:()=>s().createElement("div",{"data-testid":"default-fallback-content"},"If you found your way here using a link then there might be a bug in this application.")})})]})})});return s().createElement(yb,{page:a,routeProps:t})}})}(e,t)),s().createElement(l.Switch,null,a));var c,u};var Ab=(e=>(e.Always="always",e.Auto="auto",e.Never="never",e))(Ab||{}),xb=(e=>(e.Hue="hue",e.None="none",e.Opacity="opacity",e.Scheme="scheme",e))(xb||{}),Cb=(e=>(e.None="none",e.Normal="normal",e.Percent="percent",e))(Cb||{}),Ob=(e=>(e.Auto="auto",e.Horizontal="horizontal",e.Vertical="vertical",e))(Ob||{}),Ib=(e=>(e.Background="background",e.BackgroundSolid="background_solid",e.None="none",e.Value="value",e))(Ib||{}),Rb=(e=>(e.Area="area",e.Line="line",e.None="none",e))(Rb||{}),Db=(e=>(e.Auto="auto",e.Center="center",e))(Db||{}),Pb=(e=>(e.Auto="auto",e.Name="name",e.None="none",e.Value="value",e.ValueAndName="value_and_name",e))(Pb||{}),Tb=(e=>(e.Inverted="inverted",e.SameAsValue="same_as_value",e.Standard="standard",e))(Tb||{}),_b=(e=>(e.Multi="multi",e.None="none",e.Single="single",e))(_b||{}),kb=(e=>(e.Basic="basic",e.Gradient="gradient",e.Lcd="lcd",e))(kb||{}),Bb=(e=>(e.Color="color",e.Hidden="hidden",e.Text="text",e))(Bb||{}),Mb=(e=>(e.Auto="auto",e.Hidden="hidden",e.Left="left",e.Top="top",e))(Mb||{}),Lb=(e=>(e.Auto="auto",e.Manual="manual",e))(Lb||{}),Nb=(e=>(e.Auto="auto",e.Lg="lg",e.Md="md",e.Sm="sm",e))(Nb||{});const jb={barRadius:0,barWidth:.97,fullHighlight:!1,groupWidth:.7,orientation:Ob.Auto,showValue:Ab.Auto,stacking:Cb.None,xTickLabelRotation:0,xTickLabelSpacing:0},Fb={fillOpacity:80,gradientMode:xb.None,lineWidth:1},zb={displayMode:kb.Gradient,maxVizHeight:300,minVizHeight:16,minVizWidth:8,namePlacement:Mb.Auto,showUnfilled:!0,sizing:Lb.Auto,valueMode:Bb.Color},Vb={selectedSeries:0},$b={minVizHeight:75,minVizWidth:75,showThresholdLabels:!1,showThresholdMarkers:!0,sizing:Lb.Auto},Ub={layers:[]},Wb={calculate:!1,cellGap:1,cellValues:{},color:{scheme:"Oranges",fill:"dark-orange",reverse:!1,exponent:.5,steps:64},exemplars:{color:"rgba(255,0,255,0.7)"},filterValues:{le:1e-9},legend:{show:!0},selectionMode:"x",showValue:Ab.Auto,tooltip:{mode:_b.Single,yHistogram:!1,showColorScale:!1}},Hb={bucketCount:30,bucketOffset:0},Gb={fillOpacity:80,gradientMode:xb.None,lineWidth:1},qb={showImage:!0},Yb={displayLabels:[]},Xb={colorMode:Ib.Value,graphMode:Rb.Area,justifyMode:Db.Auto,percentChangeColorMode:Tb.Standard,showPercentChange:!1,textMode:Pb.Auto,wideLayout:!0},Qb={alignValue:"left",mergeValues:!0,perPage:20,rowHeight:.9,showValue:Ab.Auto},Zb={fillOpacity:70,lineWidth:0},Kb={colWidth:.9,perPage:20,rowHeight:.9,showValue:Ab.Auto},Jb={fillOpacity:70,lineWidth:1},ev={cellHeight:Nb.Sm,footer:{show:!1,countRows:!1,reducer:[]},frameIndex:0,showHeader:!0,showTypeIcons:!1,sortBy:[]},tv={content:"# Title\n\nFor markdown syntax help: [commonmark.org/help](https://commonmark.org/help/)",mode:"markdown"},nv={fillOpacity:50,show:"points"},rv={series:[]};class ov{constructor(){this._overrides=[]}overrideColor(e){return this._overrides[this._overrides.length-1].properties.push({id:"color",value:e}),this}overrideDecimals(e){return this._overrides[this._overrides.length-1].properties.push({id:"decimals",value:e}),this}overrideDisplayName(e){return this._overrides[this._overrides.length-1].properties.push({id:"displayName",value:e}),this}overrideFilterable(e){return this._overrides[this._overrides.length-1].properties.push({id:"filterable",value:e}),this}overrideLinks(e){return this._overrides[this._overrides.length-1].properties.push({id:"links",value:e}),this}overrideMappings(e){return this._overrides[this._overrides.length-1].properties.push({id:"mappings",value:e}),this}overrideMax(e){return this._overrides[this._overrides.length-1].properties.push({id:"max",value:e}),this}overrideMin(e){return this._overrides[this._overrides.length-1].properties.push({id:"min",value:e}),this}overrideNoValue(e){return this._overrides[this._overrides.length-1].properties.push({id:"noValue",value:e}),this}overrideThresholds(e){return this._overrides[this._overrides.length-1].properties.push({id:"thresholds",value:e}),this}overrideUnit(e){return this._overrides[this._overrides.length-1].properties.push({id:"unit",value:e}),this}}class iv extends ov{match(e){return this._overrides.push({matcher:e,properties:[]}),this}matchFieldsWithName(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byName,options:e},properties:[]}),this}matchFieldsWithNameByRegex(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byRegexp,options:e},properties:[]}),this}matchFieldsByType(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byType,options:e},properties:[]}),this}matchFieldsByQuery(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byFrameRefID,options:e},properties:[]}),this}matchFieldsByValue(e){return this._overrides.push({matcher:{id:c.FieldMatcherID.byValue,options:e},properties:[]}),this}matchComparisonQuery(e){return this.matchFieldsByQuery(fg(e))}overrideCustomFieldConfig(e,t){const n=`custom.${String(e)}`;return this._overrides[this._overrides.length-1].properties.push({id:n,value:t}),this}build(){return this._overrides}}var av=Object.defineProperty,sv=Object.defineProperties,lv=Object.getOwnPropertyDescriptors,cv=Object.getOwnPropertySymbols,uv=Object.prototype.hasOwnProperty,dv=Object.prototype.propertyIsEnumerable,pv=(e,t,n)=>t in e?av(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fv=(e,t)=>{for(var n in t||(t={}))uv.call(t,n)&&pv(e,n,t[n]);if(cv)for(var n of cv(t))dv.call(t,n)&&pv(e,n,t[n]);return e},hv=(e,t)=>sv(e,lv(t));class mv{constructor(e){this.defaultFieldConfig=e,this._fieldConfig={defaults:{},overrides:[]},this._overridesBuilder=new iv,this.setDefaults()}setDefaults(){const e={defaults:{custom:this.defaultFieldConfig?(0,fe.cloneDeep)(this.defaultFieldConfig()):{}},overrides:[]};this._fieldConfig=e}setColor(e){return this.setFieldConfigDefaults("color",e)}setDecimals(e){return this.setFieldConfigDefaults("decimals",e)}setDisplayName(e){return this.setFieldConfigDefaults("displayName",e)}setFilterable(e){return this.setFieldConfigDefaults("filterable",e)}setLinks(e){return this.setFieldConfigDefaults("links",e)}setMappings(e){return this.setFieldConfigDefaults("mappings",e)}setMax(e){return this.setFieldConfigDefaults("max",e)}setMin(e){return this.setFieldConfigDefaults("min",e)}setNoValue(e){return this.setFieldConfigDefaults("noValue",e)}setThresholds(e){return this.setFieldConfigDefaults("thresholds",e)}setUnit(e){return this.setFieldConfigDefaults("unit",e)}setCustomFieldConfig(e,t){return this._fieldConfig.defaults=hv(fv({},this._fieldConfig.defaults),{custom:(0,fe.merge)(this._fieldConfig.defaults.custom,{[e]:t})}),this}setOverrides(e){return e(this._overridesBuilder),this}setFieldConfigDefaults(e,t){return this._fieldConfig.defaults=hv(fv({},this._fieldConfig.defaults),{[e]:t}),this}build(){return{defaults:this._fieldConfig.defaults,overrides:this._overridesBuilder.build()}}}class gv{constructor(e){this.defaultOptions=e,this._options={},this.setDefaults()}setDefaults(){this._options=this.defaultOptions?(0,fe.cloneDeep)(this.defaultOptions()):{}}setOption(e,t){return this._options=(0,fe.merge)(this._options,{[e]:t}),this}build(){return this._options}}var bv=Object.defineProperty,vv=Object.defineProperties,yv=Object.getOwnPropertyDescriptors,wv=Object.getOwnPropertySymbols,Sv=Object.prototype.hasOwnProperty,Ev=Object.prototype.propertyIsEnumerable,Av=(e,t,n)=>t in e?bv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class xv{constructor(e,t,n,r){this._state={},this._state.title="",this._state.description="",this._state.displayMode="default",this._state.hoverHeader=!1,this._state.pluginId=e,this._state.pluginVersion=t,this._fieldConfigBuilder=new mv(r),this._panelOptionsBuilder=new gv(n)}setTitle(e){return this._state.title=e,this}setDescription(e){return this._state.description=e,this}setDisplayMode(e){return this._state.displayMode=e,this}setHoverHeader(e){return this._state.hoverHeader=e,this}setShowMenuAlways(e){return this._state.showMenuAlways=e,this}setMenu(e){return this._state.menu=e,this}setHeaderActions(e){return this._state.headerActions=e,this}setCollapsible(e){return this._state.collapsible=e,this}setCollapsed(e){return this._state.collapsed=e,this}setColor(e){return this._fieldConfigBuilder.setColor(e),this}setDecimals(e){return this._fieldConfigBuilder.setDecimals(e),this}setDisplayName(e){return this._fieldConfigBuilder.setDisplayName(e),this}setFilterable(e){return this._fieldConfigBuilder.setFilterable(e),this}setLinks(e){return this._fieldConfigBuilder.setLinks(e),this}setMappings(e){return this._fieldConfigBuilder.setMappings(e),this}setMax(e){return this._fieldConfigBuilder.setMax(e),this}setMin(e){return this._fieldConfigBuilder.setMin(e),this}setNoValue(e){return this._fieldConfigBuilder.setNoValue(e),this}setThresholds(e){return this._fieldConfigBuilder.setThresholds(e),this}setUnit(e){return this._fieldConfigBuilder.setUnit(e),this}setCustomFieldConfig(e,t){return this._fieldConfigBuilder.setCustomFieldConfig(e,t),this}setOverrides(e){return this._fieldConfigBuilder.setOverrides(e),this}setOption(e,t){return this._panelOptionsBuilder.setOption(e,t),this}setData(e){return this._state.$data=e,this}setTimeRange(e){return this._state.$timeRange=e,this}setVariables(e){return this._state.$variables=e,this}setBehaviors(e){return this._state.$behaviors=e,this}setSeriesLimit(e){return this._state.seriesLimit=e,this}applyMixin(e){return e(this),this}build(){const e=new dd((t=((e,t)=>{for(var n in t||(t={}))Sv.call(t,n)&&Av(e,n,t[n]);if(wv)for(var n of wv(t))Ev.call(t,n)&&Av(e,n,t[n]);return e})({},this._state),n={options:this._panelOptionsBuilder.build(),fieldConfig:this._fieldConfigBuilder.build()},vv(t,yv(n))));var t,n;return e}}const Cv={barchart:()=>new xv("barchart","10.0.0",(()=>jb),(()=>Fb)),bargauge:()=>new xv("bargauge","10.0.0",(()=>zb)),datagrid:()=>new xv("datagrid","10.0.0",(()=>Vb)),flamegraph:()=>new xv("flamegraph","10.0.0"),gauge:()=>new xv("gauge","10.0.0",(()=>$b)),geomap:()=>new xv("geomap","10.0.0",(()=>Ub)),heatmap:()=>new xv("heatmap","10.0.0",(()=>Wb)),histogram:()=>new xv("histogram","10.0.0",(()=>Hb),(()=>Gb)),logs:()=>new xv("logs","10.0.0"),news:()=>new xv("news","10.0.0",(()=>qb)),nodegraph:()=>new xv("nodeGraph","10.0.0"),piechart:()=>new xv("piechart","10.0.0",(()=>Yb)),stat:()=>new xv("stat","10.0.0",(()=>Xb)),statetimeline:()=>new xv("state-timeline","10.0.0",(()=>Qb),(()=>Zb)),statushistory:()=>new xv("status-history","10.0.0",(()=>Kb),(()=>Jb)),table:()=>new xv("table","10.0.0",(()=>ev)),text:()=>new xv("text","10.0.0",(()=>tv)),timeseries:()=>new xv("timeseries","10.0.0"),trend:()=>new xv("trend","10.0.0"),traces:()=>new xv("traces","10.0.0"),xychart:()=>new xv("xychart","10.0.0",(()=>rv),(()=>nv))};class Ov{constructor(e,t,n,r){this._pluginId=e,this._pluginVersion=t,this._fieldConfigBuilder=new mv(r),this._panelOptionsBuilder=new gv(n)}setColor(e){return this._fieldConfigBuilder.setColor(e),this}setDecimals(e){return this._fieldConfigBuilder.setDecimals(e),this}setDisplayName(e){return this._fieldConfigBuilder.setDisplayName(e),this}setFilterable(e){return this._fieldConfigBuilder.setFilterable(e),this}setLinks(e){return this._fieldConfigBuilder.setLinks(e),this}setMappings(e){return this._fieldConfigBuilder.setMappings(e),this}setMax(e){return this._fieldConfigBuilder.setMax(e),this}setMin(e){return this._fieldConfigBuilder.setMin(e),this}setNoValue(e){return this._fieldConfigBuilder.setNoValue(e),this}setThresholds(e){return this._fieldConfigBuilder.setThresholds(e),this}setUnit(e){return this._fieldConfigBuilder.setUnit(e),this}setCustomFieldConfig(e,t){return this._fieldConfigBuilder.setCustomFieldConfig(e,t),this}setOverrides(e){return this._fieldConfigBuilder.setOverrides(e),this}setOption(e,t){return this._panelOptionsBuilder.setOption(e,t),this}build(){return{pluginId:this._pluginId,pluginVersion:this._pluginVersion,options:this._panelOptionsBuilder.build(),fieldConfig:this._fieldConfigBuilder.build()}}}const Iv={barchart:()=>new Ov("barchart","10.0.0",(()=>jb),(()=>Fb)),bargauge:()=>new Ov("bargauge","10.0.0",(()=>zb)),datagrid:()=>new Ov("datagrid","10.0.0",(()=>Vb)),flamegraph:()=>new Ov("flamegraph","10.0.0"),gauge:()=>new Ov("gauge","10.0.0",(()=>$b)),geomap:()=>new Ov("geomap","10.0.0",(()=>Ub)),heatmap:()=>new Ov("heatmap","10.0.0",(()=>Wb)),histogram:()=>new Ov("histogram","10.0.0",(()=>Hb),(()=>Gb)),logs:()=>new Ov("logs","10.0.0"),news:()=>new Ov("news","10.0.0",(()=>qb)),nodegraph:()=>new Ov("nodeGraph","10.0.0"),piechart:()=>new Ov("piechart","10.0.0",(()=>Yb)),stat:()=>new Ov("stat","10.0.0",(()=>Xb)),statetimeline:()=>new Ov("state-timeline","10.0.0",(()=>Qb),(()=>Zb)),statushistory:()=>new Ov("status-history","10.0.0",(()=>Kb),(()=>Jb)),table:()=>new Ov("table","10.0.0",(()=>ev)),text:()=>new Ov("text","10.0.0",(()=>tv)),timeseries:()=>new Ov("timeseries","10.0.0"),trend:()=>new Ov("trend","10.0.0"),traces:()=>new Ov("traces","10.0.0"),xychart:()=>new Ov("xychart","10.0.0",(()=>rv),(()=>nv))},Rv={barchart:()=>new gv((()=>jb)),bargauge:()=>new gv((()=>zb)),datagrid:()=>new gv((()=>Vb)),flamegraph:()=>new gv,gauge:()=>new gv((()=>$b)),geomap:()=>new gv((()=>Ub)),heatmap:()=>new gv((()=>Wb)),histogram:()=>new gv((()=>Hb)),logs:()=>new gv,news:()=>new gv((()=>qb)),nodegraph:()=>new gv,piechart:()=>new gv((()=>Yb)),stat:()=>new gv((()=>Xb)),statetimeline:()=>new gv((()=>Qb)),statushistory:()=>new gv((()=>Kb)),table:()=>new gv((()=>ev)),text:()=>new gv((()=>tv)),timeseries:()=>new gv,trend:()=>new gv,traces:()=>new gv,xychart:()=>new gv((()=>rv))},Dv={barchart:()=>new mv((()=>Fb)),bargauge:()=>new mv,datagrid:()=>new mv,flamegraph:()=>new mv,gauge:()=>new mv,geomap:()=>new mv,heatmap:()=>new mv,histogram:()=>new mv((()=>Gb)),logs:()=>new mv,news:()=>new mv,nodegraph:()=>new mv,piechart:()=>new mv,stat:()=>new mv,statetimeline:()=>new mv((()=>Zb)),statushistory:()=>new mv((()=>Jb)),table:()=>new mv,text:()=>new mv,timeseries:()=>new mv,trend:()=>new mv,traces:()=>new mv,xychart:()=>new mv((()=>nv))},Pv={getUrlWithAppState:g,registerRuntimePanelPlugin:function({pluginId:e,plugin:t}){if(C.has(e))throw new Error(`A runtime panel plugin with id ${e} has already been registered`);var n;t.meta=(n=((e,t)=>{for(var n in t||(t={}))E.call(t,n)&&x(e,n,t[n]);if(S)for(var n of S(t))A.call(t,n)&&x(e,n,t[n]);return e})({},t.meta),y(n,w({id:e,name:e,module:"runtime plugin",baseUrl:"runtime plugin",info:{author:{name:"Runtime plugin "+e},description:"",links:[],logos:{large:"",small:""},screenshots:[],updated:"",version:""}}))),C.set(e,t)},registerRuntimeDataSource:pe,registerVariableMacro:function(e,t){if(qt.get(e))throw new Error(`Macro already registered ${e}`);return qt.set(e,t),()=>{qt.delete(e)}},cloneSceneObjectState:le,syncStateFromSearchParams:function(e,t){Qc(e,t,new qc)},getUrlState:Xc,renderPrometheusLabelFilters:Hl,escapeLabelValueInRegexSelector:ql,escapeLabelValueInExactSelector:Gl,escapeURLDelimiters:function(e){return Zl(Ql(e))},isAdHocVariable:function(e){return"adhoc"===e.state.type},isConstantVariable:function(e){return"constant"===e.state.type},isCustomVariable:function(e){return"custom"===e.state.type},isDataSourceVariable:function(e){return"datasource"===e.state.type},isIntervalVariable:function(e){return"interval"===e.state.type},isQueryVariable:function(e){return"query"===e.state.type},isTextBoxVariable:function(e){return"textbox"===e.state.type},isGroupByVariable:function(e){return"groupby"===e.state.type}}},5860:(e,t,n)=>{const r=n(7944);e.exports=(e,t,n=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!n)return null;throw e}}},5955:(e,t,n)=>{const r=n(7944);e.exports=(e,t,n,o,i)=>{"string"==typeof n&&(i=o,o=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,o,i).version}catch(e){return null}}},5959:e=>{"use strict";e.exports=r},5986:(e,t,n)=>{const r=n(7944);e.exports=(e,t)=>new r(e,t).minor},6005:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4942),o=n.n(r),i=n(278),a=n.n(i)()(o());a.push([e.id,".rc-slider {\n  position: relative;\n  width: 100%;\n  height: 14px;\n  padding: 5px 0;\n  border-radius: 6px;\n  touch-action: none;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-rail {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background-color: #e9e9e9;\n  border-radius: 6px;\n}\n.rc-slider-track,\n.rc-slider-tracks {\n  position: absolute;\n  height: 4px;\n  background-color: #abe2fb;\n  border-radius: 6px;\n}\n.rc-slider-track-draggable {\n  z-index: 1;\n  box-sizing: content-box;\n  background-clip: content-box;\n  border-top: 5px solid rgba(0, 0, 0, 0);\n  border-bottom: 5px solid rgba(0, 0, 0, 0);\n  transform: translateY(-5px);\n}\n.rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  width: 14px;\n  height: 14px;\n  margin-top: -5px;\n  background-color: #fff;\n  border: solid 2px #96dbfa;\n  border-radius: 50%;\n  cursor: pointer;\n  cursor: -webkit-grab;\n  cursor: grab;\n  opacity: 0.8;\n  touch-action: pan-x;\n}\n.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging {\n  border-color: #57c5f7;\n  box-shadow: 0 0 0 5px #96dbfa;\n}\n.rc-slider-handle:focus {\n  outline: none;\n  box-shadow: none;\n}\n.rc-slider-handle:focus-visible {\n  border-color: #2db7f5;\n  box-shadow: 0 0 0 3px #96dbfa;\n}\n.rc-slider-handle-click-focused:focus {\n  border-color: #96dbfa;\n  box-shadow: unset;\n}\n.rc-slider-handle:hover {\n  border-color: #57c5f7;\n}\n.rc-slider-handle:active {\n  border-color: #57c5f7;\n  box-shadow: 0 0 5px #57c5f7;\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n.rc-slider-mark {\n  position: absolute;\n  top: 18px;\n  left: 0;\n  width: 100%;\n  font-size: 12px;\n}\n.rc-slider-mark-text {\n  position: absolute;\n  display: inline-block;\n  color: #999;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.rc-slider-mark-text-active {\n  color: #666;\n}\n.rc-slider-step {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background: transparent;\n}\n.rc-slider-dot {\n  position: absolute;\n  bottom: -2px;\n  width: 8px;\n  height: 8px;\n  vertical-align: middle;\n  background-color: #fff;\n  border: 2px solid #e9e9e9;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.rc-slider-dot-active {\n  border-color: #96dbfa;\n}\n.rc-slider-dot-reverse {\n  margin-right: -4px;\n}\n.rc-slider-disabled {\n  background-color: #e9e9e9;\n}\n.rc-slider-disabled .rc-slider-track {\n  background-color: #ccc;\n}\n.rc-slider-disabled .rc-slider-handle,\n.rc-slider-disabled .rc-slider-dot {\n  background-color: #fff;\n  border-color: #ccc;\n  box-shadow: none;\n  cursor: not-allowed;\n}\n.rc-slider-disabled .rc-slider-mark-text,\n.rc-slider-disabled .rc-slider-dot {\n  cursor: not-allowed !important;\n}\n.rc-slider-vertical {\n  width: 14px;\n  height: 100%;\n  padding: 0 5px;\n}\n.rc-slider-vertical .rc-slider-rail {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-track {\n  bottom: 0;\n  left: 5px;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-track-draggable {\n  border-top: 0;\n  border-bottom: 0;\n  border-right: 5px solid rgba(0, 0, 0, 0);\n  border-left: 5px solid rgba(0, 0, 0, 0);\n  transform: translateX(-5px);\n}\n.rc-slider-vertical .rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  margin-top: 0;\n  margin-left: -5px;\n  touch-action: pan-y;\n}\n.rc-slider-vertical .rc-slider-mark {\n  top: 0;\n  left: 18px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-step {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-dot {\n  margin-left: -2px;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-leave {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,\n.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active {\n  animation-name: rcSliderTooltipZoomDownIn;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active {\n  animation-name: rcSliderTooltipZoomDownOut;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  transform: scale(0, 0);\n  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n}\n.rc-slider-tooltip-zoom-down-leave {\n  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n}\n@keyframes rcSliderTooltipZoomDownIn {\n  0% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n}\n@keyframes rcSliderTooltipZoomDownOut {\n  0% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n  100% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n}\n.rc-slider-tooltip {\n  position: absolute;\n  top: -9999px;\n  left: -9999px;\n  visibility: visible;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip-hidden {\n  display: none;\n}\n.rc-slider-tooltip-placement-top {\n  padding: 4px 0 8px 0;\n}\n.rc-slider-tooltip-inner {\n  min-width: 24px;\n  height: 24px;\n  padding: 6px 2px;\n  color: #fff;\n  font-size: 12px;\n  line-height: 1;\n  text-align: center;\n  text-decoration: none;\n  background-color: #6c6c6c;\n  border-radius: 6px;\n  box-shadow: 0 0 4px #d9d9d9;\n}\n.rc-slider-tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {\n  bottom: 4px;\n  left: 50%;\n  margin-left: -4px;\n  border-width: 4px 4px 0;\n  border-top-color: #6c6c6c;\n}\n","",{version:3,sources:["webpack://./../node_modules/@volkovlabs/components/node_modules/rc-slider/assets/index.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,WAAW;EACX,yBAAyB;EACzB,kBAAkB;AACpB;AACA;;EAEE,kBAAkB;EAClB,WAAW;EACX,yBAAyB;EACzB,kBAAkB;AACpB;AACA;EACE,UAAU;EACV,uBAAuB;EACvB,4BAA4B;EAC5B,sCAAsC;EACtC,yCAAyC;EACzC,2BAA2B;AAC7B;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,sBAAsB;EACtB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,oBAAoB;EACpB,YAAY;EACZ,YAAY;EACZ,mBAAmB;AACrB;AACA;EACE,qBAAqB;EACrB,6BAA6B;AAC/B;AACA;EACE,aAAa;EACb,gBAAgB;AAClB;AACA;EACE,qBAAqB;EACrB,6BAA6B;AAC/B;AACA;EACE,qBAAqB;EACrB,iBAAiB;AACnB;AACA;EACE,qBAAqB;AACvB;AACA;EACE,qBAAqB;EACrB,2BAA2B;EAC3B,wBAAwB;EACxB,gBAAgB;AAClB;AACA;EACE,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,WAAW;EACX,eAAe;AACjB;AACA;EACE,kBAAkB;EAClB,qBAAqB;EACrB,WAAW;EACX,kBAAkB;EAClB,sBAAsB;EACtB,eAAe;AACjB;AACA;EACE,WAAW;AACb;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,WAAW;EACX,uBAAuB;AACzB;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,UAAU;EACV,WAAW;EACX,sBAAsB;EACtB,sBAAsB;EACtB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;AACjB;AACA;EACE,qBAAqB;AACvB;AACA;EACE,kBAAkB;AACpB;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,sBAAsB;AACxB;AACA;;EAEE,sBAAsB;EACtB,kBAAkB;EAClB,gBAAgB;EAChB,mBAAmB;AACrB;AACA;;EAEE,8BAA8B;AAChC;AACA;EACE,WAAW;EACX,YAAY;EACZ,cAAc;AAChB;AACA;EACE,UAAU;EACV,YAAY;AACd;AACA;EACE,SAAS;EACT,SAAS;EACT,UAAU;AACZ;AACA;EACE,aAAa;EACb,gBAAgB;EAChB,wCAAwC;EACxC,uCAAuC;EACvC,2BAA2B;AAC7B;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,aAAa;EACb,iBAAiB;EACjB,mBAAmB;AACrB;AACA;EACE,MAAM;EACN,UAAU;EACV,YAAY;AACd;AACA;EACE,UAAU;EACV,YAAY;AACd;AACA;EACE,iBAAiB;AACnB;AACA;;EAEE,yBAAyB;EACzB,wBAAwB;EACxB,yBAAyB;EACzB,4BAA4B;AAC9B;AACA;EACE,yBAAyB;EACzB,wBAAwB;EACxB,yBAAyB;EACzB,4BAA4B;AAC9B;AACA;;EAEE,yCAAyC;EACzC,6BAA6B;AAC/B;AACA;EACE,0CAA0C;EAC1C,6BAA6B;AAC/B;AACA;;EAEE,sBAAsB;EACtB,yDAAyD;AAC3D;AACA;EACE,iEAAiE;AACnE;AACA;EACE;IACE,sBAAsB;IACtB,0BAA0B;IAC1B,UAAU;EACZ;EACA;IACE,sBAAsB;IACtB,0BAA0B;EAC5B;AACF;AACA;EACE;IACE,sBAAsB;IACtB,0BAA0B;EAC5B;EACA;IACE,sBAAsB;IACtB,0BAA0B;IAC1B,UAAU;EACZ;AACF;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,sBAAsB;EACtB,6CAA6C;AAC/C;AACA;EACE,aAAa;AACf;AACA;EACE,oBAAoB;AACtB;AACA;EACE,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,WAAW;EACX,eAAe;EACf,cAAc;EACd,kBAAkB;EAClB,qBAAqB;EACrB,yBAAyB;EACzB,kBAAkB;EAClB,2BAA2B;AAC7B;AACA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,yBAAyB;EACzB,mBAAmB;AACrB;AACA;EACE,WAAW;EACX,SAAS;EACT,iBAAiB;EACjB,uBAAuB;EACvB,yBAAyB;AAC3B",sourcesContent:[".rc-slider {\n  position: relative;\n  width: 100%;\n  height: 14px;\n  padding: 5px 0;\n  border-radius: 6px;\n  touch-action: none;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-rail {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background-color: #e9e9e9;\n  border-radius: 6px;\n}\n.rc-slider-track,\n.rc-slider-tracks {\n  position: absolute;\n  height: 4px;\n  background-color: #abe2fb;\n  border-radius: 6px;\n}\n.rc-slider-track-draggable {\n  z-index: 1;\n  box-sizing: content-box;\n  background-clip: content-box;\n  border-top: 5px solid rgba(0, 0, 0, 0);\n  border-bottom: 5px solid rgba(0, 0, 0, 0);\n  transform: translateY(-5px);\n}\n.rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  width: 14px;\n  height: 14px;\n  margin-top: -5px;\n  background-color: #fff;\n  border: solid 2px #96dbfa;\n  border-radius: 50%;\n  cursor: pointer;\n  cursor: -webkit-grab;\n  cursor: grab;\n  opacity: 0.8;\n  touch-action: pan-x;\n}\n.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging {\n  border-color: #57c5f7;\n  box-shadow: 0 0 0 5px #96dbfa;\n}\n.rc-slider-handle:focus {\n  outline: none;\n  box-shadow: none;\n}\n.rc-slider-handle:focus-visible {\n  border-color: #2db7f5;\n  box-shadow: 0 0 0 3px #96dbfa;\n}\n.rc-slider-handle-click-focused:focus {\n  border-color: #96dbfa;\n  box-shadow: unset;\n}\n.rc-slider-handle:hover {\n  border-color: #57c5f7;\n}\n.rc-slider-handle:active {\n  border-color: #57c5f7;\n  box-shadow: 0 0 5px #57c5f7;\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n.rc-slider-mark {\n  position: absolute;\n  top: 18px;\n  left: 0;\n  width: 100%;\n  font-size: 12px;\n}\n.rc-slider-mark-text {\n  position: absolute;\n  display: inline-block;\n  color: #999;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.rc-slider-mark-text-active {\n  color: #666;\n}\n.rc-slider-step {\n  position: absolute;\n  width: 100%;\n  height: 4px;\n  background: transparent;\n}\n.rc-slider-dot {\n  position: absolute;\n  bottom: -2px;\n  width: 8px;\n  height: 8px;\n  vertical-align: middle;\n  background-color: #fff;\n  border: 2px solid #e9e9e9;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.rc-slider-dot-active {\n  border-color: #96dbfa;\n}\n.rc-slider-dot-reverse {\n  margin-right: -4px;\n}\n.rc-slider-disabled {\n  background-color: #e9e9e9;\n}\n.rc-slider-disabled .rc-slider-track {\n  background-color: #ccc;\n}\n.rc-slider-disabled .rc-slider-handle,\n.rc-slider-disabled .rc-slider-dot {\n  background-color: #fff;\n  border-color: #ccc;\n  box-shadow: none;\n  cursor: not-allowed;\n}\n.rc-slider-disabled .rc-slider-mark-text,\n.rc-slider-disabled .rc-slider-dot {\n  cursor: not-allowed !important;\n}\n.rc-slider-vertical {\n  width: 14px;\n  height: 100%;\n  padding: 0 5px;\n}\n.rc-slider-vertical .rc-slider-rail {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-track {\n  bottom: 0;\n  left: 5px;\n  width: 4px;\n}\n.rc-slider-vertical .rc-slider-track-draggable {\n  border-top: 0;\n  border-bottom: 0;\n  border-right: 5px solid rgba(0, 0, 0, 0);\n  border-left: 5px solid rgba(0, 0, 0, 0);\n  transform: translateX(-5px);\n}\n.rc-slider-vertical .rc-slider-handle {\n  position: absolute;\n  z-index: 1;\n  margin-top: 0;\n  margin-left: -5px;\n  touch-action: pan-y;\n}\n.rc-slider-vertical .rc-slider-mark {\n  top: 0;\n  left: 18px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-step {\n  width: 4px;\n  height: 100%;\n}\n.rc-slider-vertical .rc-slider-dot {\n  margin-left: -2px;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-leave {\n  display: block !important;\n  animation-duration: 0.3s;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,\n.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active {\n  animation-name: rcSliderTooltipZoomDownIn;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active {\n  animation-name: rcSliderTooltipZoomDownOut;\n  animation-play-state: running;\n}\n.rc-slider-tooltip-zoom-down-enter,\n.rc-slider-tooltip-zoom-down-appear {\n  transform: scale(0, 0);\n  animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n}\n.rc-slider-tooltip-zoom-down-leave {\n  animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n}\n@keyframes rcSliderTooltipZoomDownIn {\n  0% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n}\n@keyframes rcSliderTooltipZoomDownOut {\n  0% {\n    transform: scale(1, 1);\n    transform-origin: 50% 100%;\n  }\n  100% {\n    transform: scale(0, 0);\n    transform-origin: 50% 100%;\n    opacity: 0;\n  }\n}\n.rc-slider-tooltip {\n  position: absolute;\n  top: -9999px;\n  left: -9999px;\n  visibility: visible;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip * {\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.rc-slider-tooltip-hidden {\n  display: none;\n}\n.rc-slider-tooltip-placement-top {\n  padding: 4px 0 8px 0;\n}\n.rc-slider-tooltip-inner {\n  min-width: 24px;\n  height: 24px;\n  padding: 6px 2px;\n  color: #fff;\n  font-size: 12px;\n  line-height: 1;\n  text-align: center;\n  text-decoration: none;\n  background-color: #6c6c6c;\n  border-radius: 6px;\n  box-shadow: 0 0 4px #d9d9d9;\n}\n.rc-slider-tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {\n  bottom: 4px;\n  left: 50%;\n  margin-left: -4px;\n  border-width: 4px 4px 0;\n  border-top-color: #6c6c6c;\n}\n"],sourceRoot:""}]);const s=a},6033:(e,t,n)=>{const r=n(2801);e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))},6089:e=>{"use strict";e.exports=t},6333:(e,t,n)=>{"use strict";t.__esModule=!0,t.resizableProps=void 0;var r,o=(r=n(2688))&&r.__esModule?r:{default:r};n(8230);var i={axis:o.default.oneOf(["both","x","y","none"]),className:o.default.string,children:o.default.element.isRequired,draggableOpts:o.default.shape({allowAnyClick:o.default.bool,cancel:o.default.string,children:o.default.node,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:o.default.node,grid:o.default.arrayOf(o.default.number),handle:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number}),height:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return"both"===i.axis||"y"===i.axis?(r=o.default.number).isRequired.apply(r,t):o.default.number.apply(o.default,t)},handle:o.default.oneOfType([o.default.node,o.default.func]),handleSize:o.default.arrayOf(o.default.number),lockAspectRatio:o.default.bool,maxConstraints:o.default.arrayOf(o.default.number),minConstraints:o.default.arrayOf(o.default.number),onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,resizeHandles:o.default.arrayOf(o.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:o.default.number,width:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return"both"===i.axis||"x"===i.axis?(r=o.default.number).isRequired.apply(r,t):o.default.number.apply(o.default,t)}};t.resizableProps=i},6438:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7451);function o(e,t){if(e){if("string"==typeof e)return(0,r.A)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.A)(e,t):void 0}}},6441:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6609:(e,t,n)=>{"use strict";t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(5959)),o=l(n(2688)),i=l(n(1794)),a=n(6333),s=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var m=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height},t.onResize=function(e,n){var r=n.size;t.props.onResize?(null==e.persist||e.persist(),t.setState(r,(function(){return t.props.onResize&&t.props.onResize(e,n)}))):t.setState(r)},t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n),o.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},o.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,o=(e.onResize,e.onResizeStart),a=e.onResizeStop,l=e.draggableOpts,c=e.minConstraints,d=e.maxConstraints,f=e.lockAspectRatio,h=e.axis,m=(e.width,e.height,e.resizeHandles),g=e.style,b=e.transformScale,v=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,s);return r.createElement(i.default,{axis:h,draggableOpts:l,handle:t,handleSize:n,height:this.state.height,lockAspectRatio:f,maxConstraints:d,minConstraints:c,onResizeStart:o,onResize:this.onResize,onResizeStop:a,resizeHandles:m,transformScale:b,width:this.state.width},r.createElement("div",u({},v,{style:p(p({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},o}(r.Component);t.default=m,m.propTypes=p(p({},a.resizableProps),{},{children:o.default.element})},6732:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},6805:(e,t,n)=>{"use strict";t.default=function(e){var t;return t=class extends r.Component{constructor(){super(...arguments),u(this,"state",{width:1280}),u(this,"elementRef",r.createRef()),u(this,"mounted",!1),u(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new i.default((e=>{if(this.elementRef.current instanceof HTMLElement){const t=e[0].contentRect.width;this.setState({width:t})}}));const e=this.elementRef.current;e instanceof HTMLElement&&this.resizeObserver.observe(e)}componentWillUnmount(){this.mounted=!1;const e=this.elementRef.current;e instanceof HTMLElement&&this.resizeObserver.unobserve(e),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:t,...n}=this.props;return t&&!this.mounted?r.createElement("div",{className:(0,a.default)(this.props.className,d),style:this.props.style,ref:this.elementRef}):r.createElement(e,c({innerRef:this.elementRef},n,this.state))}},u(t,"defaultProps",{measureBeforeMount:!1}),u(t,"propTypes",{measureBeforeMount:o.default.bool}),t};var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(5959)),o=s(n(2688)),i=s(n(883)),a=s(n(8784));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d="react-grid-layout"},6850:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:i}=n(9630),a=n(9796),s=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.safeSrc=[],d=t.t={};let p=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,o]],m=(e,t,n)=>{const r=(e=>{for(const[t,n]of h)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),o=p++;a(e,o,t),d[e]=o,c[o]=t,u[o]=r,s[o]=new RegExp(t,n?"g":void 0),l[o]=new RegExp(r,n?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),m("MAINVERSION",`(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${c[d.NUMERICIDENTIFIER]}|${c[d.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${c[d.NUMERICIDENTIFIERLOOSE]}|${c[d.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${c[d.PRERELEASEIDENTIFIER]}(?:\\.${c[d.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${c[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[d.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${f}+`),m("BUILD",`(?:\\+(${c[d.BUILDIDENTIFIER]}(?:\\.${c[d.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${c[d.MAINVERSION]}${c[d.PRERELEASE]}?${c[d.BUILD]}?`),m("FULL",`^${c[d.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${c[d.MAINVERSIONLOOSE]}${c[d.PRERELEASELOOSE]}?${c[d.BUILD]}?`),m("LOOSE",`^${c[d.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${c[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${c[d.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:${c[d.PRERELEASE]})?${c[d.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:${c[d.PRERELEASELOOSE]})?${c[d.BUILD]}?)?)?`),m("XRANGE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),m("COERCE",`${c[d.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",c[d.COERCEPLAIN]+`(?:${c[d.PRERELEASE]})?`+`(?:${c[d.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",c[d.COERCE],!0),m("COERCERTLFULL",c[d.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${c[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${c[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${c[d.LONECARET]}${c[d.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${c[d.LONECARET]}${c[d.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${c[d.GTLT]}\\s*(${c[d.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]}|${c[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${c[d.XRANGEPLAIN]})\\s+-\\s+(${c[d.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${c[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[d.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},6884:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},6909:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>0===r(e,t,n)},7023:(e,t,n)=>{const r=n(5380);e.exports=(e,t)=>r(e,t,!0)},7092:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>r(e,t,n)<=0},7095:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},7222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resizeHandleType=t.resizeHandleAxesType=t.default=void 0;var r=i(n(2688)),o=i(n(5959));function i(e){return e&&e.__esModule?e:{default:e}}const a=t.resizeHandleAxesType=r.default.arrayOf(r.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),s=t.resizeHandleType=r.default.oneOfType([r.default.node,r.default.func]);t.default={className:r.default.string,style:r.default.object,width:r.default.number,autoSize:r.default.bool,cols:r.default.number,draggableCancel:r.default.string,draggableHandle:r.default.string,verticalCompact:function(e){e.verticalCompact},compactType:r.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&n(414).validateLayout(t,"layout")},margin:r.default.arrayOf(r.default.number),containerPadding:r.default.arrayOf(r.default.number),rowHeight:r.default.number,maxRows:r.default.number,isBounded:r.default.bool,isDraggable:r.default.bool,isResizable:r.default.bool,allowOverlap:r.default.bool,preventCollision:r.default.bool,useCSSTransforms:r.default.bool,transformScale:r.default.number,isDroppable:r.default.bool,resizeHandles:a,resizeHandle:s,onLayoutChange:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onDragStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,onResizeStop:r.default.func,onDrop:r.default.func,droppingItem:r.default.shape({i:r.default.string.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired}),children:function(e,t){const n=e[t],r={};o.default.Children.forEach(n,(function(e){if(null!=e?.key){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}}))},innerRef:r.default.any}},7322:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],l=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,l)),u=0,d=l>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,c=r-o;s<c;s+=a)i.push(l(e,s,s+a>c?c:s+a));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},7350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const r=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!r)return"";if(t in r)return"";for(let e=0;e<n.length;e++)if(o(t,n[e])in r)return n[e];return""}function o(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}t.default=r()},7405:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(1705);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},7434:e=>{e.exports=function(e,t,n){return e===t||e.className===t.className&&n(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&n(e.verticalCompact,t.verticalCompact)&&n(e.compactType,t.compactType)&&n(e.layout,t.layout)&&n(e.margin,t.margin)&&n(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&n(e.resizeHandles,t.resizeHandles)&&n(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&n(e.droppingItem,t.droppingItem)&&n(e.innerRef,t.innerRef)}},7451:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{A:()=>r})},7494:(e,t,n)=>{const r=n(8395);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},7645:(e,t,n)=>{const r=n(5860);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},7659:(e,t,n)=>{const r=n(5380);e.exports=(e,t,n)=>0!==r(e,t,n)},7694:e=>{"use strict";e.exports=u},7767:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(7405),o=n(1705),i=n(4300),a=n(7850),s=n(694),l=n(4452),c=n.n(l),u=n(9273),d=n(4358);var p=n(5959),f=n(8102),h=n(9644);function m(e,t,n){return(e-t)/(n-t)}function g(e,t,n,r){var o=m(t,n,r),i={};switch(e){case"rtl":i.right="".concat(100*o,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(100*o,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(100*o,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(100*o,"%"),i.transform="translateX(-50%)"}return i}function b(e,t){return Array.isArray(e)?e[t]:e}var v={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=v.F1&&t<=v.F12)return!1;switch(t){case v.ALT:case v.CAPS_LOCK:case v.CONTEXT_MENU:case v.CTRL:case v.DOWN:case v.END:case v.ESC:case v.HOME:case v.INSERT:case v.LEFT:case v.MAC_FF_META:case v.META:case v.NUMLOCK:case v.NUM_CENTER:case v.PAGE_DOWN:case v.PAGE_UP:case v.PAUSE:case v.PRINT_SCREEN:case v.RIGHT:case v.SHIFT:case v.UP:case v.WIN_KEY:case v.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=v.ZERO&&e<=v.NINE)return!0;if(e>=v.NUM_ZERO&&e<=v.NUM_MULTIPLY)return!0;if(e>=v.A&&e<=v.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case v.SPACE:case v.QUESTION_MARK:case v.NUM_PLUS:case v.NUM_MINUS:case v.NUM_PERIOD:case v.NUM_DIVISION:case v.SEMICOLON:case v.DASH:case v.EQUALS:case v.COMMA:case v.PERIOD:case v.SLASH:case v.APOSTROPHE:case v.SINGLE_QUOTE:case v.OPEN_SQUARE_BRACKET:case v.BACKSLASH:case v.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const y=v,w=p.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});var S=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"];const E=p.forwardRef((function(e,t){var n,i=e.prefixCls,a=e.value,s=e.valueIndex,l=e.onStartMove,u=e.style,d=e.render,m=e.dragging,v=e.onOffsetChange,E=e.onChangeComplete,A=e.onFocus,x=e.onMouseEnter,C=(0,h.A)(e,S),O=p.useContext(w),I=O.min,R=O.max,D=O.direction,P=O.disabled,T=O.keyboard,_=O.range,k=O.tabIndex,B=O.ariaLabelForHandle,M=O.ariaLabelledByForHandle,L=O.ariaValueTextFormatterForHandle,N=O.styles,j=O.classNames,F="".concat(i,"-handle"),z=function(e){P||l(e,s)},V=g(D,a,I,R),$={};null!==s&&($={tabIndex:P?null:b(k,s),role:"slider","aria-valuemin":I,"aria-valuemax":R,"aria-valuenow":a,"aria-disabled":P,"aria-label":b(B,s),"aria-labelledby":b(M,s),"aria-valuetext":null===(n=b(L,s))||void 0===n?void 0:n(a),"aria-orientation":"ltr"===D||"rtl"===D?"horizontal":"vertical",onMouseDown:z,onTouchStart:z,onFocus:function(e){null==A||A(e,s)},onMouseEnter:function(e){x(e,s)},onKeyDown:function(e){if(!P&&T){var t=null;switch(e.which||e.keyCode){case y.LEFT:t="ltr"===D||"btt"===D?-1:1;break;case y.RIGHT:t="ltr"===D||"btt"===D?1:-1;break;case y.UP:t="ttb"!==D?1:-1;break;case y.DOWN:t="ttb"!==D?-1:1;break;case y.HOME:t="min";break;case y.END:t="max";break;case y.PAGE_UP:t=2;break;case y.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),v(t,s))}},onKeyUp:function(e){switch(e.which||e.keyCode){case y.LEFT:case y.RIGHT:case y.UP:case y.DOWN:case y.HOME:case y.END:case y.PAGE_UP:case y.PAGE_DOWN:null==E||E()}}});var U=p.createElement("div",(0,f.A)({ref:t,className:c()(F,(0,o.A)((0,o.A)({},"".concat(F,"-").concat(s+1),null!==s&&_),"".concat(F,"-dragging"),m),j.handle),style:(0,r.A)((0,r.A)((0,r.A)({},V),u),N.handle)},$,C));return d&&(U=d(U,{index:s,prefixCls:i,value:a,dragging:m})),U}));var A=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","onFocus"];const x=p.forwardRef((function(e,t){var n=e.prefixCls,o=e.style,i=e.onStartMove,s=e.onOffsetChange,l=e.values,c=e.handleRender,u=e.activeHandleRender,d=e.draggingIndex,m=e.onFocus,g=(0,h.A)(e,A),v=p.useRef({});p.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=v.current[e])||void 0===t||t.focus()}}}));var y=p.useState(-1),w=(0,a.A)(y,2),S=w[0],x=w[1],C=(0,r.A)({prefixCls:n,onStartMove:i,onOffsetChange:s,render:c,onFocus:function(e,t){x(t),null==m||m(e)},onMouseEnter:function(e,t){x(t)}},g);return p.createElement(p.Fragment,null,l.map((function(e,t){return p.createElement(E,(0,f.A)({ref:function(e){e?v.current[t]=e:delete v.current[t]},dragging:d===t,style:b(o,t),key:t,value:e,valueIndex:t},C))})),u&&p.createElement(E,(0,f.A)({key:"a11y"},C,{value:l[S],valueIndex:null,dragging:-1!==d,render:u,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))})),C=function(e){var t=e.prefixCls,n=e.style,i=e.children,a=e.value,s=e.onClick,l=p.useContext(w),u=l.min,d=l.max,f=l.direction,h=l.includedStart,m=l.includedEnd,b=l.included,v="".concat(t,"-text"),y=g(f,a,u,d);return p.createElement("span",{className:c()(v,(0,o.A)({},"".concat(v,"-active"),b&&h<=a&&a<=m)),style:(0,r.A)((0,r.A)({},y),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){s(a)}},i)},O=function(e){var t=e.prefixCls,n=e.marks,r=e.onClick,o="".concat(t,"-mark");return n.length?p.createElement("div",{className:o},n.map((function(e){var t=e.value,n=e.style,i=e.label;return p.createElement(C,{key:t,prefixCls:o,style:n,value:t,onClick:r},i)}))):null},I=function(e){var t=e.prefixCls,n=e.value,i=e.style,a=e.activeStyle,s=p.useContext(w),l=s.min,u=s.max,d=s.direction,f=s.included,h=s.includedStart,m=s.includedEnd,b="".concat(t,"-dot"),v=f&&h<=n&&n<=m,y=(0,r.A)((0,r.A)({},g(d,n,l,u)),"function"==typeof i?i(n):i);return v&&(y=(0,r.A)((0,r.A)({},y),"function"==typeof a?a(n):a)),p.createElement("span",{className:c()(b,(0,o.A)({},"".concat(b,"-active"),v)),style:y})},R=function(e){var t=e.prefixCls,n=e.marks,r=e.dots,o=e.style,i=e.activeStyle,a=p.useContext(w),s=a.min,l=a.max,c=a.step,u=p.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),r&&null!==c)for(var t=s;t<=l;)e.add(t),t+=c;return Array.from(e)}),[s,l,c,r,n]);return p.createElement("div",{className:"".concat(t,"-step")},u.map((function(e){return p.createElement(I,{prefixCls:t,key:e,value:e,style:o,activeStyle:i})})))},D=function(e){var t=e.prefixCls,n=e.style,i=e.start,a=e.end,s=e.index,l=e.onStartMove,u=e.replaceCls,d=p.useContext(w),f=d.direction,h=d.min,g=d.max,b=d.disabled,v=d.range,y=d.classNames,S="".concat(t,"-track"),E=m(i,h,g),A=m(a,h,g),x=function(e){!b&&l&&l(e,-1)},C={};switch(f){case"rtl":C.right="".concat(100*E,"%"),C.width="".concat(100*A-100*E,"%");break;case"btt":C.bottom="".concat(100*E,"%"),C.height="".concat(100*A-100*E,"%");break;case"ttb":C.top="".concat(100*E,"%"),C.height="".concat(100*A-100*E,"%");break;default:C.left="".concat(100*E,"%"),C.width="".concat(100*A-100*E,"%")}var O=u||c()(S,(0,o.A)((0,o.A)({},"".concat(S,"-").concat(s+1),null!==s&&v),"".concat(t,"-track-draggable"),l),y.track);return p.createElement("div",{className:O,style:(0,r.A)((0,r.A)({},C),n),onMouseDown:x,onTouchStart:x})},P=function(e){var t=e.prefixCls,n=e.style,o=e.values,i=e.startPoint,a=e.onStartMove,s=p.useContext(w),l=s.included,u=s.range,d=s.min,f=s.styles,h=s.classNames,m=p.useMemo((function(){if(!u){if(0===o.length)return[];var e=null!=i?i:d,t=o[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],r=0;r<o.length-1;r+=1)n.push({start:o[r],end:o[r+1]});return n}),[o,u,i,d]);if(!l)return null;var g=h.tracks||f.tracks?p.createElement(D,{index:null,prefixCls:t,start:m[0].start,end:m[m.length-1].end,replaceCls:c()(h.tracks,"".concat(t,"-tracks")),style:f.tracks}):null;return p.createElement(p.Fragment,null,g,m.map((function(e,o){var i=e.start,s=e.end;return p.createElement(D,{index:o,prefixCls:t,style:(0,r.A)((0,r.A)({},b(n,o)),f.track),start:i,end:s,key:o,onStartMove:a})})))};var T=n(291);function _(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}const k=p.forwardRef((function(e,t){var n=e.prefixCls,l=void 0===n?"rc-slider":n,f=e.className,h=e.style,m=e.classNames,g=e.styles,b=e.disabled,v=void 0!==b&&b,y=e.keyboard,S=void 0===y||y,E=e.autoFocus,A=e.onFocus,C=e.onBlur,I=e.min,D=void 0===I?0:I,k=e.max,B=void 0===k?100:k,M=e.step,L=void 0===M?1:M,N=e.value,j=e.defaultValue,F=e.range,z=e.count,V=e.onChange,$=e.onBeforeChange,U=e.onAfterChange,W=e.onChangeComplete,H=e.allowCross,G=void 0===H||H,q=e.pushable,Y=void 0!==q&&q,X=e.draggableTrack,Q=e.reverse,Z=e.vertical,K=e.included,J=void 0===K||K,ee=e.startPoint,te=e.trackStyle,ne=e.handleStyle,re=e.railStyle,oe=e.dotStyle,ie=e.activeDotStyle,ae=e.marks,se=e.dots,le=e.handleRender,ce=e.activeHandleRender,ue=e.tabIndex,de=void 0===ue?0:ue,pe=e.ariaLabelForHandle,fe=e.ariaLabelledByForHandle,he=e.ariaValueTextFormatterForHandle,me=p.useRef(null),ge=p.useRef(null),be=p.useMemo((function(){return Z?Q?"ttb":"btt":Q?"rtl":"ltr"}),[Q,Z]),ve=p.useMemo((function(){return isFinite(D)?D:0}),[D]),ye=p.useMemo((function(){return isFinite(B)?B:100}),[B]),we=p.useMemo((function(){return null!==L&&L<=0?1:L}),[L]),Se=p.useMemo((function(){return"boolean"==typeof Y?!!Y&&we:Y>=0&&Y}),[Y,we]),Ee=p.useMemo((function(){return Object.keys(ae||{}).map((function(e){var t=ae[e],n={value:Number(e)};return t&&"object"===(0,s.A)(t)&&!p.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((function(e){var t=e.label;return t||"number"==typeof t})).sort((function(e,t){return e.value-t.value}))}),[ae]),Ae=function(e,t,n,r,o,a){var s=p.useCallback((function(n){return Math.max(e,Math.min(t,n))}),[e,t]),l=p.useCallback((function(r){if(null!==n){var o=e+Math.round((s(r)-e)/n)*n,i=function(e){return(String(e).split(".")[1]||"").length},a=Math.max(i(n),i(t),i(e)),l=Number(o.toFixed(a));return e<=l&&l<=t?l:null}return null}),[n,e,t,s]),c=p.useCallback((function(o){var i=s(o),a=r.map((function(e){return e.value}));null!==n&&a.push(l(o)),a.push(e,t);var c=a[0],u=t-e;return a.forEach((function(e){var t=Math.abs(i-e);t<=u&&(c=e,u=t)})),c}),[e,t,r,n,s,l]),u=function o(a,s,c){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"==typeof s){var d,p=a[c],f=p+s,h=[];r.forEach((function(e){h.push(e.value)})),h.push(e,t),h.push(l(p));var m=s>0?1:-1;"unit"===u?h.push(l(p+m*n)):h.push(l(f)),h=h.filter((function(e){return null!==e})).filter((function(e){return s<0?e<=p:e>=p})),"unit"===u&&(h=h.filter((function(e){return e!==p})));var g="unit"===u?p:f;d=h[0];var b=Math.abs(d-g);if(h.forEach((function(e){var t=Math.abs(e-g);t<b&&(d=e,b=t)})),void 0===d)return s<0?e:t;if("dist"===u)return d;if(Math.abs(s)>1){var v=(0,i.A)(a);return v[c]=d,o(v,s-m,c,u)}return d}return"min"===s?e:"max"===s?t:void 0},d=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e[n],i=u(e,t,n,r);return{value:i,changed:i!==o}},f=function(e){return null===a&&0===e||"number"==typeof a&&e<a};return[c,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",i=e.map(c),s=i[n],l=u(i,t,n,r);if(i[n]=l,!1===o){var p=a||0;n>0&&i[n-1]!==s&&(i[n]=Math.max(i[n],i[n-1]+p)),n<i.length-1&&i[n+1]!==s&&(i[n]=Math.min(i[n],i[n+1]-p))}else if("number"==typeof a||null===a){for(var h=n+1;h<i.length;h+=1)for(var m=!0;f(i[h]-i[h-1])&&m;){var g=d(i,1,h);i[h]=g.value,m=g.changed}for(var b=n;b>0;b-=1)for(var v=!0;f(i[b]-i[b-1])&&v;){var y=d(i,-1,b-1);i[b-1]=y.value,v=y.changed}for(var w=i.length-1;w>0;w-=1)for(var S=!0;f(i[w]-i[w-1])&&S;){var E=d(i,-1,w-1);i[w-1]=E.value,S=E.changed}for(var A=0;A<i.length-1;A+=1)for(var x=!0;f(i[A+1]-i[A])&&x;){var C=d(i,1,A+1);i[A+1]=C.value,x=C.changed}}return{value:i[n],values:i}}]}(ve,ye,we,Ee,G,Se),xe=(0,a.A)(Ae,2),Ce=xe[0],Oe=xe[1],Ie=(0,u.A)(j,{value:N}),Re=(0,a.A)(Ie,2),De=Re[0],Pe=Re[1],Te=p.useMemo((function(){var e=null==De?[]:Array.isArray(De)?De:[De],t=(0,a.A)(e,1)[0],n=null===De?[]:[void 0===t?ve:t];if(F){if(n=(0,i.A)(e),z||void 0===De){var r=z>=0?z+1:2;for(n=n.slice(0,r);n.length<r;){var o;n.push(null!==(o=n[n.length-1])&&void 0!==o?o:ve)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=Ce(e)})),n}),[De,F,ve,z,Ce]),_e=p.useRef(Te);_e.current=Te;var ke=function(e){return F?e:e[0]},Be=function(e){var t=(0,i.A)(e).sort((function(e,t){return e-t}));V&&!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=r.has(t);if((0,d.Ay)(!a,"Warning: There may be circular references"),a)return!1;if(t===o)return!0;if(n&&i>1)return!1;r.add(t);var l=i+1;if(Array.isArray(t)){if(!Array.isArray(o)||t.length!==o.length)return!1;for(var c=0;c<t.length;c++)if(!e(t[c],o[c],l))return!1;return!0}if(t&&o&&"object"===(0,s.A)(t)&&"object"===(0,s.A)(o)){var u=Object.keys(t);return u.length===Object.keys(o).length&&u.every((function(n){return e(t[n],o[n],l)}))}return!1}(e,t)}(t,_e.current,!0)&&V(ke(t)),Pe(t)},Me=function(){var e=ke(_e.current);null==U||U(e),(0,d.Ay)(!U,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==W||W(e)},Le=function(e,t,n,r,o,s,l,c,u){var d=p.useState(null),f=(0,a.A)(d,2),h=f[0],m=f[1],g=p.useState(-1),b=(0,a.A)(g,2),v=b[0],y=b[1],w=p.useState(n),S=(0,a.A)(w,2),E=S[0],A=S[1],x=p.useState(n),C=(0,a.A)(x,2),O=C[0],I=C[1],R=p.useRef(null),D=p.useRef(null);p.useLayoutEffect((function(){-1===v&&A(n)}),[n,v]),p.useEffect((function(){return function(){document.removeEventListener("mousemove",R.current),document.removeEventListener("mouseup",D.current),document.removeEventListener("touchmove",R.current),document.removeEventListener("touchend",D.current)}}),[]);var P=function(e,t){E.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&m(t),A(e),l(e))},k=(0,T._q)((function(e,t){if(-1===e){var n=O[0],a=O[O.length-1],l=r-n,c=o-a,d=t*(o-r);d=Math.max(d,l),d=Math.min(d,c);var p=s(n+d);d=p-n;var f=O.map((function(e){return e+d}));P(f)}else{var h=(o-r)*t,m=(0,i.A)(E);m[e]=O[e];var g=u(m,h,e,"dist");P(g.values,g.value)}})),B=p.useMemo((function(){var e=(0,i.A)(n).sort((function(e,t){return e-t})),t=(0,i.A)(E).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?E:n}),[n,E]);return[v,h,B,function(r,o,i){r.stopPropagation();var a=i||n,s=a[o];y(o),m(s),I(a);var l=_(r),u=l.pageX,d=l.pageY,p=function(n){n.preventDefault();var r,i=_(n),a=i.pageX,s=i.pageY,l=a-u,c=s-d,p=e.current.getBoundingClientRect(),f=p.width,h=p.height;switch(t){case"btt":r=-c/h;break;case"ttb":r=c/h;break;case"rtl":r=-l/f;break;default:r=l/f}k(o,r)},f=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",p),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",p),R.current=null,D.current=null,y(-1),c()};document.addEventListener("mouseup",f),document.addEventListener("mousemove",p),document.addEventListener("touchend",f),document.addEventListener("touchmove",p),R.current=p,D.current=f}]}(ge,be,Te,ve,ye,Ce,Be,Me,Oe),Ne=(0,a.A)(Le,4),je=Ne[0],Fe=Ne[1],ze=Ne[2],Ve=Ne[3],$e=function(e,t){if(!v){var n=0,r=ye-ve;Te.forEach((function(t,o){var i=Math.abs(e-t);i<=r&&(r=i,n=o)}));var o,a,s=(0,i.A)(Te);s[n]=e,F&&!Te.length&&void 0===z&&s.push(e),null==$||$(ke(s)),Be(s),t&&(null===(o=document.activeElement)||void 0===o||null===(a=o.blur)||void 0===a||a.call(o),me.current.focus(n),Ve(t,n,s))}},Ue=p.useState(null),We=(0,a.A)(Ue,2),He=We[0],Ge=We[1];p.useEffect((function(){if(null!==He){var e=Te.indexOf(He);e>=0&&me.current.focus(e)}Ge(null)}),[He]);var qe=p.useMemo((function(){return(!X||null!==we)&&X}),[X,we]),Ye=function(e,t){Ve(e,t),null==$||$(ke(_e.current))},Xe=-1!==je;p.useEffect((function(){if(!Xe){var e=Te.lastIndexOf(Fe);me.current.focus(e)}}),[Xe]);var Qe=p.useMemo((function(){return(0,i.A)(ze).sort((function(e,t){return e-t}))}),[ze]),Ze=p.useMemo((function(){return F?[Qe[0],Qe[Qe.length-1]]:[ve,Qe[0]]}),[Qe,F,ve]),Ke=(0,a.A)(Ze,2),Je=Ke[0],et=Ke[1];p.useImperativeHandle(t,(function(){return{focus:function(){me.current.focus(0)},blur:function(){var e,t=document.activeElement;null!==(e=ge.current)&&void 0!==e&&e.contains(t)&&(null==t||t.blur())}}})),p.useEffect((function(){E&&me.current.focus(0)}),[]);var tt=p.useMemo((function(){return{min:ve,max:ye,direction:be,disabled:v,keyboard:S,step:we,included:J,includedStart:Je,includedEnd:et,range:F,tabIndex:de,ariaLabelForHandle:pe,ariaLabelledByForHandle:fe,ariaValueTextFormatterForHandle:he,styles:g||{},classNames:m||{}}}),[ve,ye,be,v,S,we,J,Je,et,F,de,pe,fe,he,g,m]);return p.createElement(w.Provider,{value:tt},p.createElement("div",{ref:ge,className:c()(l,f,(0,o.A)((0,o.A)((0,o.A)((0,o.A)({},"".concat(l,"-disabled"),v),"".concat(l,"-vertical"),Z),"".concat(l,"-horizontal"),!Z),"".concat(l,"-with-marks"),Ee.length)),style:h,onMouseDown:function(e){e.preventDefault();var t,n=ge.current.getBoundingClientRect(),r=n.width,o=n.height,i=n.left,a=n.top,s=n.bottom,l=n.right,c=e.clientX,u=e.clientY;switch(be){case"btt":t=(s-u)/o;break;case"ttb":t=(u-a)/o;break;case"rtl":t=(l-c)/r;break;default:t=(c-i)/r}$e(Ce(ve+t*(ye-ve)),e)}},p.createElement("div",{className:c()("".concat(l,"-rail"),null==m?void 0:m.rail),style:(0,r.A)((0,r.A)({},re),null==g?void 0:g.rail)}),p.createElement(P,{prefixCls:l,style:te,values:Qe,startPoint:ee,onStartMove:qe?Ye:void 0}),p.createElement(R,{prefixCls:l,marks:Ee,dots:se,style:oe,activeStyle:ie}),p.createElement(x,{ref:me,prefixCls:l,style:ne,values:ze,draggingIndex:je,onStartMove:Ye,onOffsetChange:function(e,t){if(!v){var n=Oe(Te,e,t);null==$||$(ke(Te)),Be(n.values),Ge(n.value)}},onFocus:A,onBlur:C,handleRender:le,activeHandleRender:ce,onChangeComplete:Me}),p.createElement(O,{prefixCls:l,marks:Ee,onClick:$e})))}))},7774:(e,t,n)=>{"use strict";var r=n(9997),o=n(2007),i=n(5959),a=n(6089),s=(n(3241),n(8531),n(5851),n(7781),n(1269),n(9089));n(4354);const l={form:{root:r.createSelector((e=>`data-testid form-${e}`)),sectionHeader:r.createSelector((e=>`data-testid form section-${e}`),"headerDataTestId"),sectionContent:r.createSelector((e=>`data-testid form section-content-${e}`),"contentDataTestId"),fieldSelect:r.createSelector((e=>`form field-select-${e}`)),fieldCustom:r.createSelector((e=>`data-testid form field-custom-${e}`)),fieldSlider:r.createSelector((e=>`data-testid form field-slider-${e}`)),fieldRangeSlider:r.createSelector((e=>`form field-range-slider-${e}`),"sliderAriaLabel"),fieldNumberInput:r.createSelector((e=>`data-testid form field-number-input-${e}`)),fieldColor:r.createSelector((e=>`data-testid form field-color-${e}`)),fieldInput:r.createSelector((e=>`data-testid form field-input-${e}`)),fieldDatetime:r.createSelector((()=>"data-testid date-time-input")),fieldRadio:r.createSelector((e=>`data-testid form field-radio-${e}`))},codeEditor:{copyButton:r.createSelector((()=>"data-testid code-editor copy-button")),copyPasteText:r.createSelector((()=>"data-testid code-editor copy-paste-text")),modal:r.createSelector((()=>"data-testid code-editor modal-window")),miniMapButton:r.createSelector((()=>"data-testid code-editor mini-map-button")),modalButton:r.createSelector((e=>`data-testid code-editor modal-button-${e}`)),pasteButton:r.createSelector((()=>"data-testid code-editor paste-button")),wrapButton:r.createSelector((()=>"data-testid code-editor wrap-button"))},datasourceEditor:{fieldSelect:r.createSelector("data-testid datasource-editor field-select")},payloadEditor:{loadingMessage:r.createSelector("data-testid payload-editor loading-message"),errorMessage:r.createSelector("data-testid payload-editor error-message")},alertWithDetails:{root:r.createSelector("data-testid alert-with-details root"),detailsSectionHeader:r.createSelector("data-testid alert-with-details details-section-header"),detailsSectionContent:r.createSelector("data-testid alert-with-details details-section-content")}},c=e=>({rootOutline:a.css`
      border: 1px solid ${e.colors.border.weak};
      background-color: ${e.colors.background.primary};
    `,header:a.css`
      padding: ${e.spacing(.5,.5)};
      min-height: ${e.spacing(4)};
      display: flex;
      align-items: center;
      justify-content: flex-start;
      white-space: nowrap;

      &:focus {
        outline: none;
      }
    `,headerSolid:a.css`
      border-radius: ${e.shape.radius?.default};
      background: ${e.colors.background.secondary};
    `,title:a.css`
      font-weight: ${e.typography.fontWeightBold};
      margin: ${e.spacing(0,.5)};
      overflow: hidden;
      text-overflow: ellipsis;
    `,collapseIcon:a.css`
      margin-left: ${e.spacing(.5)};
      color: ${e.colors.text.disabled};
    `,actions:a.css`
      margin-left: auto;
      display: flex;
      align-items: center;
    `});var u=(e=>(e.SELECT="select",e.SLIDER="slider",e.GROUP="group",e.CUSTOM="custom",e.COLOR="color",e.RADIO="radio",e.HIDDEN="hidden",e.INPUT="input",e.NUMBER_INPUT="numberInput",e.RANGE_SLIDER="rangeSlider",e.DATETIME_PICKER="datetimePicker",e))(u||{});const{default:d}=n(2454),{default:p}=(o.stylesFactory(((e,t,n=!1)=>{const{spacing:r}=e,o=e.colors.border.strong,i=e.colors.primary.main,l=e.colors.primary.main,c=`box-shadow: 0px 0px 0px 6px ${e.colors.primary.transparent}`;return{container:a.css({width:"100%",margin:t?r(1,0,2.5):r(1,3,1,1),paddingBottom:t&&n?e.spacing(1):"inherit",height:t?"auto":"100%"}),slider:a.css`
      .rc-slider {
        display: flex;
        flex-grow: 1;
        margin-left: 7px; // half the size of the handle to align handle to the left on 0 value
      }
      .rc-slider-mark {
        top: ${e.spacing(1.75)};
      }
      .rc-slider-mark-text {
        color: ${e.colors.text.disabled};
        font-size: ${e.typography.bodySmall.fontSize};
      }
      .rc-slider-mark-text-active {
        color: ${e.colors.text.primary};
      }
      .rc-slider-handle {
        border: none;
        background-color: ${l};
        box-shadow: ${e.shadows.z1};
        cursor: pointer;
        opacity: 1;
      }

      .rc-slider-handle:hover,
      .rc-slider-handle:active,
      .rc-slider-handle-click-focused:focus {
        ${c};
      }

      // The triple class names is needed because that's the specificity used in the source css :(
      .rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging,
      .rc-slider-handle:focus-visible {
        box-shadow: 0 0 0 4px ${e.colors.text.primary};
      }

      .rc-slider-dot,
      .rc-slider-dot-active {
        background-color: ${e.colors.text.primary};
        border-color: ${e.colors.text.primary};
      }

      .rc-slider-track {
        background-color: ${i};
      }
      .rc-slider-rail {
        background-color: ${o};
        cursor: pointer;
      }
    `,tooltip:s.css`
      body {
        .rc-slider-tooltip {
          cursor: grab;
          user-select: none;
          z-index: ${e.zIndex.tooltip};
        }

        .rc-slider-tooltip-inner {
          color: ${e.colors.text.primary};
          background-color: transparent !important;
          border-radius: 0;
          box-shadow: none;
        }

        .rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow {
          display: none;
        }

        .rc-slider-tooltip-placement-top {
          padding: 0;
        }
        
        .rc-tooltip-hidden {
          display: none;
        }
      }
    `,sliderInput:a.css({display:"flex",flexDirection:"row",alignItems:"center",width:"100%"}),sliderInputVertical:a.css({flexDirection:"column",height:"100%",".rc-slider":{margin:0,order:2}}),sliderInputField:a.css({marginLeft:e.spacing(3),input:{textAlign:"center"}}),sliderInputFieldVertical:a.css({margin:`0 0 ${e.spacing(3)} 0`,order:1})}})),n(7767)),{default:f}=n(7767);l.form;t.SD=({title:e,actions:t,children:n,isOpen:r=!1,onToggle:s,headerTestId:l,contentTestId:u,fill:d="outline",isInlineContent:p=!1,isExpandDisabled:f=!1})=>{const h=o.useTheme2(),m=o.useStyles2(c),g="solid"===d,b="outline"===d;return i.createElement("div",{className:a.cx({[m.rootOutline]:b})},i.createElement("div",{className:a.cx(m.header,{[m.headerSolid]:g}),"data-testid":l,onClick:()=>{f||s?.(!r)}},i.createElement(o.IconButton,{name:r?"angle-down":"angle-right",tooltip:r?"Collapse":"Expand",className:m.collapseIcon,disabled:f,"aria-expanded":r}),i.createElement("div",{className:m.title},e),t&&i.createElement("div",{className:m.actions,onClick:e=>e.stopPropagation()},t)),r&&i.createElement("div",{style:{padding:p?0:h.spacing(.5)},"data-testid":u},n))},t.UI=(e,t)=>{for(let n=0;n<e.length;n+=1){const r=e[n],o=r.fields.find((e=>t(e,r)));if(o)return o}}},7781:t=>{"use strict";t.exports=e},7840:(e,t,n)=>{const r=n(7944),o=n(8395);e.exports=(e,t,n)=>{let i=null,a=null,s=null;try{s=new o(t,n)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(i&&-1!==a.compare(e)||(i=e,a=new r(i,n)))})),i}},7850:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(6438);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||(0,r.A)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7871:(e,t,n)=>{const r=n(5463);e.exports=(e,t,n)=>r(e,t,">",n)},7930:(e,t,n)=>{const r=n(7944),o=n(8395);e.exports=(e,t,n)=>{let i=null,a=null,s=null;try{s=new o(t,n)}catch(e){return null}return e.forEach((e=>{s.test(e)&&(i&&1!==a.compare(e)||(i=e,a=new r(i,n)))})),i}},7944:(e,t,n)=>{const r=n(9796),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(9630),{safeRe:a,safeSrc:s,t:l}=n(6850),c=n(7095),{compareIdentifiers:u}=n(4031);class d{constructor(e,t){if(t=c(t),e instanceof d){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?a[l.LOOSE]:a[l.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof d)){if("string"==typeof e&&e===this.version)return 0;e=new d(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof d||(e=new d(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof d||(e=new d(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}compareBuild(e){e instanceof d||(e=new d(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("build compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(t){const e=new RegExp(`^${this.options.loose?s[l.PRERELEASELOOSE]:s[l.PRERELEASE]}$`),n=`-${t}`.match(e);if(!n||n[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=d},7988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},7994:(e,t,n)=>{const r=n(5860);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},7997:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},8100:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(5959)),o=n(8398),i=p(n(2688)),a=n(8230),s=n(936),l=n(414),c=n(906),u=n(7222),d=p(n(8784));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.default.Component{constructor(){super(...arguments),f(this,"state",{resizing:null,dragging:null,className:""}),f(this,"elementRef",r.default.createRef()),f(this,"onDragStart",((e,t)=>{let{node:n}=t;const{onDragStart:r,transformScale:o}=this.props;if(!r)return;const i={top:0,left:0},{offsetParent:a}=n;if(!a)return;const s=a.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.left/o,d=s.left/o,p=l.top/o,f=s.top/o;i.left=u-d+a.scrollLeft,i.top=p-f+a.scrollTop,this.setState({dragging:i});const{x:h,y:m}=(0,c.calcXY)(this.getPositionParams(),i.top,i.left,this.props.w,this.props.h);return r.call(this,this.props.i,h,m,{e,node:n,newPosition:i})})),f(this,"onDrag",((e,t,n)=>{let{node:r,deltaX:i,deltaY:a}=t;const{onDrag:s}=this.props;if(!s)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let l=this.state.dragging.top+a,u=this.state.dragging.left+i;const{isBounded:d,i:p,w:f,h,containerWidth:m}=this.props,g=this.getPositionParams();if(d){const{offsetParent:e}=r;if(e){const{margin:t,rowHeight:n,containerPadding:r}=this.props,o=e.clientHeight-(0,c.calcGridItemWHPx)(h,n,t[1]);l=(0,c.clamp)(l-r[1],0,o);const i=(0,c.calcGridColWidth)(g),a=m-(0,c.calcGridItemWHPx)(f,i,t[0]);u=(0,c.clamp)(u-r[0],0,a)}}const b={top:l,left:u};n?this.setState({dragging:b}):(0,o.flushSync)((()=>{this.setState({dragging:b})}));const{x:v,y}=(0,c.calcXY)(g,l,u,f,h);return s.call(this,p,v,y,{e,node:r,newPosition:b})})),f(this,"onDragStop",((e,t)=>{let{node:n}=t;const{onDragStop:r}=this.props;if(!r)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:o,h:i,i:a}=this.props,{left:s,top:l}=this.state.dragging,u={top:l,left:s};this.setState({dragging:null});const{x:d,y:p}=(0,c.calcXY)(this.getPositionParams(),l,s,o,i);return r.call(this,a,d,p,{e,node:n,newPosition:u})})),f(this,"onResizeStop",((e,t,n)=>this.onResizeHandler(e,t,n,"onResizeStop"))),f(this,"onResizeStart",((e,t,n)=>this.onResizeHandler(e,t,n,"onResizeStart"))),f(this,"onResize",((e,t,n)=>this.onResizeHandler(e,t,n,"onResize")))}shouldComponentUpdate(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;const n=(0,c.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,c.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,l.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==e.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(e){this.moveDroppingItem(e)}moveDroppingItem(e){const{droppingPosition:t}=this.props;if(!t)return;const n=this.elementRef.current;if(!n)return;const r=e.droppingPosition||{left:0,top:0},{dragging:o}=this.state,i=o&&t.left!==r.left||t.top!==r.top;if(o){if(i){const e=t.left-o.left,r=t.top-o.top;this.onDrag(t.e,{node:n,deltaX:e,deltaY:r},!0)}}else this.onDragStart(t.e,{node:n,deltaX:t.left,deltaY:t.top})}getPositionParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}createStyle(e){const{usePercentages:t,containerWidth:n,useCSSTransforms:r}=this.props;let o;return r?o=(0,l.setTransform)(e):(o=(0,l.setTopLeft)(e),t&&(o.left=(0,l.perc)(e.left/n),o.width=(0,l.perc)(e.width/n))),o}mixinDraggable(e,t){return r.default.createElement(a.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},e)}curryResizeHandler(e,t){return(n,r)=>t(n,r,e)}mixinResizable(e,t,n){const{cols:o,minW:i,minH:a,maxW:l,maxH:u,transformScale:d,resizeHandles:p,resizeHandle:f}=this.props,h=this.getPositionParams(),m=(0,c.calcGridItemPosition)(h,0,0,o,0).width,g=(0,c.calcGridItemPosition)(h,0,0,i,a),b=(0,c.calcGridItemPosition)(h,0,0,l,u),v=[g.width,g.height],y=[Math.min(b.width,m),Math.min(b.height,1/0)];return r.default.createElement(s.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:v,maxConstraints:y,onResizeStop:this.curryResizeHandler(t,this.onResizeStop),onResizeStart:this.curryResizeHandler(t,this.onResizeStart),onResize:this.curryResizeHandler(t,this.onResize),transformScale:d,resizeHandles:p,handle:f},e)}onResizeHandler(e,t,n,r){let{node:i,size:a,handle:s}=t;const u=this.props[r];if(!u)return;const{x:d,y:p,i:f,maxH:h,minH:m,containerWidth:g}=this.props,{minW:b,maxW:v}=this.props;let y=a;i&&(y=(0,l.resizeItemInDirection)(s,n,a,g),(0,o.flushSync)((()=>{this.setState({resizing:"onResizeStop"===r?null:y})})));let{w,h:S}=(0,c.calcWH)(this.getPositionParams(),y.width,y.height,d,p,s);w=(0,c.clamp)(w,Math.max(b,1),v),S=(0,c.clamp)(S,m,h),u.call(this,f,w,S,{e,node:i,size:y,handle:s})}render(){const{x:e,y:t,w:n,h:o,isDraggable:i,isResizable:a,droppingPosition:s,useCSSTransforms:l}=this.props,u=(0,c.calcGridItemPosition)(this.getPositionParams(),e,t,n,o,this.state),p=r.default.Children.only(this.props.children);let f=r.default.cloneElement(p,{ref:this.elementRef,className:(0,d.default)("react-grid-item",p.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":i,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(s),cssTransforms:l}),style:{...this.props.style,...p.props.style,...this.createStyle(u)}});return f=this.mixinResizable(f,u,a),f=this.mixinDraggable(f,i),f}}t.default=h,f(h,"propTypes",{children:i.default.element,cols:i.default.number.isRequired,containerWidth:i.default.number.isRequired,rowHeight:i.default.number.isRequired,margin:i.default.array.isRequired,maxRows:i.default.number.isRequired,containerPadding:i.default.array.isRequired,x:i.default.number.isRequired,y:i.default.number.isRequired,w:i.default.number.isRequired,h:i.default.number.isRequired,minW:function(e,t){const n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){const n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){const n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){const n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:i.default.string.isRequired,resizeHandles:u.resizeHandleAxesType,resizeHandle:u.resizeHandleType,onDragStop:i.default.func,onDragStart:i.default.func,onDrag:i.default.func,onResizeStop:i.default.func,onResizeStart:i.default.func,onResize:i.default.func,isDraggable:i.default.bool.isRequired,isResizable:i.default.bool.isRequired,isBounded:i.default.bool.isRequired,static:i.default.bool,useCSSTransforms:i.default.bool.isRequired,transformScale:i.default.number,className:i.default.string,handle:i.default.string,cancel:i.default.string,droppingPosition:i.default.shape({e:i.default.object.isRequired,left:i.default.number.isRequired,top:i.default.number.isRequired})}),f(h,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})},8102:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8187:function(e,t){!function(e){"use strict";function t(e){return function(t,n,r,o,i,a,s){return e(t,n,s)}}function n(e){return function(t,n,r,o){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r,o);var i=o.get(t),a=o.get(n);if(i&&a)return i===n&&a===t;o.set(t,n),o.set(n,t);var s=e(t,n,r,o);return o.delete(t),o.delete(n),s}}function r(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function o(e){return e.constructor===Object||null==e.constructor}function i(e){return"function"==typeof e.then}function a(e,t){return e===t||e!=e&&t!=t}var s=Object.prototype.toString;function l(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,l=e.areObjectsEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=(0,e.createIsNestedEqual)(p);function p(e,p,f){if(e===p)return!0;if(!e||!p||"object"!=typeof e||"object"!=typeof p)return e!=e&&p!=p;if(o(e)&&o(p))return l(e,p,d,f);var h=Array.isArray(e),m=Array.isArray(p);if(h||m)return h===m&&t(e,p,d,f);var g=s.call(e);return g===s.call(p)&&("[object Date]"===g?n(e,p,d,f):"[object RegExp]"===g?c(e,p,d,f):"[object Map]"===g?r(e,p,d,f):"[object Set]"===g?u(e,p,d,f):"[object Object]"===g||"[object Arguments]"===g?!i(e)&&!i(p)&&l(e,p,d,f):("[object Boolean]"===g||"[object Number]"===g||"[object String]"===g)&&a(e.valueOf(),p.valueOf()))}return p}function c(e,t,n,r){var o=e.length;if(t.length!==o)return!1;for(;o-- >0;)if(!n(e[o],t[o],o,o,e,t,r))return!1;return!0}var u=n(c);function d(e,t){return a(e.valueOf(),t.valueOf())}function p(e,t,n,r){var o=e.size===t.size;if(!o)return!1;if(!e.size)return!0;var i={},a=0;return e.forEach((function(s,l){if(o){var c=!1,u=0;t.forEach((function(o,d){c||i[u]||!(c=n(l,d,a,u,e,t,r)&&n(s,o,l,d,e,t,r))||(i[u]=!0),u++})),a++,o=c}})),o}var f=n(p),h=Object.prototype.hasOwnProperty;function m(e,t,n,r){var o,i=Object.keys(e),a=i.length;if(Object.keys(t).length!==a)return!1;for(;a-- >0;){if("_owner"===(o=i[a])){var s=!!e.$$typeof,l=!!t.$$typeof;if((s||l)&&s!==l)return!1}if(!h.call(t,o)||!n(e[o],t[o],o,o,e,t,r))return!1}return!0}var g=n(m);function b(e,t){return e.source===t.source&&e.flags===t.flags}function v(e,t,n,r){var o=e.size===t.size;if(!o)return!1;if(!e.size)return!0;var i={};return e.forEach((function(a,s){if(o){var l=!1,c=0;t.forEach((function(o,u){l||i[c]||!(l=n(a,o,s,u,e,t,r))||(i[c]=!0),c++})),o=l}})),o}var y=n(v),w=Object.freeze({areArraysEqual:c,areDatesEqual:d,areMapsEqual:p,areObjectsEqual:m,areRegExpsEqual:b,areSetsEqual:v,createIsNestedEqual:t}),S=Object.freeze({areArraysEqual:u,areDatesEqual:d,areMapsEqual:f,areObjectsEqual:g,areRegExpsEqual:b,areSetsEqual:y,createIsNestedEqual:t}),E=l(w);var A=l(r(w,{createIsNestedEqual:function(){return a}}));var x=l(S);var C=l(r(S,{createIsNestedEqual:function(){return a}}));e.circularDeepEqual=function(e,t){return x(e,t,new WeakMap)},e.circularShallowEqual=function(e,t){return C(e,t,new WeakMap)},e.createCustomCircularEqual=function(e){var t=l(r(S,e(S)));return function(e,n,r){return void 0===r&&(r=new WeakMap),t(e,n,r)}},e.createCustomEqual=function(e){return l(r(w,e(w)))},e.deepEqual=function(e,t){return E(e,t,void 0)},e.sameValueZeroEqual=a,e.shallowEqual=function(e,t){return A(e,t,void 0)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},8230:(e,t,n)=>{"use strict";const{default:r,DraggableCore:o}=n(9111);e.exports=r,e.exports.default=r,e.exports.DraggableCore=o},8239:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,p=n?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=p,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),i-=c}return(f?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+f]=255&s,f+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+f]=255&a,f+=h,a/=256,c-=8);e[n+f-h]|=128*m}},8262:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function o(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.r(t),n.d(t,{clsx:()=>o,default:()=>i});const i=o},8299:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy");Symbol.for("react.offscreen");Symbol.for("react.module.reference"),t.ForwardRef=u,t.isMemo=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case a:case i:case d:case p:return e;default:switch(e=e&&e.$$typeof){case c:case l:case u:case h:case f:case s:return e;default:return t}}case r:return t}}}(e)===f}},8395:(e,t,n)=>{const r=/\s+/g;class o{constructor(e,t){if(t=a(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!b(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,n=i.get(t);if(n)return n;const r=this.options.loose,o=r?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];e=e.replace(o,P(this.options.includePrerelease)),l("hyphen replace",e),e=e.replace(u[d.COMPARATORTRIM],p),l("comparator trim",e),e=e.replace(u[d.TILDETRIM],f),l("tilde trim",e),e=e.replace(u[d.CARETTRIM],h),l("caret trim",e);let a=e.split(" ").map((e=>w(e,this.options))).join(" ").split(/\s+/).map((e=>D(e,this.options)));r&&(a=a.filter((e=>(l("loose invalid filter",e,this.options),!!e.match(u[d.COMPARATORLOOSE]))))),l("range list",a);const c=new Map,v=a.map((e=>new s(e,this.options)));for(const e of v){if(b(e))return[e];c.set(e.value,e)}c.size>1&&c.has("")&&c.delete("");const y=[...c.values()];return i.set(t,y),y}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some((n=>y(n,t)&&e.set.some((e=>y(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const i=new(n(1158)),a=n(7095),s=n(9524),l=n(9796),c=n(7944),{safeRe:u,t:d,comparatorTrimReplace:p,tildeTrimReplace:f,caretTrimReplace:h}=n(6850),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=n(9630),b=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,y=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every((e=>o.intersects(e,t))),o=r.pop();return n},w=(e,t)=>(l("comp",e,t),e=x(e,t),l("caret",e),e=E(e,t),l("tildes",e),e=O(e,t),l("xrange",e),e=R(e,t),l("stars",e),e),S=e=>!e||"x"===e.toLowerCase()||"*"===e,E=(e,t)=>e.trim().split(/\s+/).map((e=>A(e,t))).join(" "),A=(e,t)=>{const n=t.loose?u[d.TILDELOOSE]:u[d.TILDE];return e.replace(n,((t,n,r,o,i)=>{let a;return l("tilde",e,t,n,r,o,i),S(n)?a="":S(r)?a=`>=${n}.0.0 <${+n+1}.0.0-0`:S(o)?a=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:i?(l("replaceTilde pr",i),a=`>=${n}.${r}.${o}-${i} <${n}.${+r+1}.0-0`):a=`>=${n}.${r}.${o} <${n}.${+r+1}.0-0`,l("tilde return",a),a}))},x=(e,t)=>e.trim().split(/\s+/).map((e=>C(e,t))).join(" "),C=(e,t)=>{l("caret",e,t);const n=t.loose?u[d.CARETLOOSE]:u[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,o,i,a)=>{let s;return l("caret",e,t,n,o,i,a),S(n)?s="":S(o)?s=`>=${n}.0.0${r} <${+n+1}.0.0-0`:S(i)?s="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:a?(l("replaceCaret pr",a),s="0"===n?"0"===o?`>=${n}.${o}.${i}-${a} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}-${a} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i}-${a} <${+n+1}.0.0-0`):(l("no pr"),s="0"===n?"0"===o?`>=${n}.${o}.${i}${r} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i} <${+n+1}.0.0-0`),l("caret return",s),s}))},O=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map((e=>I(e,t))).join(" ")),I=(e,t)=>{e=e.trim();const n=t.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return e.replace(n,((n,r,o,i,a,s)=>{l("xRange",e,n,r,o,i,a,s);const c=S(o),u=c||S(i),d=u||S(a),p=d;return"="===r&&p&&(r=""),s=t.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(u&&(i=0),a=0,">"===r?(r=">=",u?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===r&&(r="<",u?o=+o+1:i=+i+1),"<"===r&&(s="-0"),n=`${r+o}.${i}.${a}${s}`):u?n=`>=${o}.0.0${s} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${i}.0${s} <${o}.${+i+1}.0-0`),l("xRange return",n),n}))},R=(e,t)=>(l("replaceStars",e,t),e.trim().replace(u[d.STAR],"")),D=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),P=e=>(t,n,r,o,i,a,s,l,c,u,d,p)=>`${n=S(r)?"":S(o)?`>=${r}.0.0${e?"-0":""}`:S(i)?`>=${r}.${o}.0${e?"-0":""}`:a?`>=${n}`:`>=${n}${e?"-0":""}`} ${l=S(c)?"":S(u)?`<${+c+1}.0.0-0`:S(d)?`<${c}.${+u+1}.0-0`:p?`<=${c}.${u}.${d}-${p}`:e?`<${c}.${u}.${+d+1}-0`:`<=${l}`}`.trim(),T=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(l(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},8398:e=>{"use strict";e.exports=l},8449:(e,t,n)=>{const r=n(6850),o=n(9630),i=n(7944),a=n(4031),s=n(5860),l=n(7645),c=n(7994),u=n(5955),d=n(660),p=n(2966),f=n(5986),h=n(1617),m=n(9613),g=n(5380),b=n(2862),v=n(7023),y=n(2801),w=n(603),S=n(6033),E=n(144),A=n(599),x=n(6909),C=n(7659),O=n(2077),I=n(7092),R=n(3811),D=n(5334),P=n(9524),T=n(8395),_=n(1722),k=n(651),B=n(7840),M=n(7930),L=n(3489),N=n(7494),j=n(5463),F=n(7871),z=n(4266),V=n(1112),$=n(1465),U=n(9252);e.exports={parse:s,valid:l,clean:c,inc:u,diff:d,major:p,minor:f,patch:h,prerelease:m,compare:g,rcompare:b,compareLoose:v,compareBuild:y,sort:w,rsort:S,gt:E,lt:A,eq:x,neq:C,gte:O,lte:I,cmp:R,coerce:D,Comparator:P,Range:T,satisfies:_,toComparators:k,maxSatisfying:B,minSatisfying:M,minVersion:L,validRange:N,outside:j,gtr:F,ltr:z,intersects:V,simplifyRange:$,subset:U,SemVer:i,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:a.compareIdentifiers,rcompareIdentifiers:a.rcompareIdentifiers}},8531:e=>{"use strict";e.exports=i},8728:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5959);function o(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}},8784:e=>{function t(e){var n,r,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(r=t(e[n]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function n(){for(var e,n,r=0,o="",i=arguments.length;r<i;r++)(e=arguments[r])&&(n=t(e))&&(o&&(o+=" "),o+=n);return o}e.exports=n,e.exports.clsx=n},8891:(e,t,n)=>{"use strict";const r=n(7322),o=n(8239),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=l,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=s(n);const o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const o=function(e){if(l.isBuffer(e)){const t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Q(e.length)?s(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|h(e))}function p(e){const t=e.length<0?0:0|h(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function h(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(o)return r?-1:G(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){let i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===l)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){let n=!0;for(let r=0;r<l;r++)if(c(e,i+r)!==c(t,r)){n=!1;break}if(n)return i}return-1}function w(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Q(r))return a;e[n+a]=r}return a}function S(e,t,n,r){return Y(G(t,e.length-n),e,n,r)}function E(e,t,n,r){return Y(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function A(e,t,n,r){return Y(q(t),e,n,r)}function x(e,t,n,r){return Y(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,l;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(i=l));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(i=l))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(X(t,Uint8Array))o+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)b(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,o){if(X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),c=this.slice(r,o),u=e.slice(t,n);for(let e=0;e<s;++e)if(c[e]!==u[e]){i=c[e],a=u[e];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function R(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function D(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function P(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=Z[e[r]];return o}function T(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function _(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,n,r,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,o){$(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function M(e,t,n,r,o){$(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function L(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,i){return t=+t,n>>>=0,i||L(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,i){return t=+t,n>>>=0,i||L(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=K((function(e){U(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),l.prototype.readBigUInt64BE=K((function(e){U(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||_(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||_(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=K((function(e){U(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=K((function(e){U(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||_(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||_(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||_(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||_(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||k(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||k(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=K((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=K((function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);k(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);k(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=K((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=K((function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=l.isBuffer(e)?e:l.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const F={};function z(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function V(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function $(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){U(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,o,i)}function U(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,n){if(Math.floor(e)!==e)throw U(e,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=V(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=V(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function K(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},9088:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},9089:e=>{"use strict";e.exports=c},9111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(5959)),o=p(n(2688)),i=p(n(8398)),a=p(n(8262)),s=n(2837),l=n(402),c=n(6732),u=p(n(1060)),d=p(n(7988));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function m(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),m(this,"onDragStart",((e,t)=>{if((0,d.default)("Draggable: onDragStart: %j",t),!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})})),m(this,"onDrag",((e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[o,i]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=o,r.y=i,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)})),m(this,"onDragStop",((e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)})),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:i.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:o,defaultClassName:i,defaultClassNameDragging:c,defaultClassNameDragged:d,position:p,positionOffset:f,scale:m,...g}=this.props;let b={},v=null;const y=!Boolean(p)||this.state.dragging,w=p||o,S={x:(0,l.canDragX)(this)&&y?this.state.x:w.x,y:(0,l.canDragY)(this)&&y?this.state.y:w.y};this.state.isElementSVG?v=(0,s.createSVGTransform)(S,f):b=(0,s.createCSSTransform)(S,f);const E=(0,a.default)(n.props.className||"",i,{[c]:this.state.dragging,[d]:this.state.dragged});return r.createElement(u.default,h({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:E,style:{...n.props.style,...b},transform:v}))}}t.default=g,m(g,"displayName","Draggable"),m(g,"propTypes",{...u.default.propTypes,axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),m(g,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},9115:(e,t,n)=>{"use strict";n.d(t,{K4:()=>c,Xf:()=>l,A9:()=>f,f3:()=>d,xK:()=>u});var r=n(694),o=n(5959),i=n(4271),a=n(9572),s=Number(o.version.split(".")[0]),l=function(e,t){"function"==typeof e?e(t):"object"===(0,r.A)(e)&&e&&"current"in e&&(e.current=t)},c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach((function(t){l(t,e)}))}},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=function(){return c.apply(void 0,t)},i=t,a=function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))},"value"in(s=o.useRef({})).current&&!a(s.current.condition,i)||(s.current.value=r(),s.current.condition=i),s.current.value;var r,i,a,s},d=function(e){var t,n;if(!e)return!1;if(p(e)&&s>=19)return!0;var r=(0,i.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===i.ForwardRef)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===i.ForwardRef)};function p(e){return(0,o.isValidElement)(e)&&!(0,a.A)(e)}var f=function(e){if(e&&p(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null}},9250:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4942),o=n.n(r),i=n(278),a=n.n(i)()(o());a.push([e.id,'[data-rmiz-ghost] {\n  position: absolute;\n  pointer-events: none;\n}\n[data-rmiz-btn-zoom],\n[data-rmiz-btn-unzoom] {\n  background-color: rgba(0, 0, 0, 0.7);\n  border-radius: 50%;\n  border: none;\n  box-shadow: 0 0 1px rgba(255, 255, 255, 0.5);\n  color: #fff;\n  height: 40px;\n  margin: 0;\n  outline-offset: 2px;\n  padding: 9px;\n  touch-action: manipulation;\n  width: 40px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n[data-rmiz-btn-zoom]:not(:focus):not(:active) {\n  position: absolute;\n  clip: rect(0 0 0 0);\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  pointer-events: none;\n  white-space: nowrap;\n  width: 1px;\n}\n[data-rmiz-btn-zoom] {\n  position: absolute;\n  inset: 10px 10px auto auto;\n  cursor: zoom-in;\n}\n[data-rmiz-btn-unzoom] {\n  position: absolute;\n  inset: 20px 20px auto auto;\n  cursor: zoom-out;\n  z-index: 1;\n}\n[data-rmiz-content="found"] img,\n[data-rmiz-content="found"] svg,\n[data-rmiz-content="found"] [role="img"],\n[data-rmiz-content="found"] [data-zoom] {\n  cursor: zoom-in;\n}\n[data-rmiz-modal]::backdrop {\n  display: none;\n}\n[data-rmiz-modal][open] {\n  position: fixed;\n  width: 100vw;\n  width: 100dvw;\n  height: 100vh;\n  height: 100dvh;\n  max-width: none;\n  max-height: none;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  background: transparent;\n  overflow: hidden;\n}\n[data-rmiz-modal-overlay] {\n  position: absolute;\n  inset: 0;\n  transition: background-color 0.3s;\n}\n[data-rmiz-modal-overlay="hidden"] {\n  background-color: rgba(255, 255, 255, 0);\n}\n[data-rmiz-modal-overlay="visible"] {\n  background-color: rgba(255, 255, 255, 1);\n}\n[data-rmiz-modal-content] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n[data-rmiz-modal-img] {\n  position: absolute;\n  cursor: zoom-out;\n  image-rendering: high-quality;\n  transform-origin: top left;\n  transition: transform 0.3s;\n}\n@media (prefers-reduced-motion: reduce) {\n  [data-rmiz-modal-overlay],\n  [data-rmiz-modal-img] {\n    transition-duration: 0.01ms !important;\n  }\n}\n',"",{version:3,sources:["webpack://./../node_modules/react-medium-image-zoom/dist/styles.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,oBAAoB;AACtB;AACA;;EAEE,oCAAoC;EACpC,kBAAkB;EAClB,YAAY;EACZ,4CAA4C;EAC5C,WAAW;EACX,YAAY;EACZ,SAAS;EACT,mBAAmB;EACnB,YAAY;EACZ,0BAA0B;EAC1B,WAAW;EACX,wBAAwB;EACxB,qBAAqB;EACrB,gBAAgB;AAClB;AACA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,qBAAqB;EACrB,WAAW;EACX,gBAAgB;EAChB,oBAAoB;EACpB,mBAAmB;EACnB,UAAU;AACZ;AACA;EACE,kBAAkB;EAClB,0BAA0B;EAC1B,eAAe;AACjB;AACA;EACE,kBAAkB;EAClB,0BAA0B;EAC1B,gBAAgB;EAChB,UAAU;AACZ;AACA;;;;EAIE,eAAe;AACjB;AACA;EACE,aAAa;AACf;AACA;EACE,eAAe;EACf,YAAY;EACZ,aAAa;EACb,aAAa;EACb,cAAc;EACd,eAAe;EACf,gBAAgB;EAChB,SAAS;EACT,UAAU;EACV,SAAS;EACT,uBAAuB;EACvB,gBAAgB;AAClB;AACA;EACE,kBAAkB;EAClB,QAAQ;EACR,iCAAiC;AACnC;AACA;EACE,wCAAwC;AAC1C;AACA;EACE,wCAAwC;AAC1C;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,6BAA6B;EAC7B,0BAA0B;EAC1B,0BAA0B;AAC5B;AACA;EACE;;IAEE,sCAAsC;EACxC;AACF",sourcesContent:['[data-rmiz-ghost] {\n  position: absolute;\n  pointer-events: none;\n}\n[data-rmiz-btn-zoom],\n[data-rmiz-btn-unzoom] {\n  background-color: rgba(0, 0, 0, 0.7);\n  border-radius: 50%;\n  border: none;\n  box-shadow: 0 0 1px rgba(255, 255, 255, 0.5);\n  color: #fff;\n  height: 40px;\n  margin: 0;\n  outline-offset: 2px;\n  padding: 9px;\n  touch-action: manipulation;\n  width: 40px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n[data-rmiz-btn-zoom]:not(:focus):not(:active) {\n  position: absolute;\n  clip: rect(0 0 0 0);\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  pointer-events: none;\n  white-space: nowrap;\n  width: 1px;\n}\n[data-rmiz-btn-zoom] {\n  position: absolute;\n  inset: 10px 10px auto auto;\n  cursor: zoom-in;\n}\n[data-rmiz-btn-unzoom] {\n  position: absolute;\n  inset: 20px 20px auto auto;\n  cursor: zoom-out;\n  z-index: 1;\n}\n[data-rmiz-content="found"] img,\n[data-rmiz-content="found"] svg,\n[data-rmiz-content="found"] [role="img"],\n[data-rmiz-content="found"] [data-zoom] {\n  cursor: zoom-in;\n}\n[data-rmiz-modal]::backdrop {\n  display: none;\n}\n[data-rmiz-modal][open] {\n  position: fixed;\n  width: 100vw;\n  width: 100dvw;\n  height: 100vh;\n  height: 100dvh;\n  max-width: none;\n  max-height: none;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  background: transparent;\n  overflow: hidden;\n}\n[data-rmiz-modal-overlay] {\n  position: absolute;\n  inset: 0;\n  transition: background-color 0.3s;\n}\n[data-rmiz-modal-overlay="hidden"] {\n  background-color: rgba(255, 255, 255, 0);\n}\n[data-rmiz-modal-overlay="visible"] {\n  background-color: rgba(255, 255, 255, 1);\n}\n[data-rmiz-modal-content] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n[data-rmiz-modal-img] {\n  position: absolute;\n  cursor: zoom-out;\n  image-rendering: high-quality;\n  transform-origin: top left;\n  transition: transform 0.3s;\n}\n@media (prefers-reduced-motion: reduce) {\n  [data-rmiz-modal-overlay],\n  [data-rmiz-modal-img] {\n    transition-duration: 0.01ms !important;\n  }\n}\n'],sourceRoot:""}]);const s=a},9252:(e,t,n)=>{const r=n(8395),o=n(9524),{ANY:i}=o,a=n(1722),s=n(5380),l=[new o(">=0.0.0-0")],c=[new o(">=0.0.0")],u=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=n.includePrerelease?l:c}if(1===t.length&&t[0].semver===i){if(n.includePrerelease)return!0;t=c}const r=new Set;let o,u,f,h,m,g,b;for(const t of e)">"===t.operator||">="===t.operator?o=d(o,t,n):"<"===t.operator||"<="===t.operator?u=p(u,t,n):r.add(t.semver);if(r.size>1)return null;if(o&&u){if(f=s(o.semver,u.semver,n),f>0)return null;if(0===f&&(">="!==o.operator||"<="!==u.operator))return null}for(const e of r){if(o&&!a(e,String(o),n))return null;if(u&&!a(e,String(u),n))return null;for(const r of t)if(!a(e,String(r),n))return!1;return!0}let v=!(!u||n.includePrerelease||!u.semver.prerelease.length)&&u.semver,y=!(!o||n.includePrerelease||!o.semver.prerelease.length)&&o.semver;v&&1===v.prerelease.length&&"<"===u.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(b=b||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,o)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if(h=d(o,e,n),h===e&&h!==o)return!1}else if(">="===o.operator&&!a(o.semver,String(e),n))return!1;if(u)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(m=p(u,e,n),m===e&&m!==u)return!1}else if("<="===u.operator&&!a(u.semver,String(e),n))return!1;if(!e.operator&&(u||o)&&0!==f)return!1}return!(o&&g&&!u&&0!==f||u&&b&&!o&&0!==f||y||v)},d=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,n)=>{if(!e)return t;const r=s(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let o=!1;e:for(const r of e.set){for(const e of t.set){const t=u(r,e,n);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},9273:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(7850),o=n(8728),i=n(697),a=n(1773);function s(e){return void 0!==e}function l(e,t){var n=t||{},l=n.defaultValue,c=n.value,u=n.onChange,d=n.postState,p=(0,a.A)((function(){return s(c)?c:s(l)?"function"==typeof l?l():l:"function"==typeof e?e():e})),f=(0,r.A)(p,2),h=f[0],m=f[1],g=void 0!==c?c:h,b=d?d(g):g,v=(0,o.A)(u),y=(0,a.A)([g]),w=(0,r.A)(y,2),S=w[0],E=w[1];return(0,i.o)((function(){var e=S[0];h!==e&&v(h,e)}),[S]),(0,i.o)((function(){s(c)||m(c)}),[c]),[b,(0,o.A)((function(e,t){m(e,t),E([g],t)}))]}},9370:(e,t,n)=>{"use strict";function r(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}n.d(t,{A:()=>r})},9383:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9482:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(5959)),o=n(8187),i=u(n(8784)),a=n(414),s=n(906),l=u(n(8100)),c=u(n(7222));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f="react-grid-layout";let h=!1;try{h=/firefox/i.test(navigator.userAgent)}catch(e){}class m extends r.Component{constructor(){super(...arguments),p(this,"state",{activeDrag:null,layout:(0,a.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,a.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),p(this,"dragEnterCounter",0),p(this,"onDragStart",((e,t,n,r)=>{let{e:o,node:i}=r;const{layout:s}=this.state,l=(0,a.getLayoutItem)(s,e);if(!l)return;const c={w:l.w,h:l.h,x:l.x,y:l.y,placeholder:!0,i:e};return this.setState({oldDragItem:(0,a.cloneLayoutItem)(l),oldLayout:s,activeDrag:c}),this.props.onDragStart(s,l,l,null,o,i)})),p(this,"onDrag",((e,t,n,r)=>{let{e:o,node:i}=r;const{oldDragItem:s}=this.state;let{layout:l}=this.state;const{cols:c,allowOverlap:u,preventCollision:d}=this.props,p=(0,a.getLayoutItem)(l,e);if(!p)return;const f={w:p.w,h:p.h,x:p.x,y:p.y,placeholder:!0,i:e};l=(0,a.moveElement)(l,p,t,n,!0,d,(0,a.compactType)(this.props),c,u),this.props.onDrag(l,s,p,f,o,i),this.setState({layout:u?l:(0,a.compact)(l,(0,a.compactType)(this.props),c),activeDrag:f})})),p(this,"onDragStop",((e,t,n,r)=>{let{e:o,node:i}=r;if(!this.state.activeDrag)return;const{oldDragItem:s}=this.state;let{layout:l}=this.state;const{cols:c,preventCollision:u,allowOverlap:d}=this.props,p=(0,a.getLayoutItem)(l,e);if(!p)return;l=(0,a.moveElement)(l,p,t,n,!0,u,(0,a.compactType)(this.props),c,d);const f=d?l:(0,a.compact)(l,(0,a.compactType)(this.props),c);this.props.onDragStop(f,s,p,null,o,i);const{oldLayout:h}=this.state;this.setState({activeDrag:null,layout:f,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(f,h)})),p(this,"onResizeStart",((e,t,n,r)=>{let{e:o,node:i}=r;const{layout:s}=this.state,l=(0,a.getLayoutItem)(s,e);l&&(this.setState({oldResizeItem:(0,a.cloneLayoutItem)(l),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(s,l,l,null,o,i))})),p(this,"onResize",((e,t,n,r)=>{let{e:o,node:i,size:s,handle:l}=r;const{oldResizeItem:c}=this.state,{layout:u}=this.state,{cols:d,preventCollision:p,allowOverlap:f}=this.props;let h,m,g,b=!1;const[v,y]=(0,a.withLayoutItem)(u,e,(e=>{let r;return m=e.x,g=e.y,-1!==["sw","w","nw","n","ne"].indexOf(l)&&(-1!==["sw","nw","w"].indexOf(l)&&(m=e.x+(e.w-t),t=e.x!==m&&m<0?e.w:t,m=m<0?0:m),-1!==["ne","n","nw"].indexOf(l)&&(g=e.y+(e.h-n),n=e.y!==g&&g<0?e.h:n,g=g<0?0:g),b=!0),p&&!f&&(r=(0,a.getAllCollisions)(u,{...e,w:t,h:n,x:m,y:g}).filter((t=>t.i!==e.i)).length>0,r&&(g=e.y,n=e.h,m=e.x,t=e.w,b=!1)),e.w=t,e.h=n,e}));if(!y)return;if(h=v,b){const e=!0;h=(0,a.moveElement)(v,y,m,g,e,this.props.preventCollision,(0,a.compactType)(this.props),d,f)}const w={w:y.w,h:y.h,x:y.x,y:y.y,static:!0,i:e};this.props.onResize(h,c,y,w,o,i),this.setState({layout:f?h:(0,a.compact)(h,(0,a.compactType)(this.props),d),activeDrag:w})})),p(this,"onResizeStop",((e,t,n,r)=>{let{e:o,node:i}=r;const{layout:s,oldResizeItem:l}=this.state,{cols:c,allowOverlap:u}=this.props,d=(0,a.getLayoutItem)(s,e),p=u?s:(0,a.compact)(s,(0,a.compactType)(this.props),c);this.props.onResizeStop(p,l,d,null,o,i);const{oldLayout:f}=this.state;this.setState({activeDrag:null,layout:p,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(p,f)})),p(this,"onDragOver",(e=>{if(e.preventDefault(),e.stopPropagation(),h&&!e.nativeEvent.target?.classList.contains(f))return!1;const{droppingItem:t,onDropDragOver:n,margin:o,cols:i,rowHeight:a,maxRows:l,width:c,containerPadding:u,transformScale:d}=this.props,p=n?.(e);if(!1===p)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const m={...t,...p},{layout:g}=this.state,b=e.currentTarget.getBoundingClientRect(),v=e.clientX-b.left,y=e.clientY-b.top,w={left:v/d,top:y/d,e};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:e,top:t}=this.state.droppingPosition;(e!=v||t!=y)&&this.setState({droppingPosition:w})}}else{const e={cols:i,margin:o,maxRows:l,rowHeight:a,containerWidth:c,containerPadding:u||o},t=(0,s.calcXY)(e,y,v,m.w,m.h);this.setState({droppingDOMNode:r.createElement("div",{key:m.i}),droppingPosition:w,layout:[...g,{...m,x:t.x,y:t.y,static:!1,isDraggable:!0}]})}})),p(this,"removeDroppingPlaceholder",(()=>{const{droppingItem:e,cols:t}=this.props,{layout:n}=this.state,r=(0,a.compact)(n.filter((t=>t.i!==e.i)),(0,a.compactType)(this.props),t,this.props.allowOverlap);this.setState({layout:r,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),p(this,"onDragLeave",(e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter--,0===this.dragEnterCounter&&this.removeDroppingPlaceholder()})),p(this,"onDragEnter",(e=>{e.preventDefault(),e.stopPropagation(),this.dragEnterCounter++})),p(this,"onDrop",(e=>{e.preventDefault(),e.stopPropagation();const{droppingItem:t}=this.props,{layout:n}=this.state,r=n.find((e=>e.i===t.i));this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(n,r,e)}))}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(e,t){let n;return t.activeDrag?null:((0,o.deepEqual)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,a.childrenEqual)(e.children,t.children)||(n=t.layout):n=e.layout,n?{layout:(0,a.synchronizeLayoutWithChildren)(n,e.children,e.cols,(0,a.compactType)(e),e.allowOverlap),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}shouldComponentUpdate(e,t){return this.props.children!==e.children||!(0,a.fastRGLPropsEqual)(this.props,e,o.deepEqual)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}componentDidUpdate(e,t){if(!this.state.activeDrag){const e=this.state.layout,n=t.layout;this.onLayoutMaybeChanged(e,n)}}containerHeight(){if(!this.props.autoSize)return;const e=(0,a.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}onLayoutMaybeChanged(e,t){t||(t=this.state.layout),(0,o.deepEqual)(t,e)||this.props.onLayoutChange(e)}placeholder(){const{activeDrag:e}=this.state;if(!e)return null;const{width:t,cols:n,margin:o,containerPadding:i,rowHeight:a,maxRows:s,useCSSTransforms:c,transformScale:u}=this.props;return r.createElement(l.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder "+(this.state.resizing?"placeholder-resizing":""),containerWidth:t,cols:n,margin:o,containerPadding:i||o,maxRows:s,rowHeight:a,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:c,transformScale:u},r.createElement("div",null))}processGridItem(e,t){if(!e||!e.key)return;const n=(0,a.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;const{width:o,cols:i,margin:s,containerPadding:c,rowHeight:u,maxRows:d,isDraggable:p,isResizable:f,isBounded:h,useCSSTransforms:m,transformScale:g,draggableCancel:b,draggableHandle:v,resizeHandles:y,resizeHandle:w}=this.props,{mounted:S,droppingPosition:E}=this.state,A="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&p,x="boolean"==typeof n.isResizable?n.isResizable:!n.static&&f,C=n.resizeHandles||y,O=A&&h&&!1!==n.isBounded;return r.createElement(l.default,{containerWidth:o,cols:i,margin:s,containerPadding:c||s,maxRows:d,rowHeight:u,cancel:b,handle:v,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:A,isResizable:x,isBounded:O,useCSSTransforms:m&&S,usePercentages:!S,transformScale:g,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:t?E:void 0,resizeHandles:C,resizeHandle:w},e)}render(){const{className:e,style:t,isDroppable:n,innerRef:o}=this.props,s=(0,i.default)(f,e),l={height:this.containerHeight(),...t};return r.createElement("div",{ref:o,className:s,style:l,onDrop:n?this.onDrop:a.noop,onDragLeave:n?this.onDragLeave:a.noop,onDragEnter:n?this.onDragEnter:a.noop,onDragOver:n?this.onDragOver:a.noop},r.Children.map(this.props.children,(e=>this.processGridItem(e))),n&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}t.default=m,p(m,"displayName","ReactGridLayout"),p(m,"propTypes",c.default),p(m,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:a.noop,onDragStart:a.noop,onDrag:a.noop,onDragStop:a.noop,onResizeStart:a.noop,onResize:a.noop,onResizeStop:a.noop,onDrop:a.noop,onDropDragOver:a.noop})},9524:(e,t,n)=>{const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?a[s.COMPARATORLOOSE]:a[s.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new u(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=i(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=o;const i=n(7095),{safeRe:a,t:s}=n(6850),l=n(3811),c=n(9796),u=n(7944),d=n(8395)},9572:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(694),o=Symbol.for("react.element"),i=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(e){return e&&"object"===(0,r.A)(e)&&(e.$$typeof===o||e.$$typeof===i)&&e.type===a}},9613:(e,t,n)=>{const r=n(5860);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},9630:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9644:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,{A:()=>r})},9796:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},9893:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},9954:(e,t,n)=>{"use strict";t.__esModule=!0,t.cloneElement=function(e,t){return t.style&&e.props.style&&(t.style=a(a({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),o.default.cloneElement(e,t)};var r,o=(r=n(5959))&&r.__esModule?r:{default:r};function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},9997:(e,t)=>{"use strict";t.createSelector=function(e,t){const n="string"==typeof e?()=>e:e;let r="aria-label";return t?r=t:n().startsWith("data-testid")&&(r="data-testid"),{selector:n,apply:(...e)=>({[r]:n(...e)})}},t.getJestSelectors=(e,t=[])=>n=>Object.entries(e).reduce(((e,[r,o])=>({...e,[r]:(e=!1,...i)=>{const a="object"==typeof o&&"selector"in o?o.selector:o,s="function"==typeof a?a(...i):a;return s.startsWith("data-testid")||t.includes(r)?e?n.queryByTestId(s):n.getByTestId(s):e?n.queryByLabelText(s):n.getByLabelText(s)}})),{})}},m={};function g(e){var t=m[e];if(void 0!==t)return t.exports;var n=m[e]={id:e,exports:{}};return h[e].call(n.exports,n,n.exports,g),n.exports}g.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return g.d(t,{a:t}),t},f=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,g.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);g.r(n);var r={};p=p||[null,f({}),f([]),f(f)];for(var o=2&t&&e;"object"==typeof o&&!~p.indexOf(o);o=f(o))Object.getOwnPropertyNames(o).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,g.d(n,r),n},g.d=(e,t)=>{for(var n in t)g.o(t,n)&&!g.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},g.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),g.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),g.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},g.nc=void 0;var b={};return(()=>{"use strict";g.r(b),g.d(b,{plugin:()=>Oa});var e=g(7781),t=g(6089),n=g(2007),r=g(5959),o=g.n(r),i=function(e){return e.JPEG="image/jpeg",e.GIF="image/gif",e.PNG="image/png",e.PDF="application/pdf",e.HEIC="image/heic",e.MP4="video/mp4",e.WEBM="video/webm",e.OGG="audio/ogg",e.MP3="audio/mp3",e}({}),a=function(e){return e.AUTO="auto",e.ORIGINAL="original",e.CUSTOM="custom",e.SCROLL="scroll",e}({}),s=function(e){return e.IMAGE="image",e.VIDEO="video",e.AUDIO="audio",e.PDF="pdf",e}({}),l=function(e){return e.AUTO="auto",e.CRISP_EDGES="crisp-edges",e.PIXELATED="pixelated",e}({}),c=function(e){return e.AUTOPLAY="autoplay",e.DOWNLOAD="download",e.NAVIGATION="navigation",e.ZOOM="zoom",e}({}),u=function(e){return e.DEFAULT="default",e.PANPINCH="panpinch",e}({});const d={autoPlay:!0,buttons:[],controls:!0,description:"",height:0,heightMode:a.AUTO,heightName:"",infinityPlay:!1,noResultsMessage:"Nothing to display...",scale:l.AUTO,autoPlayInfinity:!1,toolbar:!0,width:0,widthMode:a.AUTO,widthName:"",zoomType:u.DEFAULT,mediaSources:[],pdfToolbar:!0},p={"/":i.JPEG,R:i.GIF,i:i.PNG,J:i.PDF,A:i.HEIC},f=[{value:a.AUTO,label:"Panel",description:"Based on panel size"},{value:a.ORIGINAL,label:"Original"},{value:a.SCROLL,label:"Original with scroll"},{value:a.CUSTOM,label:"Custom"}],h=[{value:l.AUTO,label:"Auto"},{value:l.CRISP_EDGES,label:"Crisp Edges",description:"The image is scaled with an algorithm that preserves contrast and edges in the image. Generally intended for images such as pixel art or line drawings, no blurring or color smoothing occurs."},{value:l.PIXELATED,label:"Pixelated",description:'The image is scaled with the "nearest neighbor" or similar algorithm, preserving a "pixelated" look as the image changes in size.'}],m=(s.AUDIO,s.IMAGE,s.PDF,s.VIDEO,[{value:!0,label:"Enabled"},{value:!1,label:"Disabled"}]),v=/^data:(video\/\w+|audio\/\w+|image|application\/\w+)/,y=[{value:s.AUDIO,label:"Audio"},{value:s.IMAGE,label:"Image"},{value:s.PDF,label:"PDF"},{value:s.VIDEO,label:"Video"}],w="data-testid panel audio",S="data-testid panel button-download",E="data-testid panel button-next",A="data-testid panel button-pause",x="data-testid panel button-play",C="data-testid panel button-previous",O="data-testid panel button-zoom",I="data-testid panel button-zoom-pan-pinch-in",R="data-testid panel button-zoom-pan-pinch-out",D="data-testid panel button-zoom-pan-pinch-reset",P="data-testid panel iframe",T="data-testid panel image",_="data-testid panel image-scroll-container",k="data-testid panel image-link",B="data-testid panel",M="data-testid panel video",L="data-testid panel warning",N="data-testid media-source-editor",j="data-testid media-source-editor button-add-new",F="data-testid media-source-editor button-remove",z=e=>`data-testid media-source-editor item-header-${e}`,V=e=>`data-testid media-source-editor item-content-${e}`,$="data-testid media-source-editor field-type",U="data-testid media-source-editor field-name",W="data-testid media-source-editor field-type-new",H="data-testid media-source-editor field-name-new",G=[{value:c.AUTOPLAY,label:"Auto Play"},{value:c.DOWNLOAD,label:"Download"},{value:c.NAVIGATION,label:"Navigation"},{value:c.ZOOM,label:"Zoom"}],q=[{value:u.DEFAULT,label:"Full Screen"},{value:u.PANPINCH,label:"Pan and Pinch"}];g(8891).hp;const Y=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder&&new TextEncoder,Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")),X=((e=>{let t={};e.forEach(((e,n)=>t[e]=n))})(Y),String.fromCharCode.bind(String),"function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>{if("string"!=typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)});var Q=g(7774),Z=g(8891).hp;const K=(e,t,n=512)=>{e=e.replace(/^[^,]+,/,"").replace(/\s/g,"");const r=Z.from(e,"base64").toString("binary"),o=[];for(let e=0;e<r.length;e+=n){const t=r.slice(e,e+n),i=new Array(t.length);for(let e=0;e<t.length;e++)i[e]=t.charCodeAt(e);o.push(new Uint8Array(i))}return new Blob(o,{type:t})},J=e=>{let t,n=e;if(e){const r=e.match(v);(null==r?void 0:r.length)?Object.values(i).includes(r[1])&&(t=r[1]):(t=p[e.charAt(0)],n=t?`data:${t};base64,${n}`:`data:;base64,${n}`)}return{currentMedia:n,type:t}},ee=(t,n)=>{const r=e.fieldMatchers.get(e.FieldMatcherID.byName).get(n),o=(0,Q.UI)(t,((e,n)=>r(e,n,t)));return o&&o.values?o.values:[]};var te=g(5292),ne=g.n(te),re=g(9893),oe=g.n(re),ie=g(9383),ae=g.n(ie),se=g(6884),le=g.n(se),ce=g(9088),ue=g.n(ce),de=g(7997),pe=g.n(de),fe=g(9250),he={};he.styleTagTransform=pe(),he.setAttributes=le(),he.insert=ae().bind(null,"head"),he.domAPI=oe(),he.insertStyleElement=ue(),ne()(fe.A,he),fe.A&&fe.A.locals&&fe.A.locals;var me=g(2249),ge=g(8398),be=g.n(ge);const ve=(e,t)=>e===t?.tagName?.toUpperCase?.(),ye=e=>ve("DIV",e)||ve("SPAN",e),we=e=>ve("IMG",e),Se=e=>e.complete&&0!==e.naturalHeight,Ee=e=>ve("SVG",e),Ae=({height:e,offset:t,width:n})=>Math.min((window.innerWidth-2*t)/n,(window.innerHeight-2*t)/e),xe=({containerHeight:e,containerWidth:t,hasScalableSrc:n,offset:r,targetHeight:o,targetWidth:i})=>e&&t?!n&&o&&i?(({containerHeight:e,containerWidth:t,offset:n,targetHeight:r,targetWidth:o})=>{const i=Ae({height:r,offset:n,width:o}),a=o>r?o/t:r/e;return i>1?a:i*a})({containerHeight:e,containerWidth:t,offset:r,targetHeight:o,targetWidth:i}):Ae({height:e,offset:r,width:t}):1,Ce=/url(?:\(['"]?)(.*?)(?:['"]?\))/,Oe=e=>{if(e){if(we(e))return e.currentSrc;if(ye(e)){const t=window.getComputedStyle(e).backgroundImage;if(t)return Ce.exec(t)?.[1]}}},Ie=({position:e,relativeNum:t})=>{const n=parseFloat(e);return e.endsWith("%")?t*n/100:n},Re=/\.svg$/i,De=e=>{if(!e)return{};if(Ee(e)){const t=e.parentElement,n=e.getBoundingClientRect();if(t){const e=t.getBoundingClientRect();return{height:n.height,left:e.left-n.left,top:e.top-n.top,width:n.width}}return{height:n.height,left:n.left,width:n.width,top:n.top}}return{height:e.offsetHeight,left:e.offsetLeft,width:e.offsetWidth,top:e.offsetTop}},Pe=["img","svg",'[role="img"]',"[data-zoom]"].map((e=>`${e}:not([aria-hidden="true"])`)).join(","),Te={overflow:"",width:""};function _e(e){return r.createElement(ke,{...e})}class ke extends r.Component{constructor(){super(...arguments),this.state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1,styleGhost:{}},this.refContent=r.createRef(),this.refDialog=r.createRef(),this.refModalContent=r.createRef(),this.refModalImg=r.createRef(),this.refWrap=r.createRef(),this.imgEl=null,this.isScaling=!1,this.prevBodyAttrs=Te,this.styleModalImg={},this.handleModalStateChange=e=>{const{modalState:t}=this.state;"LOADING"!==e&&"LOADING"===t?(this.loadZoomImg(),window.addEventListener("resize",this.handleResize,{passive:!0}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),window.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("touchcancel",this.handleTouchCancel,{passive:!0}),document.addEventListener("keydown",this.handleKeyDown,!0)):"LOADED"!==e&&"LOADED"===t?window.addEventListener("wheel",this.handleWheel,{passive:!0}):"UNLOADING"!==e&&"UNLOADING"===t?(this.ensureImgTransitionEnd(),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),document.removeEventListener("keydown",this.handleKeyDown,!0)):"UNLOADED"!==e&&"UNLOADED"===t&&(this.bodyScrollEnable(),window.removeEventListener("resize",this.handleResize),this.refModalImg.current?.removeEventListener?.("transitionend",this.handleImgTransitionEnd),this.refDialog.current?.close?.())},this.getDialogContainer=()=>{let e=document.querySelector("[data-rmiz-portal]");return null==e&&(e=document.createElement("div"),e.setAttribute("data-rmiz-portal",""),document.body.appendChild(e)),e},this.setId=()=>{const e=()=>Math.random().toString(16).slice(-4);this.setState({id:e()+e()+e()})},this.setAndTrackImg=()=>{const e=this.refContent.current;e&&(this.imgEl=e.querySelector(Pe),this.imgEl?(this.contentNotFoundChangeObserver?.disconnect?.(),this.imgEl.addEventListener("load",this.handleImgLoad),this.imgEl.addEventListener("click",this.handleZoom),this.state.loadedImgEl||this.handleImgLoad(),this.imgElResizeObserver=new ResizeObserver((e=>{const t=e[0];t?.target&&(this.imgEl=t.target,this.setState({styleGhost:De(this.imgEl)}))})),this.imgElResizeObserver.observe(this.imgEl),this.contentChangeObserver||(this.contentChangeObserver=new MutationObserver((()=>{this.setState({styleGhost:De(this.imgEl)})})),this.contentChangeObserver.observe(e,{attributes:!0,childList:!0,subtree:!0}))):this.contentNotFoundChangeObserver||(this.contentNotFoundChangeObserver=new MutationObserver(this.setAndTrackImg),this.contentNotFoundChangeObserver.observe(e,{childList:!0,subtree:!0})))},this.handleIfZoomChanged=e=>{const{isZoomed:t}=this.props;!e&&t?this.zoom():e&&!t&&this.unzoom()},this.handleImgLoad=()=>{const e=Oe(this.imgEl);if(!e)return;const t=new Image;we(this.imgEl)&&(t.sizes=this.imgEl.sizes,t.srcset=this.imgEl.srcset,t.crossOrigin=this.imgEl.crossOrigin),t.src=e;const n=()=>{this.setState({loadedImgEl:t,styleGhost:De(this.imgEl)})};t.decode().then(n).catch((()=>{Se(t)?n():t.onload=n}))},this.handleZoom=()=>{this.hasImage()&&this.props.onZoomChange?.(!0)},this.handleUnzoom=()=>{this.props.onZoomChange?.(!1)},this.handleBtnUnzoomClick=e=>{e.preventDefault(),e.stopPropagation(),this.handleUnzoom()},this.handleDialogCancel=e=>{e.preventDefault()},this.handleDialogClick=e=>{e.target!==this.refModalContent.current&&e.target!==this.refModalImg.current||(e.stopPropagation(),this.handleUnzoom())},this.handleDialogClose=e=>{e.stopPropagation(),this.handleUnzoom()},this.handleKeyDown=e=>{"Escape"!==e.key&&27!==e.keyCode||(e.preventDefault(),e.stopPropagation(),this.handleUnzoom())},this.handleWheel=e=>{e.ctrlKey||(e.stopPropagation(),queueMicrotask((()=>{this.handleUnzoom()})))},this.handleTouchStart=e=>{e.touches.length>1?this.isScaling=!0:1===e.changedTouches.length&&e.changedTouches[0]&&(this.touchYStart=e.changedTouches[0].screenY)},this.handleTouchMove=e=>{const t=window.visualViewport?.scale??1;if(this.props.canSwipeToUnzoom&&!this.isScaling&&t<=1&&null!=this.touchYStart&&e.changedTouches[0]){this.touchYEnd=e.changedTouches[0].screenY;const t=Math.max(this.touchYStart,this.touchYEnd),n=Math.min(this.touchYStart,this.touchYEnd);Math.abs(t-n)>this.props.swipeToUnzoomThreshold&&(this.touchYStart=void 0,this.touchYEnd=void 0,this.handleUnzoom())}},this.handleTouchEnd=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleTouchCancel=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleResize=()=>{this.setState({shouldRefresh:!0})},this.hasImage=()=>this.imgEl&&(this.state.loadedImgEl||Ee(this.imgEl))&&"none"!==window.getComputedStyle(this.imgEl).display,this.zoom=()=>{this.bodyScrollDisable(),this.refDialog.current?.showModal?.(),this.refModalImg.current?.addEventListener?.("transitionend",this.handleImgTransitionEnd),this.setState({modalState:"LOADING"})},this.unzoom=()=>{this.setState({modalState:"UNLOADING"})},this.handleImgTransitionEnd=()=>{clearTimeout(this.timeoutTransitionEnd),"LOADING"===this.state.modalState?this.setState({modalState:"LOADED"}):"UNLOADING"===this.state.modalState&&this.setState({shouldRefresh:!1,modalState:"UNLOADED"})},this.ensureImgTransitionEnd=()=>{if(this.refModalImg.current){const e=window.getComputedStyle(this.refModalImg.current).transitionDuration,t=parseFloat(e);if(t){const n=t*(e.endsWith("ms")?1:1e3)+50;this.timeoutTransitionEnd=setTimeout(this.handleImgTransitionEnd,n)}}},this.bodyScrollDisable=()=>{this.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};const e=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width=`${e}px`},this.bodyScrollEnable=()=>{document.body.style.width=this.prevBodyAttrs.width,document.body.style.overflow=this.prevBodyAttrs.overflow,this.prevBodyAttrs=Te},this.loadZoomImg=()=>{const{props:{zoomImg:e}}=this,t=e?.src;if(t){const n=new Image;n.sizes=e?.sizes??"",n.srcset=e?.srcSet??"",n.crossOrigin=e?.crossOrigin??void 0,n.src=t;const r=()=>{this.setState({isZoomImgLoaded:!0})};n.decode().then(r).catch((()=>{Se(n)?r():n.onload=r}))}},this.UNSAFE_handleSvg=()=>{const{imgEl:e,refModalImg:t,styleModalImg:n}=this;if(Ee(e)){const r=e.cloneNode(!0);(e=>{const t="-zoom",n=["clip-path","fill","mask","marker-start","marker-mid","marker-end"],r=new Map;if(e.hasAttribute("id")){const n=e.id,o=n+t;r.set(n,o),e.id=o}e.querySelectorAll("[id]").forEach((e=>{const n=e.id,o=n+t;r.set(n,o),e.id=o})),r.forEach(((t,r)=>{const o=`url(#${r})`,i=`url(#${t})`,a=n.map((e=>`[${e}="${o}"]`)).join(", ");e.querySelectorAll(a).forEach((e=>{n.forEach((t=>{e.getAttribute(t)===o&&e.setAttribute(t,i)}))}))})),e.querySelectorAll("style").forEach((e=>{r.forEach(((t,n)=>{e.textContent&&(e.textContent=e.textContent.replaceAll(`#${n}`,`#${t}`))}))}))})(r),r.style.width=`${n.width||0}px`,r.style.height=`${n.height||0}px`,r.addEventListener("click",this.handleUnzoom),t.current?.firstChild?.remove?.(),t.current?.appendChild?.(r)}}}render(){const{handleBtnUnzoomClick:e,handleDialogCancel:t,handleDialogClick:n,handleDialogClose:o,handleUnzoom:i,handleZoom:a,imgEl:s,props:{a11yNameButtonUnzoom:l,a11yNameButtonZoom:c,children:u,classDialog:d,IconUnzoom:p,IconZoom:f,isZoomed:h,wrapElement:m,ZoomContent:g,zoomImg:b,zoomMargin:v},refContent:y,refDialog:w,refModalContent:S,refModalImg:E,refWrap:A,state:{id:x,isZoomImgLoaded:C,loadedImgEl:O,modalState:I,shouldRefresh:R,styleGhost:D}}=this,P=`rmiz-modal-${x}`,T=`rmiz-modal-img-${x}`,_=ye(s),k=we(s),B=Ee(s),M=(e=>{if(e)return we(e)?e.alt??void 0:e.getAttribute("aria-label")??void 0})(s),L=Oe(s),N=k?s.sizes:void 0,j=k?s.srcset:void 0,F=k?s.crossOrigin:void 0,z=!!b?.src,V=this.hasImage(),$=M?`${c}: ${M}`:c,U="LOADING"===I||"LOADED"===I,W=V?"found":"not-found",H="UNLOADED"===I||"UNLOADING"===I?"hidden":"visible",G={visibility:"UNLOADED"===I?"visible":"hidden"};this.styleModalImg=V?(({hasZoomImg:e,imgSrc:t,isSvg:n,isZoomed:r,loadedImgEl:o,offset:i,shouldRefresh:a,targetEl:s})=>{const l=n||"data:image/svg+xml"===t?.slice?.(0,18)||e||!(!t||!Re.test(t)),c=s.getBoundingClientRect(),u=window.getComputedStyle(s),d=null!=o&&ye(s),p=null!=o&&!d,f=(({containerHeight:e,containerLeft:t,containerTop:n,containerWidth:r,hasScalableSrc:o,offset:i,targetHeight:a,targetWidth:s})=>{const l=xe({containerHeight:e,containerWidth:r,hasScalableSrc:o,offset:i,targetHeight:a,targetWidth:s});return{top:n,left:t,width:r*l,height:e*l,transform:`translate(0,0) scale(${1/l})`}})({containerHeight:c.height,containerLeft:c.left,containerTop:c.top,containerWidth:c.width,hasScalableSrc:l,offset:i,targetHeight:o?.naturalHeight||c.height,targetWidth:o?.naturalWidth||c.width}),h=p?(({containerHeight:e,containerLeft:t,containerTop:n,containerWidth:r,hasScalableSrc:o,objectFit:i,objectPosition:a,offset:s,targetHeight:l,targetWidth:c})=>{if("scale-down"===i&&(i=c<=r&&l<=e?"none":"contain"),"cover"===i||"contain"===i){const u=r/c,d=e/l,p="cover"===i?Math.max(u,d):Math.min(u,d),[f="50%",h="50%"]=a.split(" "),m=Ie({position:f,relativeNum:r-c*p}),g=Ie({position:h,relativeNum:e-l*p}),b=xe({containerHeight:l*p,containerWidth:c*p,hasScalableSrc:o,offset:s,targetHeight:l,targetWidth:c});return{top:n+g,left:t+m,width:c*p*b,height:l*p*b,transform:`translate(0,0) scale(${1/b})`}}if("none"===i){const[i="50%",u="50%"]=a.split(" "),d=Ie({position:i,relativeNum:r-c}),p=Ie({position:u,relativeNum:e-l}),f=xe({containerHeight:l,containerWidth:c,hasScalableSrc:o,offset:s,targetHeight:l,targetWidth:c});return{top:n+p,left:t+d,width:c*f,height:l*f,transform:`translate(0,0) scale(${1/f})`}}if("fill"===i){const t=r/c,n=e/l,i=Math.max(t,n),a=xe({containerHeight:l*i,containerWidth:c*i,hasScalableSrc:o,offset:s,targetHeight:l,targetWidth:c});return{width:r*a,height:e*a,transform:`translate(0,0) scale(${1/a})`}}return{}})({containerHeight:c.height,containerLeft:c.left,containerTop:c.top,containerWidth:c.width,hasScalableSrc:l,objectFit:u.objectFit,objectPosition:u.objectPosition,offset:i,targetHeight:o?.naturalHeight||c.height,targetWidth:o?.naturalWidth||c.width}):void 0,m=d?(({backgroundPosition:e,backgroundSize:t,containerHeight:n,containerLeft:r,containerTop:o,containerWidth:i,hasScalableSrc:a,offset:s,targetHeight:l,targetWidth:c})=>{if("cover"===t||"contain"===t){const u=i/c,d=n/l,p="cover"===t?Math.max(u,d):Math.min(u,d),[f="50%",h="50%"]=e.split(" "),m=Ie({position:f,relativeNum:i-c*p}),g=Ie({position:h,relativeNum:n-l*p}),b=xe({containerHeight:l*p,containerWidth:c*p,hasScalableSrc:a,offset:s,targetHeight:l,targetWidth:c});return{top:o+g,left:r+m,width:c*p*b,height:l*p*b,transform:`translate(0,0) scale(${1/b})`}}if("auto"===t){const[t="50%",u="50%"]=e.split(" "),d=Ie({position:t,relativeNum:i-c}),p=Ie({position:u,relativeNum:n-l}),f=xe({containerHeight:l,containerWidth:c,hasScalableSrc:a,offset:s,targetHeight:l,targetWidth:c});return{top:o+p,left:r+d,width:c*f,height:l*f,transform:`translate(0,0) scale(${1/f})`}}{const[u="50%",d="50%"]=t.split(" "),p=Ie({position:u,relativeNum:i})/c,f=Ie({position:d,relativeNum:n})/l,h=Math.min(p,f),[m="50%",g="50%"]=e.split(" "),b=Ie({position:m,relativeNum:i-c*h}),v=Ie({position:g,relativeNum:n-l*h}),y=xe({containerHeight:l*h,containerWidth:c*h,hasScalableSrc:a,offset:s,targetHeight:l,targetWidth:c});return{top:o+v,left:r+b,width:c*h*y,height:l*h*y,transform:`translate(0,0) scale(${1/y})`}}})({backgroundPosition:u.backgroundPosition,backgroundSize:u.backgroundSize,containerHeight:c.height,containerLeft:c.left,containerTop:c.top,containerWidth:c.width,hasScalableSrc:l,offset:i,targetHeight:o?.naturalHeight||c.height,targetWidth:o?.naturalWidth||c.width}):void 0,g=Object.assign({},f,h,m);if(r){const e=window.innerWidth/2,t=window.innerHeight/2,n=e-(parseFloat(String(g.left||0))+parseFloat(String(g.width||0))/2),r=t-(parseFloat(String(g.top||0))+parseFloat(String(g.height||0))/2);a&&(g.transitionDuration="0.01ms"),g.transform=`translate(${n}px,${r}px) scale(1)`}return g})({hasZoomImg:z,imgSrc:L,isSvg:B,isZoomed:h&&U,loadedImgEl:O,offset:v,shouldRefresh:R,targetEl:s}):{};let q=null;if(V){const t=k||_?r.createElement("img",{alt:M,crossOrigin:F,sizes:N,src:L,srcSet:j,...C&&"LOADED"===I?b:{},"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:T,ref:E,style:this.styleModalImg,width:this.styleModalImg.width||void 0}):B?r.createElement("div",{"data-rmiz-modal-img":!0,ref:E,style:this.styleModalImg}):null,n=r.createElement("button",{"aria-label":l,"data-rmiz-btn-unzoom":"",onClick:e,type:"button"},r.createElement(p,null));q=g?r.createElement(g,{buttonUnzoom:n,modalState:I,img:t,onUnzoom:i}):r.createElement(r.Fragment,null,t,n)}return r.createElement(m,{"aria-owns":P,"data-rmiz":"",ref:A},r.createElement(m,{"data-rmiz-content":W,ref:y,style:G},u),V&&r.createElement(m,{"data-rmiz-ghost":"",style:D},r.createElement("button",{"aria-label":$,"data-rmiz-btn-zoom":"",onClick:a,type:"button"},r.createElement(f,null))),V&&ge.createPortal(r.createElement("dialog",{"aria-labelledby":T,"aria-modal":"true",className:d,"data-rmiz-modal":"",id:P,onClick:n,onClose:o,onCancel:t,ref:w,role:"dialog"},r.createElement("div",{"data-rmiz-modal-overlay":H}),r.createElement("div",{"data-rmiz-modal-content":"",ref:S},q)),this.getDialogContainer()))}componentDidMount(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}componentWillUnmount(){"UNLOADED"!==this.state.modalState&&this.bodyScrollEnable(),this.contentChangeObserver?.disconnect?.(),this.contentNotFoundChangeObserver?.disconnect?.(),this.imgElResizeObserver?.disconnect?.(),this.imgEl?.removeEventListener?.("load",this.handleImgLoad),this.imgEl?.removeEventListener?.("click",this.handleZoom),this.refModalImg.current?.removeEventListener?.("transitionend",this.handleImgTransitionEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(e,t){this.handleModalStateChange(t.modalState),this.UNSAFE_handleSvg(),this.handleIfZoomChanged(e.isZoomed)}}ke.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",canSwipeToUnzoom:!0,IconUnzoom:function(){return r.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))},IconZoom:function(){return r.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))},swipeToUnzoomThreshold:10,wrapElement:"div",zoomMargin:0};var Be=function(e,t){return Number(e.toFixed(t))},Me=function(e,t,n){n&&"function"==typeof n&&n(e,t)},Le={easeOut:function(e){return-Math.cos(e*Math.PI)/2+.5},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},Ne=function(e){"number"==typeof e&&cancelAnimationFrame(e)},je=function(e){e.mounted&&(Ne(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function Fe(e,t,n,r){if(e.mounted){var o=(new Date).getTime();je(e),e.animation=function(){if(!e.mounted)return Ne(e.animation);var i=(new Date).getTime()-o,a=(0,Le[t])(i/n);i>=n?(r(1),e.animation=null):e.animation&&(r(a),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function ze(e,t,n,r){var o=function(e){var t=e.scale,n=e.positionX,r=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))}(t);if(e.mounted&&o){var i=e.setTransformState,a=e.transformState,s=a.scale,l=a.positionX,c=a.positionY,u=t.scale-s,d=t.positionX-l,p=t.positionY-c;0===n?i(t.scale,t.positionX,t.positionY):Fe(e,r,n,(function(e){i(s+u*e,l+d*e,c+p*e)}))}}var Ve=function(e,t){var n=e.wrapperComponent,r=e.contentComponent,o=e.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var i=function(e,t,n){var r=e.offsetWidth,o=e.offsetHeight,i=t.offsetWidth*n,a=t.offsetHeight*n;return{wrapperWidth:r,wrapperHeight:o,newContentWidth:i,newDiffWidth:r-i,newContentHeight:a,newDiffHeight:o-a}}(n,r,t),a=i.wrapperWidth,s=i.wrapperHeight,l=function(e,t,n,r,o,i,a){var s=e>t?n*(a?1:.5):0,l=r>o?i*(a?1:.5):0;return{minPositionX:e-t-s,maxPositionX:s,minPositionY:r-o-l,maxPositionY:l}}(a,i.newContentWidth,i.newDiffWidth,s,i.newContentHeight,i.newDiffHeight,Boolean(o));return l},$e=function(e,t,n,r){return Be(r?e<t?t:e>n?n:e:e,2)},Ue=function(e,t){var n=Ve(e,t);return e.bounds=n,n};function We(e,t,n,r,o,i,a){var s=n.minPositionX,l=n.minPositionY,c=n.maxPositionX,u=n.maxPositionY,d=0,p=0;return a&&(d=o,p=i),{x:$e(e,s-d,c+d,r),y:$e(t,l-p,u+p,r)}}function He(e,t,n,r,o,i){var a=e.transformState,s=a.scale,l=a.positionX,c=a.positionY,u=r-s;return"number"!=typeof t||"number"!=typeof n?(console.error("Mouse X and Y position were not provided!"),{x:l,y:c}):We(l-t*u,c-n*u,o,i,0,0,null)}function Ge(e,t,n,r,o){var i=t-(o?r:0);return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=i?i:e}var qe=function(e,t){var n=e.setup.panning.excluded,r=e.isInitialized,o=e.wrapperComponent,i=t.target,a="shadowRoot"in i&&"composedPath"in t?t.composedPath().some((function(e){return e instanceof Element&&(null==o?void 0:o.contains(e))})):null==o?void 0:o.contains(i);return!!(r&&i&&a)&&!Et(i,n)},Ye=function(e){var t=e.isInitialized,n=e.isPanning,r=e.setup.panning.disabled;return!(!t||!n||r)};function Xe(e,t,n,r,o){var i=e.setup.limitToBounds,a=e.wrapperComponent,s=e.bounds,l=e.transformState,c=l.scale,u=l.positionX,d=l.positionY;if(null!==a&&null!==s&&(t!==u||n!==d)){var p=We(t,n,s,i,r,o,a),f=p.x,h=p.y;e.setTransformState(c,f,h)}}var Qe=function(e,t){var n=e.setup,r=e.transformState.scale,o=n.minScale,i=n.disablePadding;return t>0&&r>=o&&!i?t:0};function Ze(e,t,n,r,o,i,a,s,l,c){if(o){var u;if(t>a&&n>a)return(u=a+(e-a)*c)>l?l:u<a?a:u;if(t<i&&n<i)return(u=i+(e-i)*c)<s?s:u>i?i:u}return r?t:$e(e,i,a,o)}function Ke(e,t){var n=e.transformState.scale;je(e),Ue(e,n),void 0!==window.TouchEvent&&t instanceof TouchEvent?function(e,t){var n=t.touches,r=e.transformState,o=r.positionX,i=r.positionY;if(e.isPanning=!0,1===n.length){var a=n[0].clientX,s=n[0].clientY;e.startCoords={x:a-o,y:s-i}}}(e,t):function(e,t){var n=e.transformState,r=n.positionX,o=n.positionY;e.isPanning=!0;var i=t.clientX,a=t.clientY;e.startCoords={x:i-r,y:a-o}}(e,t)}function Je(e,t){var n=e.transformState.scale,r=e.setup,o=r.minScale,i=r.alignmentAnimation,a=i.disabled,s=i.sizeX,l=i.sizeY,c=i.animationTime,u=i.animationType;if(!(a||n<o||!s&&!l)){var d=function(e){var t=e.transformState,n=t.positionX,r=t.positionY,o=t.scale,i=e.setup,a=i.disabled,s=i.limitToBounds,l=i.centerZoomedOut,c=e.wrapperComponent;if(!a&&c&&e.bounds){var u=e.bounds,d=u.maxPositionX,p=u.minPositionX,f=u.maxPositionY,h=u.minPositionY,m=n>d||n<p,g=r>f||r<h,b=He(e,n>d?c.offsetWidth:e.setup.minPositionX||0,r>f?c.offsetHeight:e.setup.minPositionY||0,o,e.bounds,s||l),v=b.x,y=b.y;return{scale:o,positionX:m?v:n,positionY:g?y:r}}}(e);d&&ze(e,d,null!=t?t:c,u)}}function et(e,t,n){var r=e.startCoords,o=e.setup.alignmentAnimation,i=o.sizeX,a=o.sizeY;if(r){var s=function(e,t,n){var r=e.startCoords,o=e.transformState,i=e.setup.panning,a=i.lockAxisX,s=i.lockAxisY,l=o.positionX,c=o.positionY;if(!r)return{x:l,y:c};var u=t-r.x,d=n-r.y;return{x:a?l:u,y:s?c:d}}(e,t,n),l=s.x,c=s.y,u=Qe(e,i),d=Qe(e,a);(function(e,t){var n=function(e){var t=e.mounted,n=e.setup,r=n.disabled,o=n.velocityAnimation,i=e.transformState.scale;return!(o.disabled&&!(i>1)&&r&&!t)}(e);if(n){var r=e.lastMousePosition,o=e.velocityTime,i=e.setup,a=e.wrapperComponent,s=i.velocityAnimation.equalToMove,l=Date.now();if(r&&o&&a){var c=function(e,t){return t?Math.min(1,e.offsetWidth/window.innerWidth):1}(a,s),u=t.x-r.x,d=t.y-r.y,p=u/c,f=d/c,h=l-o,m=u*u+d*d,g=Math.sqrt(m)/h;e.velocity={velocityX:p,velocityY:f,total:g}}e.lastMousePosition=t,e.velocityTime=l}})(e,{x:l,y:c}),Xe(e,l,c,u,d)}}function tt(e,t,n,r){var o=e.setup,i=o.minScale,a=o.maxScale,s=o.limitToBounds,l=Ge(Be(t,2),i,a,0,!1),c=He(e,n,r,l,Ue(e,l),s);return{scale:l,positionX:c.x,positionY:c.y}}function nt(e,t,n){var r=e.transformState.scale,o=e.wrapperComponent,i=e.setup,a=i.minScale,s=i.limitToBounds,l=i.zoomAnimation,c=l.disabled,u=l.animationTime,d=l.animationType,p=c||r>=a;if((r>=1||s)&&Je(e),!p&&o&&e.mounted){var f=tt(e,a,t||o.offsetWidth/2,n||o.offsetHeight/2);f&&ze(e,f,u,d)}}var rt=function(){return rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},rt.apply(this,arguments)};function ot(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var it={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},at="react-transform-wrapper",st=function(e){var t,n,r,o;return{previousScale:null!==(t=e.initialScale)&&void 0!==t?t:1,scale:null!==(n=e.initialScale)&&void 0!==n?n:1,positionX:null!==(r=e.initialPositionX)&&void 0!==r?r:0,positionY:null!==(o=e.initialPositionY)&&void 0!==o?o:0}},lt=function(e){var t=rt({},it);return Object.keys(e).forEach((function(n){var r=void 0!==e[n];if(void 0!==it[n]&&r){var o=Object.prototype.toString.call(it[n]),i="[object Object]"===o,a="[object Array]"===o;t[n]=i?rt(rt({},it[n]),e[n]):a?ot(ot([],it[n],!0),e[n],!0):e[n]}})),t},ct=function(e,t,n){var r=e.transformState.scale,o=e.wrapperComponent,i=e.setup,a=i.maxScale,s=i.minScale,l=i.zoomAnimation,c=i.smooth,u=l.size;if(!o)throw new Error("Wrapper is not mounted");var d=c?r*Math.exp(t*n):r+t*n;return Ge(Be(d,3),s,a,u,!1)};function ut(e,t,n,r,o){var i=e.wrapperComponent,a=e.transformState,s=a.scale,l=a.positionX,c=a.positionY;if(!i)return console.error("No WrapperComponent found");var u=(i.offsetWidth/2-l)/s,d=(i.offsetHeight/2-c)/s,p=tt(e,ct(e,t,n),u,d);if(!p)return console.error("Error during zoom event. New transformation state was not calculated.");ze(e,p,r,o)}function dt(e,t,n,r){var o=e.setup,i=e.wrapperComponent,a=o.limitToBounds,s=st(e.props),l=e.transformState,c=l.scale,u=l.positionX,d=l.positionY;if(i){var p=Ve(e,s.scale),f=We(s.positionX,s.positionY,p,a,0,0,i),h={scale:s.scale,positionX:f.x,positionY:f.y};c===s.scale&&u===s.positionX&&d===s.positionY||(null==r||r(),ze(e,h,t,n))}}var pt=function(e){return function(t,n,r){void 0===t&&(t=.5),void 0===n&&(n=300),void 0===r&&(r="easeOut"),ut(e,1,t,n,r)}},ft=function(e){return function(t,n,r){void 0===t&&(t=.5),void 0===n&&(n=300),void 0===r&&(r="easeOut"),ut(e,-1,t,n,r)}},ht=function(e){return function(t,n,r,o,i){void 0===o&&(o=300),void 0===i&&(i="easeOut");var a=e.transformState,s=a.positionX,l=a.positionY,c=a.scale,u=e.wrapperComponent,d=e.contentComponent;if(!e.setup.disabled&&u&&d){var p={positionX:Number.isNaN(t)?s:t,positionY:Number.isNaN(n)?l:n,scale:Number.isNaN(r)?c:r};ze(e,p,o,i)}}},mt=function(e){return function(t,n){void 0===t&&(t=200),void 0===n&&(n="easeOut"),dt(e,t,n)}},gt=function(e){return function(t,n,r){void 0===n&&(n=200),void 0===r&&(r="easeOut");var o=e.transformState,i=e.wrapperComponent,a=e.contentComponent;if(i&&a){var s=xt(t||o.scale,i,a);ze(e,s,n,r)}}},bt=function(e){return function(t,n,r,o){void 0===r&&(r=600),void 0===o&&(o="easeOut"),je(e);var i=e.wrapperComponent,a="string"==typeof t?document.getElementById(t):t;if(i&&a&&i.contains(a)){var s=function(e,t,n){var r=e.wrapperComponent,o=e.contentComponent,i=e.transformState,a=e.setup,s=a.limitToBounds,l=a.minScale,c=a.maxScale;if(!r||!o)return i;var u,d,p,f,h,m,g,b,v=r.getBoundingClientRect(),y=t.getBoundingClientRect(),w=(u=r,d=o,p=i,f=t.getBoundingClientRect(),h=u.getBoundingClientRect(),m=d.getBoundingClientRect(),g=h.x*p.scale,b=h.y*p.scale,{x:(f.x-m.x+g)/p.scale,y:(f.y-m.y+b)/p.scale}),S=w.x,E=w.y,A=y.width/i.scale,x=y.height/i.scale,C=r.offsetWidth/A,O=r.offsetHeight/x,I=Ge(n||Math.min(C,O),l,c,0,!1),R=(v.width-A*I)/2,D=(v.height-x*I)/2,P=We((v.left-S)*I+R,(v.top-E)*I+D,Ve(e,I),s,0,0,r);return{positionX:P.x,positionY:P.y,scale:I}}(e,a,n);ze(e,s,r,o)}}},vt=function(e){return{instance:e,zoomIn:pt(e),zoomOut:ft(e),setTransform:ht(e),resetTransform:mt(e),centerView:gt(e),zoomToElement:bt(e)}},yt=function(e){var t={};return Object.assign(t,function(e){return{instance:e,state:e.transformState}}(e)),Object.assign(t,vt(e)),t};function wt(){try{return{get passive(){return!1}}}catch(e){return!1}}var St=".".concat(at),Et=function(e,t){return t.some((function(t){return e.matches("".concat(St," ").concat(t,", ").concat(St," .").concat(t,", ").concat(St," ").concat(t," *, ").concat(St," .").concat(t," *"))}))},At=function(e){e&&clearTimeout(e)},xt=function(e,t,n){var r=n.offsetWidth*e,o=n.offsetHeight*e;return{scale:e,positionX:(t.offsetWidth-r)/2,positionY:(t.offsetHeight-o)/2}};function Ct(e,t,n){var r=t.getBoundingClientRect(),o=0,i=0;if("clientX"in e)o=(e.clientX-r.left)/n,i=(e.clientY-r.top)/n;else{var a=e.touches[0];o=(a.clientX-r.left)/n,i=(a.clientY-r.top)/n}return(Number.isNaN(o)||Number.isNaN(i))&&console.error("No mouse or touch offset found"),{x:o,y:i}}var Ot=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},It=function(e){for(var t=0,n=0,r=0;r<2;r+=1)t+=e.touches[r].clientX,n+=e.touches[r].clientY;return{x:t/2,y:n/2}},Rt=function(e,t){var n=e.props.onZoomStop,r=e.setup.doubleClick.animationTime;At(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout((function(){e.doubleClickStopEventTimer=null,Me(yt(e),t,n)}),r)};var Dt=function(e){var t=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(e){t.props=e,Ue(t,t.transformState.scale),t.setup=lt(e)},this.initializeWindowEvents=function(){var e,n,r=wt(),o=null===(e=t.wrapperComponent)||void 0===e?void 0:e.ownerDocument,i=null==o?void 0:o.defaultView;null===(n=t.wrapperComponent)||void 0===n||n.addEventListener("wheel",t.onWheelPanning,r),null==i||i.addEventListener("mousedown",t.onPanningStart,r),null==i||i.addEventListener("mousemove",t.onPanning,r),null==i||i.addEventListener("mouseup",t.onPanningStop,r),null==o||o.addEventListener("mouseleave",t.clearPanning,r),null==i||i.addEventListener("keyup",t.setKeyUnPressed,r),null==i||i.addEventListener("keydown",t.setKeyPressed,r)},this.cleanupWindowEvents=function(){var e,n,r=wt(),o=null===(e=t.wrapperComponent)||void 0===e?void 0:e.ownerDocument,i=null==o?void 0:o.defaultView;null==i||i.removeEventListener("mousedown",t.onPanningStart,r),null==i||i.removeEventListener("mousemove",t.onPanning,r),null==i||i.removeEventListener("mouseup",t.onPanningStop,r),null==o||o.removeEventListener("mouseleave",t.clearPanning,r),null==i||i.removeEventListener("keyup",t.setKeyUnPressed,r),null==i||i.removeEventListener("keydown",t.setKeyPressed,r),document.removeEventListener("mouseleave",t.clearPanning,r),je(t),null===(n=t.observer)||void 0===n||n.disconnect()},this.handleInitializeWrapperEvents=function(e){var n=wt();e.addEventListener("wheel",t.onWheelZoom,n),e.addEventListener("dblclick",t.onDoubleClick,n),e.addEventListener("touchstart",t.onTouchPanningStart,n),e.addEventListener("touchmove",t.onTouchPanning,n),e.addEventListener("touchend",t.onTouchPanningStop,n)},this.handleInitialize=function(e,n){var r=!1,o=t.setup.centerOnInit,i=function(e,t){for(var n=0,r=e;n<r.length;n++)if(r[n].target===t)return!0;return!1};t.applyTransformation(),t.onInitCallbacks.forEach((function(e){e(yt(t))})),t.observer=new ResizeObserver((function(a){if(i(a,e)||i(a,n))if(o&&!r){var s=n.offsetWidth,l=n.offsetHeight;(s>0||l>0)&&(r=!0,t.setCenter())}else je(t),Ue(t,t.transformState.scale),Je(t,0)})),t.observer.observe(e),t.observer.observe(n)},this.onWheelZoom=function(e){if(!t.setup.disabled){var n=function(e,t){var n=e.setup.wheel,r=n.disabled,o=n.wheelDisabled,i=n.touchPadDisabled,a=n.excluded,s=e.isInitialized,l=e.isPanning,c=t.target;return!(!s||l||r||!c||o&&!t.ctrlKey||i&&t.ctrlKey||Et(c,a))}(t,e);n&&t.isPressingKeys(t.setup.wheel.activationKeys)&&(function(e,t){var n=e.props,r=n.onWheelStart,o=n.onZoomStart;e.wheelStopEventTimer||(je(e),Me(yt(e),t,r),Me(yt(e),t,o))}(t,e),function(e,t){var n=e.props,r=n.onWheel,o=n.onZoom,i=e.contentComponent,a=e.setup,s=e.transformState.scale,l=a.limitToBounds,c=a.centerZoomedOut,u=a.zoomAnimation,d=a.wheel,p=a.disablePadding,f=a.smooth,h=u.size,m=u.disabled,g=d.step,b=d.smoothStep;if(!i)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var v=function(e){var t=function(e){return e?e.deltaY<0?1:-1:0}(e);return t}(t),y=function(e,t,n,r){var o=e.transformState.scale,i=e.wrapperComponent,a=e.setup,s=a.maxScale,l=a.minScale,c=a.zoomAnimation,u=a.disablePadding,d=c.size,p=c.disabled;if(!i)throw new Error("Wrapper is not mounted");var f=!r&&!p;return Ge(Be(o+t*n,3),l,s,d,f&&!u)}(e,v,f?b*Math.abs(t.deltaY):g,!t.ctrlKey);if(s!==y){var w=Ue(e,y),S=Ct(t,i,s),E=l&&(m||0===h||c||p),A=He(e,S.x,S.y,y,w,E),x=A.x,C=A.y;e.previousWheelEvent=t,e.setTransformState(y,x,C),Me(yt(e),t,r),Me(yt(e),t,o)}}(t,e),function(e,t){var n=e.props,r=n.onWheelStop,o=n.onZoomStop;At(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout((function(){e.mounted&&(nt(e,t.x,t.y),e.wheelAnimationTimer=null)}),100);var i=function(e,t){var n=e.previousWheelEvent,r=e.transformState.scale,o=e.setup,i=o.maxScale,a=o.minScale;return!!n&&(r<i||r>a||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY))}(e,t);i&&(At(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout((function(){e.mounted&&(e.wheelStopEventTimer=null,Me(yt(e),t,r),Me(yt(e),t,o))}),160))}(t,e))}},this.onWheelPanning=function(e){var n=t.setup,r=n.disabled,o=n.wheel,i=n.panning;if(t.wrapperComponent&&t.contentComponent&&!r&&o.wheelDisabled&&!i.disabled&&i.wheelPanning&&!e.ctrlKey){e.preventDefault(),e.stopPropagation();var a=t.transformState,s=a.positionX,l=a.positionY,c=s-e.deltaX,u=l-e.deltaY,d=i.lockAxisX?s:c,p=i.lockAxisY?l:u,f=t.setup.alignmentAnimation,h=f.sizeX,m=f.sizeY,g=Qe(t,h),b=Qe(t,m);d===s&&p===l||Xe(t,d,p,g,b)}},this.onPanningStart=function(e){var n=t.setup.disabled,r=t.props.onPanningStart;n||qe(t,e)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(0!==e.button||t.setup.panning.allowLeftClickPan)&&(1!==e.button||t.setup.panning.allowMiddleClickPan)&&(2!==e.button||t.setup.panning.allowRightClickPan)&&(e.preventDefault(),e.stopPropagation(),je(t),Ke(t,e),Me(yt(t),e,r))},this.onPanning=function(e){var n=t.setup.disabled,r=t.props.onPanning;n||Ye(t)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(e.preventDefault(),e.stopPropagation(),et(t,e.clientX,e.clientY),Me(yt(t),e,r))},this.onPanningStop=function(e){var n=t.props.onPanningStop;t.isPanning&&(function(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,r=e.wrapperComponent,o=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var i=null==r?void 0:r.getBoundingClientRect(),a=null==o?void 0:o.getBoundingClientRect(),s=(null==i?void 0:i.width)||0,l=(null==i?void 0:i.height)||0,c=(null==a?void 0:a.width)||0,u=(null==a?void 0:a.height)||0,d=s<c||l<u;!t&&n&&(null==n?void 0:n.total)>.1&&d?function(e){var t=e.velocity,n=e.bounds,r=e.setup,o=e.wrapperComponent,i=function(e){var t=e.mounted,n=e.velocity,r=e.bounds,o=e.setup,i=o.disabled,a=o.velocityAnimation,s=e.transformState.scale;return!(a.disabled&&!(s>1)&&i&&!t||!n||!r)}(e);if(i&&t&&n&&o){var a=t.velocityX,s=t.velocityY,l=t.total,c=n.maxPositionX,u=n.minPositionX,d=n.maxPositionY,p=n.minPositionY,f=r.limitToBounds,h=r.alignmentAnimation,m=r.zoomAnimation,g=r.panning,b=g.lockAxisY,v=g.lockAxisX,y=m.animationType,w=h.sizeX,S=h.sizeY,E=h.velocityAlignmentTime,A=function(e,t){var n=e.setup.velocityAnimation,r=n.equalToMove,o=n.animationTime,i=n.sensitivity;return r?o*t*i:o}(e,l),x=Math.max(A,E),C=Qe(e,w),O=Qe(e,S),I=C*o.offsetWidth/100,R=O*o.offsetHeight/100,D=c+I,P=u-I,T=d+R,_=p-R,k=e.transformState,B=(new Date).getTime();Fe(e,y,x,(function(t){var n=e.transformState,r=n.scale,o=n.positionX,i=n.positionY,l=((new Date).getTime()-B)/E,m=1-(0,Le[h.animationType])(Math.min(1,l)),g=1-t,y=o+a*g,w=i+s*g,S=Ze(y,k.positionX,o,v,f,u,c,P,D,m),A=Ze(w,k.positionY,i,b,f,p,d,_,T,m);o===y&&i===w||e.setTransformState(r,S,A)}))}}(e):Je(e)}}(t),Me(yt(t),e,n))},this.onPinchStart=function(e){var n=t.setup.disabled,r=t.props,o=r.onPinchingStart,i=r.onZoomStart;if(!n){var a=function(e,t){var n=e.setup.pinch,r=n.disabled,o=n.excluded,i=e.isInitialized,a=t.target;return!(!i||r||!a||Et(a,o))}(t,e);a&&(function(e,t){var n=Ot(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var r=It(t);e.pinchLastCenterX=r.x,e.pinchLastCenterY=r.y,je(e)}(t,e),je(t),Me(yt(t),e,o),Me(yt(t),e,i))}},this.onPinch=function(e){var n=t.setup.disabled,r=t.props,o=r.onPinching,i=r.onZoom;if(!n){var a=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,r=e.pinchStartDistance;return!(!n||t||!r)}(t);a&&(e.preventDefault(),e.stopPropagation(),function(e,t){var n=e.contentComponent,r=e.pinchStartDistance,o=e.wrapperComponent,i=e.transformState.scale,a=e.setup,s=a.limitToBounds,l=a.centerZoomedOut,c=a.zoomAnimation,u=a.alignmentAnimation,d=c.disabled,p=c.size;if(null!==r&&n){var f=function(e,t,n){var r=n.getBoundingClientRect(),o=e.touches,i=Be(o[0].clientX-r.left,5),a=Be(o[0].clientY-r.top,5);return{x:(i+Be(o[1].clientX-r.left,5))/2/t,y:(a+Be(o[1].clientY-r.top,5))/2/t}}(t,i,n);if(Number.isFinite(f.x)&&Number.isFinite(f.y)){var h=Ot(t),m=function(e,t){var n=e.pinchStartScale,r=e.pinchStartDistance,o=e.setup,i=o.maxScale,a=o.minScale,s=o.zoomAnimation,l=o.disablePadding,c=s.size,u=s.disabled;if(!n||null===r||!t)throw new Error("Pinch touches distance was not provided");return t<0?e.transformState.scale:Ge(Be(t/r*n,2),a,i,c,!u&&!l)}(e,h),g=It(t),b=g.x-(e.pinchLastCenterX||0),v=g.y-(e.pinchLastCenterY||0);if(m!==i||0!==b||0!==v){e.pinchLastCenterX=g.x,e.pinchLastCenterY=g.y;var y=Ue(e,m),w=s&&(d||0===p||l),S=He(e,f.x,f.y,m,y,w),E=S.x,A=S.y;e.pinchMidpoint=f,e.lastDistance=h;var x=u.sizeX,C=u.sizeY,O=We(E+b,A+v,y,s,Qe(e,x),Qe(e,C),o),I=O.x,R=O.y;e.setTransformState(m,I,R)}}}}(t,e),Me(yt(t),e,o),Me(yt(t),e,i))}},this.onPinchStop=function(e){var n,r,o=t.props,i=o.onPinchingStop,a=o.onZoomStop;t.pinchStartScale&&(r=(n=t).pinchMidpoint,n.velocity=null,n.lastDistance=null,n.pinchMidpoint=null,n.pinchStartScale=null,n.pinchStartDistance=null,nt(n,null==r?void 0:r.x,null==r?void 0:r.y),Me(yt(t),e,i),Me(yt(t),e,a))},this.onTouchPanningStart=function(e){var n=t.setup.disabled,r=t.props.onPanningStart;if(!n&&qe(t,e)&&!(t.lastTouch&&+new Date-t.lastTouch<200&&1===e.touches.length)){t.lastTouch=+new Date,je(t);var o=e.touches,i=1===o.length,a=2===o.length;i&&(je(t),Ke(t,e),Me(yt(t),e,r)),a&&t.onPinchStart(e)}},this.onTouchPanning=function(e){var n=t.setup.disabled,r=t.props.onPanning;if(t.isPanning&&1===e.touches.length){if(n)return;if(!Ye(t))return;e.preventDefault(),e.stopPropagation();var o=e.touches[0];et(t,o.clientX,o.clientY),Me(yt(t),e,r)}else e.touches.length>1&&t.onPinch(e)},this.onTouchPanningStop=function(e){t.onPanningStop(e),t.onPinchStop(e)},this.onDoubleClick=function(e){if(!t.setup.disabled){var n=function(e,t){var n=e.isInitialized,r=e.setup,o=e.wrapperComponent,i=r.doubleClick,a=i.disabled,s=i.excluded,l=t.target,c=null==o?void 0:o.contains(l);return!(!(n&&l&&c)||a||Et(l,s))}(t,e);n&&function(e,t){var n=e.setup,r=e.doubleClickStopEventTimer,o=e.transformState,i=e.contentComponent,a=o.scale,s=e.props,l=s.onZoomStart,c=s.onZoom,u=n.doubleClick,d=u.disabled,p=u.mode,f=u.step,h=u.animationTime,m=u.animationType;if(!d&&!r){if("reset"===p)return function(e,t){var n=e.props,r=n.onZoomStart,o=n.onZoom,i=e.setup.doubleClick,a=i.animationTime,s=i.animationType;Me(yt(e),t,r),dt(e,a,s,(function(){return Me(yt(e),t,o)})),Rt(e,t)}(e,t);if(!i)return console.error("No ContentComponent found");var g=function(e,t){return"toggle"===e?1===t?1:-1:"zoomOut"===e?-1:1}(p,e.transformState.scale),b=ct(e,g,f);if(a!==b){Me(yt(e),t,l);var v=Ct(t,i,a),y=tt(e,b,v.x,v.y);if(!y)return console.error("Error during zoom event. New transformation state was not calculated.");Me(yt(e),t,c),ze(e,y,h,m),Rt(e,t)}}}(t,e)}},this.clearPanning=function(e){t.isPanning&&t.onPanningStop(e)},this.setKeyPressed=function(e){t.pressedKeys[e.key]=!0},this.setKeyUnPressed=function(e){t.pressedKeys[e.key]=!1},this.isPressingKeys=function(e){return!e.length||Boolean(e.find((function(e){return t.pressedKeys[e]})))},this.setTransformState=function(e,n,r){var o=t.props.onTransformed;if(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(r))console.error("Detected NaN set state values");else{e!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=e),t.transformState.positionX=n,t.transformState.positionY=r,t.applyTransformation();var i=yt(t);t.onChangeCallbacks.forEach((function(e){return e(i)})),Me(i,{scale:e,positionX:n,positionY:r},o)}},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var e=xt(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(e.scale,e.positionX,e.positionY)}},this.handleTransformStyles=function(e,n,r){return t.props.customTransform?t.props.customTransform(e,n,r):function(e,t,n){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(n,")")}(e,n,r)},this.applyTransformation=function(){if(t.mounted&&t.contentComponent){var e=t.transformState,n=e.scale,r=e.positionX,o=e.positionY,i=t.handleTransformStyles(r,o,n);t.contentComponent.style.transform=i}},this.getContext=function(){return yt(t)},this.onChange=function(e){return t.onChangeCallbacks.has(e)||t.onChangeCallbacks.add(e),function(){t.onChangeCallbacks.delete(e)}},this.onInit=function(e){return t.onInitCallbacks.has(e)||t.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},this.init=function(e,n){t.cleanupWindowEvents(),t.wrapperComponent=e,t.contentComponent=n,Ue(t,t.transformState.scale),t.handleInitializeWrapperEvents(e),t.handleInitialize(e,n),t.initializeWindowEvents(),t.isInitialized=!0;var r=yt(t);Me(r,void 0,t.props.onInit)},this.props=e,this.setup=lt(this.props),this.transformState=st(this.props)},Pt=o().createContext(null),Tt=o().forwardRef((function(e,t){var n,i,a=(0,r.useRef)(new Dt(e)).current,s=(n=e.children,i=vt(a),"function"==typeof n?n(i):n);return(0,r.useImperativeHandle)(t,(function(){return vt(a)}),[a]),(0,r.useEffect)((function(){a.update(e)}),[a,e]),o().createElement(Pt.Provider,{value:a},s)}));o().forwardRef((function(e,t){var n,i=(0,r.useRef)(null),a=(0,r.useContext)(Pt);return(0,r.useEffect)((function(){return a.onChange((function(e){i.current&&(i.current.style.transform=a.handleTransformStyles(0,0,1/e.instance.transformState.scale))}))}),[a]),o().createElement("div",rt({},e,{ref:(n=[i,t],function(e){n.forEach((function(t){"function"==typeof t?t(e):null!=t&&(t.current=e)}))})}))}));!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".transform-component-module_wrapper__SPB86 {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n  transform: translate3d(0, 0, 0);\n}\n.transform-component-module_content__FBWxo {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__FBWxo img {\n  pointer-events: none;\n}\n");var _t=function(e){var t=e.children,n=e.wrapperClass,i=void 0===n?"":n,a=e.contentClass,s=void 0===a?"":a,l=e.wrapperStyle,c=e.contentStyle,u=e.wrapperProps,d=void 0===u?{}:u,p=e.contentProps,f=void 0===p?{}:p,h=(0,r.useContext)(Pt),m=h.init,g=h.cleanupWindowEvents,b=(0,r.useRef)(null),v=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=b.current,t=v.current;return null!==e&&null!==t&&m&&(null==m||m(e,t)),function(){null==g||g()}}),[]),o().createElement("div",rt({},d,{ref:b,className:"".concat(at," ").concat("transform-component-module_wrapper__SPB86"," ").concat(i),style:l}),o().createElement("div",rt({},f,{ref:v,className:"".concat("react-transform-component"," ").concat("transform-component-module_content__FBWxo"," ").concat(s),style:c}),t))};const kt=e=>({zoom:t.css`
      [data-rmiz-modal-overlay='visible'] {
        background-color: ${e.colors.background.primary};
    `}),Bt=({options:e,width:t,height:i,children:a,rowsLength:l,currentIndex:d,setCurrentIndex:p,toolbarRef:f,mediaSource:h})=>{const m=(0,n.useStyles2)(kt),[g,b]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),w=(0,r.useRef)(null),P=(0,r.useCallback)((()=>{var e;null===(e=w.current)||void 0===e||e.zoomIn()}),[]),T=(0,r.useCallback)((()=>{var e;null===(e=w.current)||void 0===e||e.zoomOut()}),[]),_=(0,r.useCallback)((()=>{var e;null===(e=w.current)||void 0===e||e.resetTransform()}),[]),k=(0,r.useCallback)((e=>{let t;"prev"===e?(t=d-1,t<0&&(t=l-1)):(t=d+1,t>l-1&&(t=0)),p(t),_()}),[p,_,d,l]);return(0,r.useEffect)((()=>{_()}),[t,i,_]),(0,r.useEffect)((()=>{let t=0;if(g){const n=e.autoPlayInterval?1e3*e.autoPlayInterval:5e3;t=window.setInterval((()=>{if(d===l-1)return e.autoPlayInfinity?void p(0):(window.clearInterval(t),void b((e=>!e)));p(d+1)}),n)}return()=>window.clearInterval(t)}),[d,g,e.autoPlayInterval,e.autoPlayInfinity,l,p]),o().createElement(o().Fragment,null,o().createElement("div",{ref:f},o().createElement(n.PageToolbar,{forceShowLeftItems:e.buttons.includes(c.NAVIGATION),leftItems:e.buttons.includes(c.NAVIGATION)?(()=>{const t=[];return e.buttons.includes(c.NAVIGATION)&&t.push(o().createElement(n.ToolbarButton,{key:"previous",icon:"backward",onClick:()=>{k("prev")},"data-testid":C,disabled:1===Math.max(l,1)},"Previous"),o().createElement("div",{key:"current"},d+1," of ",Math.max(l,1)),o().createElement(n.ToolbarButton,{key:"next",icon:"forward",onClick:()=>{k("next")},"data-testid":E,disabled:1===Math.max(l,1)},"Next")),e.buttons.includes(c.AUTOPLAY)&&t.push(o().createElement(n.ToolbarButton,{key:g?"pause":"play",icon:g?"pause":d===l-1?"repeat":"play",onClick:()=>{g||d===l-1&&p(0),b((e=>!e))},"data-testid":g?A:x,disabled:1===Math.max(l,1)},g?"Pause":"Play")),t})():void 0},e.buttons.includes(c.DOWNLOAD)&&h.type===s.IMAGE&&o().createElement(n.ToolbarButton,{icon:"save",onClick:()=>{(0,me.saveAs)(h.url)},"data-testid":S},"Download"),e.buttons.includes(c.ZOOM)&&e.zoomType!==u.PANPINCH&&h.type===s.IMAGE&&o().createElement(n.ToolbarButton,{icon:"search-plus",onClick:()=>{y(!0)},"data-testid":O}),e.buttons.includes(c.ZOOM)&&e.zoomType===u.PANPINCH&&h.type===s.IMAGE&&o().createElement(o().Fragment,null,o().createElement(n.ToolbarButton,{icon:"search-plus",onClick:P,"data-testid":I}),o().createElement(n.ToolbarButton,{icon:"search-minus",onClick:T,"data-testid":R}),o().createElement(n.ToolbarButton,{icon:"times-circle",onClick:_,"data-testid":D})))),e.buttons.includes(c.ZOOM)&&h.type===s.IMAGE?(t=>e.zoomType===u.PANPINCH?o().createElement(Tt,{ref:w,disablePadding:!0,wheel:{touchPadDisabled:!0,wheelDisabled:!0}},o().createElement(_t,null,t)):o().createElement(_e,{isZoomed:v,onZoomChange:y,zoomImg:{alt:"",src:h.url},classDialog:m.zoom},t))(a):a)},Mt=e=>({wrapper:t.css`
      position: relative;
    `,url:t.css`
      display: block;
    `,description:t.css`
      text-align: center;
      padding: ${e.spacing(.5)};
    `});var Lt=g(7694),Nt=g(200),jt=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},Ft=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},zt=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Vt={top:0,right:0,bottom:0,left:0},$t=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?Vt:n,o=e.border,i=void 0===o?Vt:o,a=e.padding,s=void 0===a?Vt:a,l=jt(Ft(t,r)),c=jt(zt(t,i)),u=jt(zt(c,s));return{marginBox:l,borderBox:jt(t),paddingBox:c,contentBox:u,margin:r,border:i,padding:s}},Ut=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(){throw new Error("Invariant failed")}(),n},Wt=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return $t({borderBox:l,border:i,margin:a,padding:s})},Ht=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Wt(e,t)},Gt=function(e,t){var n={top:Ut(t.marginTop),right:Ut(t.marginRight),bottom:Ut(t.marginBottom),left:Ut(t.marginLeft)},r={top:Ut(t.paddingTop),right:Ut(t.paddingRight),bottom:Ut(t.paddingBottom),left:Ut(t.paddingLeft)},o={top:Ut(t.borderTopWidth),right:Ut(t.borderRightWidth),bottom:Ut(t.borderBottomWidth),left:Ut(t.borderLeftWidth)};return $t({borderBox:e,margin:n,padding:r,border:o})},qt=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Gt(t,n)};const Yt=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};var Xt=g(8102);function Qt(e,t){}function Zt(){}function Kt(e,t,n){const r=t.map((t=>{const r=(o=n,i=t.options,{...o,...i});var o,i;return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((e=>{e()}))}}Qt.bind(null,"warn"),Qt.bind(null,"error");class Jt extends Error{}function en(e,t){throw new Jt("Invariant failed")}Jt.prototype.toString=function(){return this.message};class tn extends o().Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Zt,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort(),e.error instanceof Jt&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=Kt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof Jt))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const nn=e=>e+1,rn=(e,t)=>{const n=e.droppableId===t.droppableId,r=nn(e.index),o=nn(t.index);return n?`\n      You have moved the item from position ${r}\n      to position ${o}\n    `:`\n    You have moved the item from position ${r}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${o}\n  `},on=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,an=e=>`\n  The item has returned to its starting position\n  of ${nn(e.index)}\n`,sn="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",ln=e=>`\n  You have lifted an item in position ${nn(e.source.index)}\n`,cn=e=>{const t=e.destination;if(t)return rn(e.source,t);const n=e.combine;return n?on(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},un=e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${an(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${rn(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${on(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${an(e.source)}\n  `};function dn(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!((n=e[o])===(r=t[o])||Number.isNaN(n)&&Number.isNaN(r)))return!1;var n,r;return!0}function pn(e,t){const n=(0,r.useState)((()=>({inputs:t,result:e()})))[0],o=(0,r.useRef)(!0),i=(0,r.useRef)(n),a=o.current||Boolean(t&&i.current.inputs&&dn(t,i.current.inputs))?i.current:{inputs:t,result:e()};return(0,r.useEffect)((()=>{o.current=!1,i.current=a}),[a]),a.result}function fn(e,t){return pn((()=>e),t)}const hn={x:0,y:0},mn=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),gn=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),bn=(e,t)=>e.x===t.x&&e.y===t.y,vn=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),yn=(e,t,n=0)=>"x"===e?{x:t,y:n}:{x:n,y:t},wn=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Sn=(e,t)=>Math.min(...t.map((t=>wn(e,t)))),En=e=>t=>({x:e(t.x),y:e(t.y)}),An=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),xn=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Cn=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=jt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):jt(e);var On=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const o=((e,t)=>t?An(e,t.scroll.diff.displacement):e)(e.marginBox,r),i=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(o,n,t);return{page:e,withPlaceholder:t,active:Cn(i,r)}},In=(e,t)=>{e.frame||en();const n=e.frame,r=gn(t,n.scroll.initial),o=vn(r),i={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}},a=On({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:a}};function Rn(e,t=dn){let n=null;function r(...r){if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;const o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}const Dn=Rn((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),Pn=Rn((e=>e.reduce(((e,t)=>(e[t.descriptor.id]=t,e)),{}))),Tn=Rn((e=>Object.values(e))),_n=Rn((e=>Object.values(e)));var kn=Rn(((e,t)=>{const n=_n(t).filter((t=>e===t.descriptor.droppableId)).sort(((e,t)=>e.descriptor.index-t.descriptor.index));return n}));function Bn(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Mn(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var Ln=Rn(((e,t)=>t.filter((t=>t.descriptor.id!==e.descriptor.id)))),Nn=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const jn={point:hn,value:0},Fn={invisible:{},visible:{},all:[]},zn={displaced:Fn,displacedBy:jn,at:null};var Vn=(e,t)=>n=>e<=n&&n<=t,$n=e=>{const t=Vn(e.top,e.bottom),n=Vn(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;const a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||(a&&i||s&&o)}},Un=e=>{const t=Vn(e.top,e.bottom),n=Vn(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const Wn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Hn={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Gn=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:o})=>{const i=r?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:hn;return An(e,n)})(e,t):e;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(i,t,o)&&((e,t,n)=>n(t)(e))(i,n,o)},qn=e=>Gn({...e,isVisibleThroughFrameFn:Un});function Yn({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:o,last:i}){return e.reduce((function(e,a){const s=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return jt(Ft(n,r))}(a,n),l=a.descriptor.id;var c;if(e.all.push(l),c={target:s,destination:t,viewport:r,withDroppableDisplacement:!0},!Gn({...c,isVisibleThroughFrameFn:$n}))return e.invisible[a.descriptor.id]=!0,e;const u=((e,t,n)=>{if("boolean"==typeof n)return n;if(!t)return!0;const{invisible:r,visible:o}=t;if(r[e])return!1;const i=o[e];return!i||i.shouldAnimate})(l,i,o),d={draggableId:l,shouldAnimate:u};return e.visible[l]=d,e}),{all:[],visible:{},invisible:{}})}function Xn({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const o=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(e,{inHomeList:t});return{displaced:Fn,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function Qn({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:o,last:i,index:a,forceShouldAnimate:s}){const l=Nn(e,n);if(null==a)return Xn({insideDestination:t,inHomeList:l,displacedBy:o,destination:n});const c=t.find((e=>e.descriptor.index===a));if(!c)return Xn({insideDestination:t,inHomeList:l,displacedBy:o,destination:n});const u=Ln(e,t),d=t.indexOf(c);return{displaced:Yn({afterDragging:u.slice(d),destination:n,displacedBy:o,last:i,viewport:r.frame,forceShouldAnimate:s}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function Zn(e,t){return Boolean(t.effected[e])}const Kn=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Jn=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,er=({axis:e,moveRelativeTo:t,isMoving:n})=>yn(e.line,t.marginBox[e.end]+Kn(e,n),Jn(e,t.marginBox,n)),tr=({axis:e,moveRelativeTo:t,isMoving:n})=>yn(e.line,t.marginBox[e.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(e,n),Jn(e,t.marginBox,n));var nr=(e,t)=>{const n=e.frame;return n?mn(t,n.scroll.diff.displacement):t},rr=e=>{const t=(({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:o})=>{const i=t.page.borderBox.center,a=e.at;return n&&a?"REORDER"===a.type?(({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o})=>{const i=kn(r.descriptor.id,n),a=t.page,s=r.axis;if(!i.length)return(({axis:e,moveInto:t,isMoving:n})=>yn(e.line,t.contentBox[e.start]+Kn(e,n),Jn(e,t.contentBox,n)))({axis:s,moveInto:r.page,isMoving:a});const{displaced:l,displacedBy:c}=e,u=l.all[0];if(u){const e=n[u];if(Zn(u,o))return tr({axis:s,moveRelativeTo:e.page,isMoving:a});const t=Wt(e.page,c.point);return tr({axis:s,moveRelativeTo:t,isMoving:a})}const d=i[i.length-1];if(d.descriptor.id===t.descriptor.id)return a.borderBox.center;if(Zn(d.descriptor.id,o)){const e=Wt(d.page,vn(o.displacedBy.point));return er({axis:s,moveRelativeTo:e,isMoving:a})}return er({axis:s,moveRelativeTo:d.page,isMoving:a})})({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o}):(({afterCritical:e,impact:t,draggables:n})=>{const r=Mn(t);r||en();const o=r.draggableId,i=n[o].page.borderBox.center,a=(({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const o=Boolean(e.visible[n]||e.invisible[n]);return Zn(n,t)?o?hn:vn(r.point):o?r.point:hn})({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return mn(i,a)})({impact:e,draggables:r,afterCritical:o}):i})(e),n=e.droppable;return n?nr(n,t):t},or=(e,t)=>{const n=gn(t,e.scroll.initial),r=vn(n);return{frame:jt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function ir(e,t){return e.map((e=>t[e]))}var ar=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=((e,t)=>mn(e.scroll.diff.displacement,t))(n,e),o=gn(r,t.page.borderBox.center);return mn(t.client.borderBox.center,o)},sr=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:o,onlyOnMainAxis:i=!1})=>{const a=gn(n,e.page.borderBox.center),s={target:An(e.page.borderBox,a),destination:t,withDroppableDisplacement:o,viewport:r};return i?(e=>{return Gn({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=Vn(e.top,e.bottom),r=Vn(e.left,e.right);return e=>t===Wn?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(s):qn(s)},lr=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:o,viewport:i,previousPageBorderBoxCenter:a,previousClientSelection:s,afterCritical:l})=>{if(!n.isEnabled)return null;const c=kn(n.descriptor.id,r),u=Nn(t,n),d=(({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:o})=>{if(!n.isCombineEnabled)return null;if(!Bn(o))return null;function i(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return{...o,at:t}}const a=o.displaced.all,s=a.length?a[0]:null;if(e)return s?i(s):null;const l=Ln(t,r);if(!s)return l.length?i(l[l.length-1].descriptor.id):null;const c=l.findIndex((e=>e.descriptor.id===s));-1===c&&en();const u=c-1;return u<0?null:i(l[u].descriptor.id)})({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:o})||(({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:o,insideDestination:i,previousImpact:a,viewport:s,afterCritical:l})=>{const c=a.at;if(c||en(),"REORDER"===c.type){const r=(({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const o=r.index,i=e?o+1:o-1,a=n[0].descriptor.index,s=n[n.length-1].descriptor.index;return i<a||i>(t?s:s+1)?null:i})({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:i});return null==r?null:Qn({draggable:n,insideDestination:i,destination:o,viewport:s,last:a.displaced,displacedBy:a.displacedBy,index:r})}const u=(({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:o})=>{if(!t.isCombineEnabled)return null;const i=r.draggableId,a=n[i].descriptor.index;return Zn(i,o)?e?a:a-1:e?a+1:a})({isMovingForward:e,destination:o,displaced:a.displaced,draggables:r,combine:c.combine,afterCritical:l});return null==u?null:Qn({draggable:n,insideDestination:i,destination:o,viewport:s,last:a.displaced,displacedBy:a.displacedBy,index:u})})({isMovingForward:e,isInHomeList:u,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:o,viewport:i,afterCritical:l});if(!d)return null;const p=rr({impact:d,draggable:t,droppable:n,draggables:r,afterCritical:l});if(sr({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:ar({pageBorderBoxCenter:p,draggable:t,viewport:i}),impact:d,scrollJumpRequest:null};const f=gn(p,a),h=(({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:o})=>{const i=or(t,mn(t.scroll.current,o)),a=n.frame?In(n,mn(n.frame.scroll.current,o)):n,s=e.displaced,l=Yn({afterDragging:ir(s.all,r),destination:n,displacedBy:e.displacedBy,viewport:i.frame,last:s,forceShouldAnimate:!1}),c=Yn({afterDragging:ir(s.all,r),destination:a,displacedBy:e.displacedBy,viewport:t.frame,last:s,forceShouldAnimate:!1}),u={},d={},p=[s,l,c];return s.all.forEach((e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,p);t?d[e]=t:u[e]=!0})),{...e,displaced:{all:s.all,invisible:u,visible:d}}})({impact:d,viewport:i,destination:n,draggables:r,maxScrollChange:f});return{clientSelection:s,impact:h,scrollJumpRequest:f}};const cr=e=>{const t=e.subject.active;return t||en(),t},ur=(e,t)=>{const n=e.page.borderBox.center;return Zn(e.descriptor.id,t)?gn(n,t.displacedBy.point):n},dr=(e,t)=>{const n=e.page.borderBox;return Zn(e.descriptor.id,t)?An(n,vn(t.displacedBy.point)):n};var pr=Rn((function(e,t){const n=t[e.line];return{value:n,point:yn(e.line,n)}}));const fr=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),hr=(e,t,n)=>{const r=e.frame;Nn(t,e)&&en(),e.subject.withPlaceholder&&en();const o=pr(e.axis,t.displaceBy).point,i=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return yn(r.line,t[r.line]);const o=e.subject.page.contentBox[r.size],i=kn(e.descriptor.id,n).reduce(((e,t)=>e+t.client.marginBox[r.size]),0)+t[r.line]-o;return i<=0?null:yn(r.line,i)})(e,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=On({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:t}}const s=i?mn(r.scroll.max,i):r.scroll.max,l=fr(r,s),c=On({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var mr=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},gr=({state:e,type:t})=>{const n=((e,t)=>{const n=mr(e);return n?t[n]:null})(e.impact,e.dimensions.droppables),r=Boolean(n),o=e.dimensions.droppables[e.critical.droppable.id],i=n||o,a=i.axis.direction,s="vertical"===a&&("MOVE_UP"===t||"MOVE_DOWN"===t)||"horizontal"===a&&("MOVE_LEFT"===t||"MOVE_RIGHT"===t);if(s&&!r)return null;const l="MOVE_DOWN"===t||"MOVE_RIGHT"===t,c=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:d,droppables:p}=e.dimensions;return s?lr({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:i,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):(({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:o,droppables:i,viewport:a,afterCritical:s})=>{const l=(({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:o})=>{const i=n.subject.active;if(!i)return null;const a=n.axis,s=Vn(i[a.start],i[a.end]),l=Tn(r).filter((e=>e!==n)).filter((e=>e.isEnabled)).filter((e=>Boolean(e.subject.active))).filter((e=>$n(o.frame)(cr(e)))).filter((t=>{const n=cr(t);return e?i[a.crossAxisEnd]<n[a.crossAxisEnd]:n[a.crossAxisStart]<i[a.crossAxisStart]})).filter((e=>{const t=cr(e),n=Vn(t[a.start],t[a.end]);return s(t[a.start])||s(t[a.end])||n(i[a.start])||n(i[a.end])})).sort(((t,n)=>{const r=cr(t)[a.crossAxisStart],o=cr(n)[a.crossAxisStart];return e?r-o:o-r})).filter(((e,t,n)=>cr(e)[a.crossAxisStart]===cr(n[0])[a.crossAxisStart]));if(!l.length)return null;if(1===l.length)return l[0];const c=l.filter((e=>Vn(cr(e)[a.start],cr(e)[a.end])(t[a.line])));return 1===c.length?c[0]:c.length>1?c.sort(((e,t)=>cr(e)[a.start]-cr(t)[a.start]))[0]:l.sort(((e,n)=>{const r=Sn(t,xn(cr(e))),o=Sn(t,xn(cr(n)));return r!==o?r-o:cr(e)[a.start]-cr(n)[a.start]}))[0]})({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:i,viewport:a});if(!l)return null;const c=kn(l.descriptor.id,o),u=(({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:o})=>{const i=r.filter((e=>qn({target:dr(e,o),destination:n,viewport:t.frame,withDroppableDisplacement:!0}))).sort(((t,r)=>{const i=wn(e,nr(n,ur(t,o))),a=wn(e,nr(n,ur(r,o)));return i<a?-1:a<i?1:t.descriptor.index-r.descriptor.index}));return i[0]||null})({pageBorderBoxCenter:t,viewport:a,destination:l,insideDestination:c,afterCritical:s}),d=(({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:o,destination:i,viewport:a,afterCritical:s})=>{if(!t){if(n.length)return null;const e={displaced:Fn,displacedBy:jn,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},t=rr({impact:e,draggable:r,droppable:i,draggables:o,afterCritical:s}),l=Nn(r,i)?i:hr(i,r,o);return sr({draggable:r,destination:l,newPageBorderBoxCenter:t,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const l=Boolean(e[i.axis.line]<=t.page.borderBox.center[i.axis.line]),c=(()=>{const e=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?e:e+1})(),u=pr(i.axis,r.displaceBy);return Qn({draggable:r,insideDestination:n,destination:i,viewport:a,displacedBy:u,last:Fn,index:c})})({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:o,moveRelativeTo:u,insideDestination:c,viewport:a,afterCritical:s});if(!d)return null;const p=rr({impact:d,draggable:n,droppable:l,draggables:o,afterCritical:s});return{clientSelection:ar({pageBorderBoxCenter:p,draggable:n,viewport:a}),impact:d,scrollJumpRequest:null}})({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:i,draggables:d,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function br(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function vr(e){const t=Vn(e.top,e.bottom),n=Vn(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}const yr=(e,t)=>jt(An(e,t));function wr({displaced:e,id:t}){return Boolean(e.visible[t]||e.invisible[t])}var Sr=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:o,viewport:i,afterCritical:a})=>{const s=yr(t.page.borderBox,e),l=function({pageBorderBox:e,draggable:t,droppables:n}){const r=Tn(n).filter((t=>{if(!t.isEnabled)return!1;const n=t.subject.active;if(!n)return!1;if(o=n,!((r=e).left<o.right&&r.right>o.left&&r.top<o.bottom&&r.bottom>o.top))return!1;var r,o;if(vr(n)(e.center))return!0;const i=t.axis,a=n.center[i.crossAxisLine],s=e[i.crossAxisStart],l=e[i.crossAxisEnd],c=Vn(n[i.crossAxisStart],n[i.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return r.length?1===r.length?r[0].descriptor.id:function({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,o=n.map((t=>{const n=t.axis,o=yn(t.axis.line,e.center[n.line],t.page.borderBox.center[n.crossAxisLine]);return{id:t.descriptor.id,distance:wn(r,o)}})).sort(((e,t)=>t.distance-e.distance));return o[0]?o[0].id:null}({pageBorderBox:e,draggable:t,candidates:r}):null}({pageBorderBox:s,draggable:t,droppables:r});if(!l)return zn;const c=r[l],u=kn(c.descriptor.id,n),d=((e,t)=>{const n=e.frame;return n?yr(t,n.scroll.diff.value):t})(c,s);return(({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:o,afterCritical:i})=>{if(!r.isCombineEnabled)return null;const a=r.axis,s=pr(r.axis,e.displaceBy),l=s.value,c=t[a.start],u=t[a.end],d=Ln(e,o).find((e=>{const t=e.descriptor.id,r=e.page.borderBox,o=r[a.size]/4,s=Zn(t,i),d=wr({displaced:n.displaced,id:t});return s?d?u>r[a.start]+o&&u<r[a.end]-o:c>r[a.start]-l+o&&c<r[a.end]-l-o:d?u>r[a.start]+l+o&&u<r[a.end]+l-o:c>r[a.start]+o&&c<r[a.end]-o}));return d?{displacedBy:s,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:r.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:o,destination:c,insideDestination:u,afterCritical:a})||(({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:o,viewport:i,afterCritical:a})=>{const s=n.axis,l=pr(n.axis,t.displaceBy),c=l.value,u=e[s.start],d=e[s.end],p=function({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}({draggable:t,closest:Ln(t,r).find((e=>{const t=e.descriptor.id,n=e.page.borderBox.center[s.line],r=Zn(t,a),i=wr({displaced:o,id:t});return r?i?d<=n:u<n-c:i?d<=n+c:u<n}))||null,inHomeList:Nn(t,n)});return Qn({draggable:t,insideDestination:r,destination:n,viewport:i,last:o,displacedBy:l,index:p})})({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:c,insideDestination:u,last:o.displaced,viewport:i,afterCritical:a})},Er=(e,t)=>({...e,[t.descriptor.id]:t});var Ar=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:o,scrollJumpRequest:i})=>{const a=r||e.viewport,s=n||e.dimensions,l=t||e.current.client.selection,c=gn(l,e.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:mn(e.initial.client.borderBoxCenter,c)},d={selection:mn(u.selection,a.scroll.current),borderBoxCenter:mn(u.borderBoxCenter,a.scroll.current),offset:mn(u.offset,a.scroll.diff.value)},p={client:u,page:d};if("COLLECTING"===e.phase)return{...e,dimensions:s,viewport:a,current:p};const f=s.draggables[e.critical.draggable.id],h=o||Sr({pageOffset:d.offset,draggable:f,draggables:s.draggables,droppables:s.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),m=(({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:o})=>{const i=(({previousImpact:e,impact:t,droppables:n})=>{const r=mr(e),o=mr(t);if(!r)return n;if(r===o)return n;const i=n[r];if(!i.subject.withPlaceholder)return n;const a=(e=>{const t=e.subject.withPlaceholder;t||en();const n=e.frame;if(!n){const t=On({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||en();const o=fr(n,r),i=On({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:i,frame:o}})(i);return Er(n,a)})({previousImpact:r,impact:o,droppables:n}),a=mr(o);if(!a)return i;const s=n[a];if(Nn(e,s))return i;if(s.subject.withPlaceholder)return i;const l=hr(s,e,t);return Er(i,l)})({draggable:f,impact:h,previousImpact:e.impact,draggables:s.draggables,droppables:s.droppables});return{...e,current:p,dimensions:{draggables:s.draggables,droppables:m},impact:h,viewport:a,scrollJumpRequest:i||null,forceShouldAnimate:!i&&null}},xr=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:o})=>{const i=e.displaced,a=function(e,t){return e.map((e=>t[e]))}(i.all,n),s=Yn({afterDragging:a,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:i});return{...e,displaced:s}},Cr=({impact:e,draggable:t,droppable:n,draggables:r,viewport:o,afterCritical:i})=>{const a=rr({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i});return ar({pageBorderBoxCenter:a,draggable:t,viewport:o})},Or=({state:e,dimensions:t,viewport:n})=>{"SNAP"!==e.movementMode&&en();const r=e.impact,o=n||e.viewport,i=t||e.dimensions,{draggables:a,droppables:s}=i,l=a[e.critical.draggable.id],c=mr(r);c||en();const u=s[c],d=xr({impact:r,viewport:o,destination:u,draggables:a}),p=Cr({impact:d,draggable:l,droppable:u,draggables:a,viewport:o,afterCritical:e.afterCritical});return Ar({impact:d,clientSelection:p,state:e,dimensions:i,viewport:o})},Ir=({draggable:e,home:t,draggables:n,viewport:r})=>{const o=pr(t.axis,e.displaceBy),i=kn(t.descriptor.id,n),a=i.indexOf(e);-1===a&&en();const s=i.slice(a+1),l=s.reduce(((e,t)=>(e[t.descriptor.id]=!0,e)),{}),c={inVirtualList:"virtual"===t.descriptor.mode,displacedBy:o,effected:l};var u;return{impact:{displaced:Yn({afterDragging:s,destination:t,displacedBy:o,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(u=e.descriptor,{index:u.index,droppableId:u.droppableId})}},afterCritical:c}};const Rr=e=>"SNAP"===e.movementMode,Dr=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:Er(e.droppables,t)}))(e.dimensions,t);return!Rr(e)||n?Ar({state:e,dimensions:r}):Or({state:e,dimensions:r})};function Pr(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const Tr={phase:"IDLE",completed:null,shouldFlush:!1};var _r=(e=Tr,t)=>{if("FLUSH"===t.type)return{...Tr,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&en();const{critical:n,clientSelection:r,viewport:o,dimensions:i,movementMode:a}=t.payload,s=i.draggables[n.draggable.id],l=i.droppables[n.droppable.id],c={selection:r,borderBoxCenter:s.client.borderBox.center,offset:hn},u={client:c,page:{selection:mn(c.selection,o.scroll.initial),borderBoxCenter:mn(c.selection,o.scroll.initial),offset:mn(c.selection,o.scroll.diff.value)}},d=Tn(i.droppables).every((e=>!e.isFixedOnPage)),{impact:p,afterCritical:f}=Ir({draggable:s,home:l,draggables:i.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:i,initial:u,current:u,isWindowScrollAllowed:d,impact:p,afterCritical:f,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&en(),{...e,phase:"COLLECTING"});if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&en(),(({state:e,published:t})=>{const n=t.modified.map((t=>{const n=e.dimensions.droppables[t.droppableId];return In(n,t.scroll)})),r={...e.dimensions.droppables,...Dn(n)},o=Pn((({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map((e=>{const o=e.descriptor.droppableId,i=(e=>{const t=e.frame;return t||en(),t})(t[o]),a=i.scroll.diff.value,s=(({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Wt(e.client,t),o=Ht(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:o}})({draggable:e,offset:mn(r,a),initialWindowScroll:n.scroll.initial});return s}))})({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),i={...e.dimensions.draggables,...o};t.removals.forEach((e=>{delete i[e]}));const a={droppables:r,draggables:i},s=mr(e.impact),l=s?a.droppables[s]:null,c=a.draggables[e.critical.draggable.id],u=a.droppables[e.critical.droppable.id],{impact:d,afterCritical:p}=Ir({draggable:c,home:u,draggables:i,viewport:e.viewport}),f=l&&l.isCombineEnabled?e.impact:d,h=Sr({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:f,viewport:e.viewport,afterCritical:p}),m={...e,phase:"DRAGGING",impact:h,onLiftImpact:d,dimensions:a,afterCritical:p,forceShouldAnimate:!1};return"COLLECTING"===e.phase?m:{...m,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;br(e)||en();const{client:n}=t.payload;return bn(n,e.current.client.selection)?e:Ar({state:e,clientSelection:n,impact:Rr(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Pr(e);if("COLLECTING"===e.phase)return Pr(e);br(e)||en();const{id:n,newScroll:r}=t.payload,o=e.dimensions.droppables[n];if(!o)return e;const i=In(o,r);return Dr(e,i,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;br(e)||en();const{id:n,isEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||en(),o.isEnabled===r&&en();const i={...o,isEnabled:r};return Dr(e,i,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;br(e)||en();const{id:n,isCombineEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||en(),o.isCombineEnabled===r&&en();const i={...o,isCombineEnabled:r};return Dr(e,i,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;br(e)||en(),e.isWindowScrollAllowed||en();const n=t.payload.newScroll;if(bn(e.viewport.scroll.current,n))return Pr(e);const r=or(e.viewport,n);return Rr(e)?Or({state:e,viewport:r}):Ar({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!br(e))return e;const n=t.payload.maxScroll;if(bn(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&en();const n=gr({state:e,type:t.type});return n?Ar({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;return"COLLECTING"!==e.phase&&en(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:o}=t.payload;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&en(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:o,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function kr(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Br=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Mr=()=>({type:"COLLECTION_STARTING",payload:null}),Lr=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Nr=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),jr=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Fr=e=>({type:"MOVE",payload:e}),zr=()=>({type:"MOVE_UP",payload:null}),Vr=()=>({type:"MOVE_DOWN",payload:null}),$r=()=>({type:"MOVE_RIGHT",payload:null}),Ur=()=>({type:"MOVE_LEFT",payload:null}),Wr=e=>({type:"DROP_COMPLETE",payload:e}),Hr=e=>({type:"DROP",payload:e}),Gr="cubic-bezier(.2,1,.1,1)",qr=0,Yr=.7,Xr=.75,Qr={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Zr=`${Qr.outOfTheWay}s cubic-bezier(0.2, 0, 0, 1)`,Kr={fluid:`opacity ${Zr}`,snap:`transform ${Zr}, opacity ${Zr}`,drop:e=>{const t=`${e}s ${Gr}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Zr}`,placeholder:`height ${Zr}, width ${Zr}, margin ${Zr}`},Jr=e=>bn(e,hn)?void 0:`translate(${e.x}px, ${e.y}px)`,eo=Jr,{minDropTime:to,maxDropTime:no}=Qr,ro=no-to,oo=({getState:e,dispatch:t})=>n=>r=>{if(!kr(r,"DROP"))return void n(r);const o=e(),i=r.payload.reason;if("COLLECTING"===o.phase)return void t((a={reason:i},{type:"DROP_PENDING",payload:a}));var a;if("IDLE"===o.phase)return;"DROP_PENDING"===o.phase&&o.isWaiting&&en(),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&en();const s=o.critical,l=o.dimensions,c=l.draggables[o.critical.draggable.id],{impact:u,didDropInsideDroppable:d}=(({draggables:e,reason:t,lastImpact:n,home:r,viewport:o,onLiftImpact:i})=>n.at&&"DROP"===t?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Fn},didDropInsideDroppable:!0}:{impact:xr({draggables:e,impact:i,destination:r,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1})({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),p=d?Bn(u):null,f=d?Mn(u):null,h={index:s.draggable.index,droppableId:s.droppable.id},m={draggableId:c.descriptor.id,type:c.descriptor.type,source:h,reason:i,mode:o.movementMode,destination:p,combine:f},g=(({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:o})=>{const{draggables:i,droppables:a}=n,s=mr(e),l=s?a[s]:null,c=a[t.descriptor.droppableId],u=Cr({impact:e,draggable:t,draggables:i,afterCritical:o,droppable:l||c,viewport:r});return gn(u,t.client.borderBox.center)})({impact:u,draggable:c,dimensions:l,viewport:o.viewport,afterCritical:o.afterCritical}),b={critical:o.critical,afterCritical:o.afterCritical,result:m,impact:u};if(bn(o.current.client.offset,g)&&!Boolean(m.combine))return void t(Wr({completed:b}));const v=(({current:e,destination:t,reason:n})=>{const r=wn(e,t);if(r<=0)return to;if(r>=1500)return no;const o=to+ro*(r/1500);return Number(("CANCEL"===n?.6*o:o).toFixed(2))})({current:o.current.client.offset,destination:g,reason:i});t((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:g,dropDuration:v,completed:b}))};var io=()=>({x:window.pageXOffset,y:window.pageYOffset});const ao=e=>{const t=function({onWindowScroll:e}){const t=Yt((function(){e(io())})),n=(r=t,{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||r()}});var r;let o=Zt;function i(){return o!==Zt}return{start:function(){i()&&en(),o=Kt(window,[n])},stop:function(){i()||en(),t.cancel(),o(),o=Zt},isActive:i}}({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{!t.isActive()&&kr(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>kr(e,"DROP_COMPLETE")||kr(e,"DROP_ANIMATE")||kr(e,"FLUSH"))(n)&&t.stop(),e(n)}};const so=(e,t)=>{t()},lo=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function co(e,t,n,r){if(!e)return void n(r(t));const o=(e=>{let t=!1,n=!1;const r=setTimeout((()=>{n=!0})),o=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=()=>t,o})(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}var uo=(e,t)=>{const n=((e,t)=>{const n=(()=>{const e=[];return{add:t=>{const n=setTimeout((()=>(t=>{const n=e.findIndex((e=>e.timerId===t));-1===n&&en();const[r]=e.splice(n,1);r.callback()})(n))),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach((e=>{clearTimeout(e.timerId),e.callback()}))}}})();let r=null;const o=n=>{r||en(),r=null,so(0,(()=>co(e().onDragEnd,n,t,un)))};return{beforeCapture:(t,n)=>{r&&en(),so(0,(()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:(t,n)=>{r&&en(),so(0,(()=>{const r=e().onBeforeDragStart;r&&r(lo(t,n))}))},start:(o,i)=>{r&&en();const a=lo(o,i);r={mode:i,lastCritical:o,lastLocation:a.source,lastCombine:null},n.add((()=>{so(0,(()=>co(e().onDragStart,a,t,ln)))}))},update:(o,i)=>{const a=Bn(i),s=Mn(i);r||en();const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(o,r.lastCritical);l&&(r.lastCritical=o);const c=(d=a,!(null==(u=r.lastLocation)&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));var u,d;c&&(r.lastLocation=a);const p=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,s);if(p&&(r.lastCombine=s),!l&&!c&&!p)return;const f={...lo(o,r.mode),combine:s,destination:a};n.add((()=>{so(0,(()=>co(e().onDragUpdate,f,t,cn)))}))},flush:()=>{r||en(),n.flush()},drop:o,abort:()=>{if(!r)return;const e={...lo(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};o(e)}}})(e,t);return e=>t=>r=>{if(kr(r,"BEFORE_INITIAL_CAPTURE"))return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if(kr(r,"INITIAL_PUBLISH")){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if(kr(r,"DROP_COMPLETE")){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),kr(r,"FLUSH"))return void n.abort();const o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}};const po=e=>t=>n=>{if(!kr(n,"DROP_ANIMATION_FINISHED"))return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&en(),e.dispatch(Wr({completed:r.completed}))},fo=e=>{let t=null,n=null;return r=>o=>{if((kr(o,"FLUSH")||kr(o,"DROP_COMPLETE")||kr(o,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),!kr(o,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((()=>{n=null,t=Kt(window,[i])}))}};const ho=e=>t=>n=>{if(t(n),!kr(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Hr({reason:r.reason})))},mo=Lt.compose;var go=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:o,autoScroller:i})=>{return(0,Lt.createStore)(_r,mo((0,Lt.applyMiddleware)((a=n,()=>e=>t=>{kr(t,"INITIAL_PUBLISH")&&a.dragging(),kr(t,"DROP_ANIMATE")&&a.dropping(t.payload.completed.result.reason),(kr(t,"FLUSH")||kr(t,"DROP_COMPLETE"))&&a.resting(),e(t)}),(e=>()=>t=>n=>{(kr(n,"DROP_COMPLETE")||kr(n,"FLUSH")||kr(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)})(e),(e=>({getState:t,dispatch:n})=>r=>o=>{if(!kr(o,"LIFT"))return void r(o);const{id:i,clientSelection:a,movementMode:s}=o.payload,l=t();"DROP_ANIMATING"===l.phase&&n(Wr({completed:l.completed})),"IDLE"!==t().phase&&en(),n({type:"FLUSH",payload:null}),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:i,movementMode:s}});const c={draggableId:i,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},{critical:u,dimensions:d,viewport:p}=e.startPublishing(c);n({type:"INITIAL_PUBLISH",payload:{critical:u,dimensions:d,clientSelection:a,movementMode:s,viewport:p}})})(e),oo,po,fo,ho,(e=>t=>n=>r=>{if((e=>kr(e,"DROP_COMPLETE")||kr(e,"DROP_ANIMATE")||kr(e,"FLUSH"))(r))return e.stop(),void n(r);if(kr(r,"INITIAL_PUBLISH")){n(r);const o=t.getState();return"DRAGGING"!==o.phase&&en(),void e.start(o)}n(r),e.scroll(t.getState())})(i),ao,(e=>{let t=!1;return()=>n=>r=>{if(kr(r,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if(kr(r,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if(kr(r,"DROP_COMPLETE")){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(t),uo(r,o))));var a},bo=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const o=gn({x:t,y:e},{x:r,y:n});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},vo=()=>{const e=document.documentElement;return e||en(),e},yo=()=>{const e=vo();return bo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function wo(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var So=(e,t)=>{let n=null;const r=function({registry:e,callbacks:t}){let n={additions:{},removals:{},modified:{}},r=null;const o=()=>{r||(t.collectionStarting(),r=requestAnimationFrame((()=>{r=null;const{additions:o,removals:i,modified:a}=n,s=Object.keys(o).map((t=>e.draggable.getById(t).getDimension(hn))).sort(((e,t)=>e.descriptor.index-t.descriptor.index)),l=Object.keys(a).map((t=>({droppableId:t,scroll:e.droppable.getById(t).callbacks.getScrollWhileDragging()}))),c={additions:s,removals:Object.keys(i),modified:l};n={additions:{},removals:{},modified:{}},t.publish(c)})))};return{add:e=>{const t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],o()},remove:e=>{const t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],o()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=t=>{n||en();const o=n.critical.draggable;"ADDITION"===t.type&&wo(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&wo(e,o,t.value)&&r.remove(t.value)},i={updateDroppableIsEnabled:(r,o)=>{e.droppable.exists(r)||en(),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:(r,o)=>{n&&(e.droppable.exists(r)||en(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,o)=>{n&&(e.droppable.exists(r)||en(),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:t=>{n&&en();const r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:i.descriptor},s=e.subscribe(o);return n={critical:a,unsubscribe:s},(({critical:e,scrollOptions:t,registry:n})=>{const r=(()=>{const e=io(),t=yo(),n=e.y,r=e.x,o=vo(),i=o.clientWidth,a=o.clientHeight;return{frame:jt({top:n,left:r,right:r+i,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:hn,displacement:hn}}}})(),o=r.scroll.current,i=e.droppable,a=n.droppable.getAllByType(i.type).map((e=>e.callbacks.getDimensionAndWatchScroll(o,t))),s=n.draggable.getAllByType(e.draggable.type).map((e=>e.getDimension(o)));return{dimensions:{draggables:Pn(s),droppables:Dn(a)},critical:e,viewport:r}})({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((e=>e.callbacks.dragStopped())),n.unsubscribe(),n=null}};return i},Eo=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason,Ao=e=>{window.scrollBy(e.x,e.y)};const xo=Rn((e=>Tn(e).filter((e=>!!e.isEnabled&&!!e.frame))));const Co={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Oo=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return 0===r?0:(n-e)/r},Io=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const i=((e,t,n=()=>Co)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const o=1-Oo({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=r.maxPixelScroll*r.ease(o);return Math.ceil(i)})(e,t,o);return 0===i?0:r?Math.max(((e,t,n)=>{const r=n(),o=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,a=t,s=i,l=Date.now()-a;if(l>=i)return e;if(l<o)return 1;const c=Oo({startOfRange:o,endOfRange:s,current:l}),u=e*r.ease(c);return Math.ceil(u)})(i,n,o),1):i},Ro=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const a=((e,t,n=()=>Co)=>{const r=n();return{startScrollingFrom:e[t.size]*r.startFromPercentage,maxScrollValueAt:e[t.size]*r.maxScrollAtPercentage}})(e,r,i);return t[r.end]<t[r.start]?Io({distanceToEdge:t[r.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:i}):-1*Io({distanceToEdge:t[r.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:i})};const Do=En((e=>0===e?0:e));var Po=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const a={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},s=Ro({container:t,distanceToEdges:a,dragStartTime:e,axis:Wn,shouldUseTimeDampening:o,getAutoScrollerOptions:i}),l=Ro({container:t,distanceToEdges:a,dragStartTime:e,axis:Hn,shouldUseTimeDampening:o,getAutoScrollerOptions:i}),c=Do({x:l,y:s});if(bn(c,hn))return null;const u=(({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,o=t.width>e.width;return o||r?o&&r?null:{x:o?0:n.x,y:r?0:n.y}:n})({container:t,subject:n,proposedScroll:c});return u?bn(u,hn)?null:u:null};const To=En((e=>0===e?0:e>0?1:-1)),_o=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return({current:t,max:n,change:r})=>{const o=mn(t,r),i={x:e(o.x,n.x),y:e(o.y,n.y)};return bn(i,hn)?null:i}})(),ko=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=To(n),i=_o({max:r,current:t,change:o});return!i||0!==o.x&&0===i.x||0!==o.y&&0===i.y},Bo=(e,t)=>ko({current:e.scroll.current,max:e.scroll.max,change:t}),Mo=(e,t)=>{const n=e.frame;return!!n&&ko({current:n.scroll.current,max:n.scroll.max,change:t})};var Lo=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:o,getAutoScrollerOptions:i})=>{const a=e.current.page.borderBoxCenter,s=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const o=(({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const a=Po({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:i});return a&&Bo(e,a)?a:null})({dragStartTime:t,viewport:e.viewport,subject:s,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});if(o)return void r(o)}const l=(({center:e,destination:t,droppables:n})=>{if(t){const e=n[t];return e.frame?e:null}const r=((e,t)=>{const n=xo(t).find((t=>(t.frame||en(),vr(t.frame.pageMarginBox)(e))))||null;return n})(e,n);return r})({center:a,destination:mr(e.impact),droppables:e.dimensions.droppables});if(!l)return;const c=(({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const a=e.frame;if(!a)return null;const s=Po({dragStartTime:r,container:a.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:i});return s&&Mo(e,s)?s:null})({dragStartTime:t,droppable:l,subject:s,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:i});c&&o(l.descriptor.id,c)},No=({move:e,scrollDroppable:t,scrollWindow:n})=>r=>{const o=r.scrollJumpRequest;if(!o)return;const i=mr(r.impact);i||en();const a=((e,n)=>{if(!Mo(e,n))return n;const r=((e,t)=>{const n=e.frame;return n&&Mo(e,t)?_o({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,n);if(!r)return t(e.descriptor.id,n),null;const o=gn(n,r);return t(e.descriptor.id,o),gn(n,o)})(r.dimensions.droppables[i],o);if(!a)return;const s=r.viewport,l=((e,t,r)=>{if(!e)return r;if(!Bo(t,r))return r;const o=((e,t)=>{if(!Bo(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return _o({current:r,max:n,change:t})})(t,r);if(!o)return n(r),null;const i=gn(r,o);return n(i),gn(r,i)})(r.isWindowScrollAllowed,s,a);l&&((t,n)=>{const r=mn(t.current.client.selection,n);e({client:r})})(r,l)};const jo="data-rfd",Fo=(()=>{const e=`${jo}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),zo=(()=>{const e=`${jo}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Vo=(()=>{const e=`${jo}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),$o={contextId:`${jo}-scroll-container-context-id`},Uo=(e,t)=>e.map((e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""})).join(" "),Wo="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,Ho=()=>{const e=document.querySelector("head");return e||en(),e},Go=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function qo(e,t){return Array.from(e.querySelectorAll(t))}var Yo=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Xo(e){return e instanceof Yo(e).HTMLElement}function Qo(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((t=>t(e)))}function r(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const o=t.descriptor.id,i=r(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||en(),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter((e=>e.descriptor.type===t))},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=o(e);return t||en(),t},findById:o,exists:e=>Boolean(o(e)),getAllByType:t=>Object.values(e.droppables).filter((e=>e.descriptor.type===t))},subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Zo=o().createContext(null),Ko=()=>{const e=document.body;return e||en(),e};const Jo={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},ei={separator:"::"};function ti(e,t=ei){const n=o().useId();return pn((()=>`${e}${t.separator}${n}`),[t.separator,e,n])}var ni=o().createContext(null);function ri(e){const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e})),t}function oi(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const ii=9,ai=13,si=33,li=34,ci=35,ui=36,di={[ai]:!0,[ii]:!0};var pi=e=>{di[e.keyCode]&&e.preventDefault()};const fi=(()=>{const e="visibilitychange";return"undefined"==typeof document?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find((e=>`on${e}`in document))||e})(),hi={type:"IDLE"};function mi(){}const gi={[li]:!0,[si]:!0,[ui]:!0,[ci]:!0};const bi={type:"IDLE"},vi=["input","button","textarea","select","option","optgroup","video","audio"];function yi(e,t){if(null==t)return!1;if(vi.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&yi(e,t.parentElement)}function wi(e,t){const n=t.target;return!!Xo(n)&&yi(e,n)}var Si=e=>jt(e.getBoundingClientRect()).center;const Ei=(()=>{const e="matches";return"undefined"==typeof document?e:[e,"msMatchesSelector","webkitMatchesSelector"].find((e=>e in Element.prototype))||e})();function Ai(e,t){return null==e?null:e[Ei](t)?e:Ai(e.parentElement,t)}function xi(e,t){return e.closest?e.closest(t):Ai(e,t)}function Ci(e){e.preventDefault()}function Oi({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!!n()&&e===t}function Ii({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const o=n.draggable.findById(r);return!!o&&!!o.options.isEnabled&&!!Eo(t.getState(),r)}const Ri=[function(e){const t=(0,r.useRef)(hi),n=(0,r.useRef)(Zt),o=pn((()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const o=e.tryGetLock(r,s,{sourceEvent:t});if(!o)return;t.preventDefault();const i={x:t.clientX,y:t.clientY};n.current(),u(o,i)}})),[e]),i=pn((()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}})),[e]),a=fn((function(){n.current=Kt(window,[i,o],{passive:!1,capture:!0})}),[i,o]),s=fn((()=>{"IDLE"!==t.current.type&&(t.current=hi,n.current(),a())}),[a]),l=fn((()=>{const e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=fn((function(){const e=function({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:o,clientY:i}=e;if(0!==t)return;const a={x:o,y:i},s=n();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);if("PENDING"!==s.type&&en(),l=s.point,c=a,!(Math.abs(c.x-l.x)>=5||Math.abs(c.y-l.y)>=5))return;var l,c;e.preventDefault();const u=s.actions.fluidLift(a);r({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:r=>{const o=n();"DRAGGING"===o.type?(r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"mousedown",fn:t=>{"DRAGGING"===n().type&&t.preventDefault(),e()}},{eventName:"keydown",fn:t=>{if("PENDING"!==n().type)return 27===t.keyCode?(t.preventDefault(),void e()):void pi(t);e()}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===n().type&&e()}},{eventName:"webkitmouseforcedown",fn:t=>{const r=n();"IDLE"===r.type&&en(),r.actions.shouldRespectForcePress()?e():t.preventDefault()}},{eventName:fi,fn:e}]}({cancel:l,completed:s,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=Kt(window,e,{capture:!0,passive:!1})}),[l,s]),u=fn((function(e,n){"IDLE"!==t.current.type&&en(),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);Wo((function(){return a(),function(){n.current()}}),[a])},function(e){const t=(0,r.useRef)(mi),n=pn((()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const r=e.findClosestDraggableId(n);if(!r)return;const i=e.tryGetLock(r,l,{sourceEvent:n});if(!i)return;n.preventDefault();let a=!0;const s=i.snapLift();function l(){a||en(),a=!1,t.current(),o()}t.current(),t.current=Kt(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(gi[r.keyCode]?r.preventDefault():pi(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:fi,fn:n}]}(s,l),{capture:!0,passive:!1})}})),[e]),o=fn((function(){t.current=Kt(window,[n],{passive:!1,capture:!0})}),[n]);Wo((function(){return o(),function(){t.current()}}),[o])},function(e){const t=(0,r.useRef)(bi),n=(0,r.useRef)(Zt),o=fn((function(){return t.current}),[]),i=fn((function(e){t.current=e}),[]),a=pn((()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const o=e.tryGetLock(r,l,{sourceEvent:t});if(!o)return;const i=t.touches[0],{clientX:a,clientY:s}=i,c={x:a,y:s};n.current(),p(o,c)}})),[e]),s=fn((function(){n.current=Kt(window,[a],{capture:!0,passive:!1})}),[a]),l=fn((()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(bi),n.current(),s())}),[s,i]),c=fn((()=>{const e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=fn((function(){const e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:o},r=Kt(window,function({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:t=>{const r=n();if("DRAGGING"!==r.type)return void e();r.hasMoved=!0;const{clientX:o,clientY:i}=t.touches[0],a={x:o,y:i};t.preventDefault(),r.actions.move(a)}},{eventName:"touchend",fn:r=>{const o=n();"DRAGGING"===o.type?(r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"touchcancel",fn:t=>{"DRAGGING"===n().type?(t.preventDefault(),e()):e()}},{eventName:"touchforcechange",fn:t=>{const r=n();"IDLE"===r.type&&en();const o=t.touches[0];if(!o)return;if(!(o.force>=.15))return;const i=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return i?r.hasMoved?void t.preventDefault():void e():void t.preventDefault();i&&e()}},{eventName:fi,fn:e}]}(t),e),i=Kt(window,function({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:n=>{"DRAGGING"===t().type?(27===n.keyCode&&n.preventDefault(),e()):e()}},{eventName:fi,fn:e}]}(t),e);n.current=function(){r(),i()}}),[c,o,l]),d=fn((function(){const e=o();"PENDING"!==e.type&&en();const t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[o,i]),p=fn((function(e,t){"IDLE"!==o().type&&en();const n=setTimeout(d,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,o,i,d]);Wo((function(){return s(),function(){n.current();const e=o();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(bi))}}),[o,s,i]),Wo((function(){return Kt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])}),[])}];function Di({contextId:e,store:t,registry:n,customSensors:o,enableDefaultSensors:i}){const a=[...i?Ri:[],...o||[]],s=(0,r.useState)((()=>function(){let e=null;function t(){e||en(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&en();const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()))[0],l=fn((function(e,t){oi(e)&&!oi(t)&&s.tryAbandon()}),[s]);Wo((function(){let e=t.getState();return t.subscribe((()=>{const n=t.getState();l(e,n),e=n}))}),[s,t,l]),Wo((()=>s.tryAbandon),[s.tryAbandon]);const c=fn((e=>Ii({lockAPI:s,registry:n,store:t,draggableId:e})),[s,n,t]),u=fn(((r,o,i)=>function({lockAPI:e,contextId:t,store:n,registry:r,draggableId:o,forceSensorStop:i,sourceEvent:a}){if(!Ii({lockAPI:e,store:n,registry:r,draggableId:o}))return null;const s=r.draggable.getById(o),l=function(e,t){const n=`[${zo.contextId}="${e}"]`,r=qo(document,n).find((e=>e.getAttribute(zo.id)===t));return r&&Xo(r)?r:null}(t,s.descriptor.id);if(!l)return null;if(a&&!s.options.canDragInteractiveElements&&wi(l,a))return null;const c=e.claim(i||Zt);let u="PRE_DRAG";function d(){return s.options.shouldRespectForcePress}function p(){return e.isActive(c)}const f=function(e,t){Oi({expected:e,phase:u,isLockActive:p,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function h(t){function r(){e.release(),u="COMPLETED"}function o(e,o={shouldBlockNextClick:!1}){if(t.cleanup(),o.shouldBlockNextClick){const e=Kt(window,[{eventName:"click",fn:Ci,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}r(),n.dispatch(Hr({reason:e}))}return"PRE_DRAG"!==u&&(r(),en()),n.dispatch((e=>({type:"LIFT",payload:e}))(t.liftActionArgs)),u="DRAGGING",{isActive:()=>Oi({expected:"DRAGGING",phase:u,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:d,drop:e=>o("DROP",e),cancel:e=>o("CANCEL",e),...t.actions}}return{isActive:()=>Oi({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:d,fluidLift:function(e){const t=Yt((e=>{f((()=>Fr({client:e})))}));return{...h({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>f(zr),moveRight:()=>f($r),moveDown:()=>f(Vr),moveLeft:()=>f(Ur)};return h({liftActionArgs:{id:o,clientSelection:Si(l),movementMode:"SNAP"},cleanup:Zt,actions:e})},abort:function(){Oi({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!0})&&e.release()}}}({lockAPI:s,registry:n,contextId:e,store:t,draggableId:r,forceSensorStop:o||null,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})),[e,s,n,t]),d=fn((t=>function(e,t){const n=function(e,t){const n=t.target;if(!((r=n)instanceof Yo(r).Element))return null;var r;const o=function(e){return`[${Fo.contextId}="${e}"]`}(e),i=xi(n,o);return i&&Xo(i)?i:null}(e,t);return n?n.getAttribute(Fo.draggableId):null}(e,t)),[e]),p=fn((e=>{const t=n.draggable.findById(e);return t?t.options:null}),[n.draggable]),f=fn((function(){s.isClaimed()&&(s.tryAbandon(),"IDLE"!==t.getState().phase&&t.dispatch({type:"FLUSH",payload:null}))}),[s,t]),h=fn((()=>s.isClaimed()),[s]),m=pn((()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:p,tryReleaseLock:f,isLockClaimed:h})),[c,u,d,p,f,h]);for(let e=0;e<a.length;e++)a[e](m)}function Pi(e){return e.current||en(),e.current}function Ti(e){const{contextId:t,setCallbacks:n,sensors:i,nonce:a,dragHandleUsageInstructions:s}=e,l=(0,r.useRef)(null),c=ri(e),u=fn((()=>(e=>({onBeforeCapture:t=>{(0,ge.flushSync)((()=>{e.onBeforeCapture&&e.onBeforeCapture(t)}))},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(c.current)),[c]),d=fn((()=>(e=>({...Co,...e.autoScrollerOptions,durationDampening:{...Co.durationDampening,...e.autoScrollerOptions}}))(c.current)),[c]),p=function(e){const t=pn((()=>(e=>`rfd-announcement-${e}`)(e)),[e]),n=(0,r.useRef)(null);return(0,r.useEffect)((function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),(0,Xt.A)(e.style,Jo),Ko().appendChild(e),function(){setTimeout((function(){const t=Ko();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),fn((e=>{const t=n.current;t&&(t.textContent=e)}),[])}(t),f=function({contextId:e,text:t}){const n=ti("hidden-text",{separator:"-"}),o=pn((()=>function({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}({contextId:e,uniqueId:n})),[n,e]);return(0,r.useEffect)((function(){const e=document.createElement("div");return e.id=o,e.textContent=t,e.style.display="none",Ko().appendChild(e),function(){const t=Ko();t.contains(e)&&t.removeChild(e)}}),[o,t]),o}({contextId:t,text:s}),h=function(e,t){const n=pn((()=>(e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(Fo.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),o=[(()=>{const e=`\n      transition: ${Kr.outOfTheWay};\n    `;return{selector:t(zo.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t(Vo.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Uo(o,"always"),resting:Uo(o,"resting"),dragging:Uo(o,"dragging"),dropAnimating:Uo(o,"dropAnimating"),userCancel:Uo(o,"userCancel")}})(e)),[e]),o=(0,r.useRef)(null),i=(0,r.useRef)(null),a=fn(Rn((e=>{const t=i.current;t||en(),t.textContent=e})),[]),s=fn((e=>{const t=o.current;t||en(),t.textContent=e}),[]);Wo((()=>{(o.current||i.current)&&en();const r=Go(t),l=Go(t);return o.current=r,i.current=l,r.setAttribute(`${jo}-always`,e),l.setAttribute(`${jo}-dynamic`,e),Ho().appendChild(r),Ho().appendChild(l),s(n.always),a(n.resting),()=>{const e=e=>{const t=e.current;t||en(),Ho().removeChild(t),e.current=null};e(o),e(i)}}),[t,s,a,n.always,n.resting,e]);const l=fn((()=>a(n.dragging)),[a,n.dragging]),c=fn((e=>{a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=fn((()=>{i.current&&a(n.resting)}),[a,n.resting]);return pn((()=>({dragging:l,dropping:c,resting:u})),[l,c,u])}(t,a),m=fn((e=>{Pi(l).dispatch(e)}),[]),g=pn((()=>(0,Lt.bindActionCreators)({publishWhileDragging:Br,updateDroppableScroll:Lr,updateDroppableIsEnabled:Nr,updateDroppableIsCombineEnabled:jr,collectionStarting:Mr},m)),[m]),b=function(){const e=pn(Qo,[]);return(0,r.useEffect)((()=>function(){e.clean()}),[e]),e}(),v=pn((()=>So(b,g)),[b,g]),y=pn((()=>(({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const o=(({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Co})=>{const r=Yt(e),o=Yt(t);let i=null;const a=e=>{i||en();const{shouldUseTimeDampening:t,dragStartTime:a}=i;Lo({state:e,scrollWindow:r,scrollDroppable:o,dragStartTime:a,shouldUseTimeDampening:t,getAutoScrollerOptions:n})};return{start:e=>{i&&en();const t=Date.now();let r=!1;const o=()=>{r=!0};Lo({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:o,scrollDroppable:o,getAutoScrollerOptions:n}),i={dragStartTime:t,shouldUseTimeDampening:r},r&&a(e)},stop:()=>{i&&(r.cancel(),o.cancel(),i=null)},scroll:a}})({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),i=No({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:e=>{r().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}})({scrollWindow:Ao,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:d,...(0,Lt.bindActionCreators)({move:Fr},m)})),[v.scrollDroppable,m,d]),w=function(e){const t=(0,r.useRef)({}),n=(0,r.useRef)(null),o=(0,r.useRef)(null),i=(0,r.useRef)(!1),a=fn((function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}}),[]),s=fn((function(t){const n=function(e,t){const n=`[${Fo.contextId}="${e}"]`,r=qo(document,n);if(!r.length)return null;const o=r.find((e=>e.getAttribute(Fo.draggableId)===t));return o&&Xo(o)?o:null}(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=fn((function(e,t){n.current===e&&(n.current=t)}),[]),c=fn((function(){o.current||i.current&&(o.current=requestAnimationFrame((()=>{o.current=null;const e=n.current;e&&s(e)})))}),[s]),u=fn((function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(Fo.draggableId)===e&&(n.current=e)}),[]);return Wo((()=>(i.current=!0,function(){i.current=!1;const e=o.current;e&&cancelAnimationFrame(e)})),[]),pn((()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l})),[a,u,c,l])}(t),S=pn((()=>go({announce:p,autoScroller:y,dimensionMarshal:v,focusMarshal:w,getResponders:u,styleMarshal:h})),[p,y,v,w,u,h]);l.current=S;const E=fn((()=>{const e=Pi(l);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),A=fn((()=>{const e=Pi(l).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging}),[]);n(pn((()=>({isDragging:A,tryAbort:E})),[A,E]));const x=fn((e=>Eo(Pi(l).getState(),e)),[]),C=fn((()=>br(Pi(l).getState())),[]),O=pn((()=>({marshal:v,focus:w,contextId:t,canLift:x,isMovementAllowed:C,dragHandleUsageInstructionsId:f,registry:b})),[t,v,f,w,x,C,b]);return Di({contextId:t,store:S,registry:b,customSensors:i||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,r.useEffect)((()=>E),[E]),o().createElement(ni.Provider,{value:O},o().createElement(Nt.Provider,{context:Zo,store:S},e.children))}function _i(e){const t=o().useId(),n=e.dragHandleUsageInstructions||sn;return o().createElement(tn,null,(r=>o().createElement(Ti,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children)))}const ki=(e,t)=>t?Kr.drop(t.duration):e?Kr.snap:Kr.fluid,Bi=(e,t)=>{if(e)return t?qr:Yr};function Mi(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:o}=e,i=Boolean(r),a=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),s=Boolean(o),l=s?((e,t)=>{const n=Jr(e);if(n)return t?`${n} scale(${Xr})`:n})(n,i):eo(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:ki(a,o),transform:l,opacity:Bi(i,s),zIndex:s?4500:5e3,pointerEvents:"none"}}(e):{transform:eo((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}var Li=o().createContext(null);function Ni(e){const t=(0,r.useContext)(e);return t||en(),t}function ji(e){e.preventDefault()}var Fi=(e,t)=>e===t,zi=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function Vi(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const $i={mapped:{type:"SECONDARY",offset:hn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Vi(null)}},Ui={dropAnimationFinished:()=>({type:"DROP_ANIMATION_FINISHED",payload:null})},Wi=(0,Nt.connect)((()=>{const e=function(){const e=Rn(((e,t)=>({x:e,y:t}))),t=Rn(((e,t,n=null,r=null,o=null)=>({isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}))),n=Rn(((e,n,r,o,i=null,a=null,s=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,o,i,a,null)}})));return(r,o)=>{if(oi(r)){if(r.critical.draggable.id!==o.draggableId)return null;const t=r.current.client.offset,a=r.dimensions.draggables[o.draggableId],s=mr(r.impact),l=(i=r.impact).at&&"COMBINE"===i.at.type?i.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,a,o.isClone,s,l,c)}var i;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==o.draggableId)return null;const n=o.isClone,i=r.dimensions.draggables[o.draggableId],a=e.result,s=a.mode,l=zi(a),c=(e=>e.combine?e.combine.draggableId:null)(a),u={duration:r.dropDuration,curve:Gr,moveTo:r.newHomeClientOffset,opacity:c?qr:null,scale:c?Xr:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:i,dropping:u,draggingOver:l,combineWith:c,mode:s,forceShouldAnimate:null,snapshot:t(s,n,l,c,u)}}}return null}}(),t=function(){const e=Rn(((e,t)=>({x:e,y:t}))),t=Rn(Vi),n=Rn(((e,n=null,r)=>({mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}))),r=e=>e?n(hn,e,!0):null,o=(t,o,i,a)=>{const s=i.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=Mn(i),u=c&&c.draggableId===t?o:null;if(!s){if(!l)return r(u);if(i.displaced.invisible[t])return null;const o=vn(a.displacedBy.point),s=e(o.x,o.y);return n(s,u,!0)}if(l)return r(u);const d=i.displacedBy.point,p=e(d.x,d.y);return n(p,u,s.shouldAnimate)};return(e,t)=>{if(oi(e))return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||$i}),Ui,null,{context:Zo,areStatePropsEqual:Fi})((e=>{const t=(0,r.useRef)(null),n=fn(((e=null)=>{t.current=e}),[]),i=fn((()=>t.current),[]),{contextId:a,dragHandleUsageInstructionsId:s,registry:l}=Ni(ni),{type:c,droppableId:u}=Ni(Li),d=pn((()=>({id:e.draggableId,index:e.index,type:c,droppableId:u})),[e.draggableId,e.index,c,u]),{children:p,draggableId:f,isEnabled:h,shouldRespectForcePress:m,canDragInteractiveElements:g,isClone:b,mapped:v,dropAnimationFinished:y}=e;b||function(e){const t=ti("draggable"),{descriptor:n,registry:o,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}=e,c=pn((()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l})),[a,l,s]),u=fn((e=>{const t=i();return t||en(),function(e,t,n=hn){const r=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=Gt(o,r),a=Ht(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(n,t,e)}),[n,i]),d=pn((()=>({uniqueId:t,descriptor:n,options:c,getDimension:u})),[n,u,c,t]),p=(0,r.useRef)(d),f=(0,r.useRef)(!0);Wo((()=>(o.draggable.register(p.current),()=>o.draggable.unregister(p.current))),[o.draggable]),Wo((()=>{if(f.current)return void(f.current=!1);const e=p.current;p.current=d,o.draggable.update(d,e)}),[d,o.draggable])}(pn((()=>({descriptor:d,registry:l,getDraggableRef:i,canDragInteractiveElements:g,shouldRespectForcePress:m,isEnabled:h})),[d,l,i,g,m,h]));const w=pn((()=>h?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:ji}:null),[a,s,f,h]),S=fn((e=>{"DRAGGING"===v.type&&v.dropping&&"transform"===e.propertyName&&(0,ge.flushSync)(y)}),[y,v]),E=pn((()=>{const e=Mi(v),t="DRAGGING"===v.type&&v.dropping?S:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":f,style:e,onTransitionEnd:t},dragHandleProps:w}}),[a,w,f,v,S,n]),A=pn((()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}})),[d.droppableId,d.id,d.index,d.type]);return o().createElement(o().Fragment,null,p(E,v.snapshot,A))}));function Hi(e){return Ni(Li).isUsingCloneFor!==e.draggableId||e.isClone?o().createElement(Wi,e):null}function Gi(e){const t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return o().createElement(Hi,(0,Xt.A)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const qi=e=>t=>e===t,Yi=qi("scroll"),Xi=qi("auto"),Qi=(qi("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),Zi=e=>null==e||e===document.body||e===document.documentElement?null:(e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Qi(n,Yi)||Qi(n,Xi)})(e)?e:Zi(e.parentElement);var Ki=e=>({x:e.scrollLeft,y:e.scrollTop});const Ji=e=>!!e&&("fixed"===window.getComputedStyle(e).position||Ji(e.parentElement));const ea={passive:!1},ta={passive:!0};var na=e=>e.shouldPublishImmediately?ea:ta;const ra=e=>e&&e.env.closestScrollable||null;function oa(e){const t=(0,r.useRef)(null),n=Ni(ni),o=ti("droppable"),{registry:i,marshal:a}=n,s=ri(e),l=pn((()=>({id:e.droppableId,type:e.type,mode:e.mode})),[e.droppableId,e.mode,e.type]),c=(0,r.useRef)(l),u=pn((()=>Rn(((e,n)=>{t.current||en();const r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))),[l.id,a]),d=fn((()=>{const e=t.current;return e&&e.env.closestScrollable?Ki(e.env.closestScrollable):hn}),[]),p=fn((()=>{const e=d();u(e.x,e.y)}),[d,u]),f=pn((()=>Yt(p)),[p]),h=fn((()=>{const e=t.current,n=ra(e);e&&n||en(),e.scrollOptions.shouldPublishImmediately?p():f()}),[f,p]),m=fn(((e,r)=>{t.current&&en();const o=s.current,i=o.getDroppableRef();i||en();const a=(e=>({closestScrollable:Zi(e),isFixedOnPage:Ji(e)}))(i),c={ref:i,descriptor:l,env:a,scrollOptions:r};t.current=c;const u=(({ref:e,descriptor:t,env:n,windowScroll:r,direction:o,isDropDisabled:i,isCombineEnabled:a,shouldClipSubject:s})=>{const l=n.closestScrollable,c=((e,t)=>{const n=qt(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=o+t.scrollWidth,s=Ft({top:r,right:a,bottom:i,left:o},n.border);return $t({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})})(e,l),u=Ht(c,r),d=(()=>{if(!l)return null;const e=qt(l),t={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:e,page:Ht(e,r),scroll:Ki(l),scrollSize:t,shouldClipSubject:s}})(),p=(({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:o,client:i,page:a,closest:s})=>{const l=(()=>{if(!s)return null;const{scrollSize:e,client:t}=s,n=bo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:n,diff:{value:hn,displacement:hn}}}})(),c="vertical"===o?Wn:Hn;return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:i,page:a,frame:l,subject:On({page:a,withPlaceholder:null,axis:c,frame:l})}})({descriptor:t,isEnabled:!i,isCombineEnabled:a,isFixedOnPage:n.isFixedOnPage,direction:o,client:c,page:u,closest:d});return p})({ref:i,descriptor:l,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute($o.contextId,n.contextId),d.addEventListener("scroll",h,na(c.scrollOptions))),u}),[n.contextId,l,h,s]),g=fn((()=>{const e=t.current,n=ra(e);return e&&n||en(),Ki(n)}),[]),b=fn((()=>{const e=t.current;e||en();const n=ra(e);t.current=null,n&&(f.cancel(),n.removeAttribute($o.contextId),n.removeEventListener("scroll",h,na(e.scrollOptions)))}),[h,f]),v=fn((e=>{const n=t.current;n||en();const r=ra(n);r||en(),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),y=pn((()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:b,scroll:v})),[b,m,g,v]),w=pn((()=>({uniqueId:o,descriptor:l,callbacks:y})),[y,l,o]);Wo((()=>(c.current=w.descriptor,i.droppable.register(w),()=>{t.current&&b(),i.droppable.unregister(w)})),[y,l,b,w,a,i.droppable]),Wo((()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),Wo((()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}function ia(){}const aa={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}};var sa=o().memo((e=>{const t=(0,r.useRef)(null),n=fn((()=>{t.current&&(clearTimeout(t.current),t.current=null)}),[]),{animate:i,onTransitionEnd:a,onClose:s,contextId:l}=e,[c,u]=(0,r.useState)("open"===e.animate);(0,r.useEffect)((()=>c?"open"!==i?(n(),u(!1),ia):t.current?ia:(t.current=setTimeout((()=>{t.current=null,u(!1)})),n):ia),[i,c,n]);const d=fn((e=>{"height"===e.propertyName&&(a(),"close"===i&&s())}),[i,s,a]),p=(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||"close"===n?aa:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin})({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?Kr.placeholder:null}})({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return o().createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":l,onTransitionEnd:d,ref:e.innerRef})}));class la extends o().PureComponent{constructor(...e){super(...e),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const ca={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||en(),document.body}},ua=e=>{let t,n={...e};for(t in ca)void 0===e[t]&&(n={...n,[t]:ca[t]});return n},da=(e,t)=>e===t.droppable.type,pa=(e,t)=>t.draggables[e.draggable.id],fa=(0,Nt.connect)((()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Rn((e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}))),r=Rn(((r,o,i,a,s,l)=>{const c=s.descriptor.id;if(s.descriptor.droppableId===r){const e=l?{render:l,dragging:n(s.descriptor)}:null,t={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!o)return t;if(!a)return e;const u={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:u,useClone:null}}));return(n,o)=>{const i=ua(o),a=i.droppableId,s=i.type,l=!i.isDropDisabled,c=i.renderClone;if(oi(n)){const e=n.critical;if(!da(s,e))return t;const o=pa(e,n.dimensions),i=mr(n.impact)===a;return r(a,l,i,i,o,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!da(s,e.critical))return t;const o=pa(e.critical,n.dimensions);return r(a,l,zi(e.result)===a,mr(e.impact)===a,o,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!da(s,r.critical))return t;const o=mr(r.impact)===a,i=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===a;return o?i?e:t:l?e:t}return t}}),{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},((e,t,n)=>({...ua(n),...e,...t})),{context:Zo,areStatePropsEqual:Fi})((e=>{const t=(0,r.useContext)(ni);t||en();const{contextId:n,isMovementAllowed:i}=t,a=(0,r.useRef)(null),s=(0,r.useRef)(null),{children:l,droppableId:c,type:u,mode:d,direction:p,ignoreContainerClipping:f,isDropDisabled:h,isCombineEnabled:m,snapshot:g,useClone:b,updateViewportMaxScroll:v,getContainerForClone:y}=e,w=fn((()=>a.current),[]),S=fn(((e=null)=>{a.current=e}),[]),E=(fn((()=>s.current),[]),fn(((e=null)=>{s.current=e}),[])),A=fn((()=>{i()&&v({maxScroll:yo()})}),[i,v]);oa({droppableId:c,type:u,mode:d,direction:p,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:w});const x=pn((()=>o().createElement(la,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(({onClose:e,data:t,animate:r})=>o().createElement(sa,{placeholder:t,onClose:e,innerRef:E,animate:r,contextId:n,onTransitionEnd:A})))),[n,A,e.placeholder,e.shouldAnimatePlaceholder,E]),C=pn((()=>({innerRef:S,placeholder:x,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":n}})),[n,c,x,S]),O=b?b.dragging.draggableId:null,I=pn((()=>({droppableId:c,type:u,isUsingCloneFor:O})),[c,O,u]);return o().createElement(Li.Provider,{value:I},l(C,g),function(){if(!b)return null;const{dragging:e,render:t}=b,n=o().createElement(Hi,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},((n,r)=>t(n,r,e)));return be().createPortal(n,y())}())})),ha={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let ma;const ga=new Uint8Array(16),ba=[];for(let e=0;e<256;++e)ba.push((e+256).toString(16).slice(1));const va=function(e,t,n){if(ha.randomUUID&&!t&&!e)return ha.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!ma){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ma=crypto.getRandomValues.bind(crypto)}return ma(ga)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(ba[e[t+0]]+ba[e[t+1]]+ba[e[t+2]]+ba[e[t+3]]+"-"+ba[e[t+4]]+ba[e[t+5]]+"-"+ba[e[t+6]]+ba[e[t+7]]+"-"+ba[e[t+8]]+ba[e[t+9]]+"-"+ba[e[t+10]]+ba[e[t+11]]+ba[e[t+12]]+ba[e[t+13]]+ba[e[t+14]]+ba[e[t+15]]).toLowerCase()}(r)};function ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ya(e,t,n[t])}))}return e}function Sa(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Ea=({item:e,value:i,onChange:a,context:l})=>{var c;const u=(A=(0,n.useTheme2)(),{item:t.css`
      margin-bottom: ${A.spacing(1)};
    `}),[d,p]=(0,r.useState)(i||[]),[f,h]=(0,r.useState)({id:va(),type:s.IMAGE,field:"",refId:""}),[m,g]=(0,r.useState)({}),b=(0,r.useCallback)((e=>{p(e),a(e)}),[a]),v=(0,r.useCallback)((e=>{e.destination&&b(((e,t,n)=>{const r=Array.from(e),[o]=r.splice(t,1);return r.splice(n,0,o),r})(d,e.source.index,e.destination.index))}),[b,d]),w=(0,r.useCallback)((()=>{f.field&&f.type&&(b([...d,f]),h({id:va(),type:s.IMAGE,field:"",refId:""}))}),[f,b,d]),S=(0,r.useCallback)((e=>{g((t=>Sa(wa({},t),{[e.id]:!t[e.id]})))}),[]),E=(0,r.useMemo)((()=>{var t,n,r;return n=l.data,r=null===(t=e.settings)||void 0===t?void 0:t.filterByType,n.reduce(((e,t)=>e.concat(t.fields.filter((e=>!r||r.includes(e.type))).map((e=>({value:`${t.refId?`${t.refId}:`:""}${e.name}`,label:`${t.refId?`${t.refId}:`:""}${e.name}`,refId:t.refId||"",field:e.name}))))),[])}),[l.data,null===(c=e.settings)||void 0===c?void 0:c.filterByType]);var A;return o().createElement("div",{"data-testid":N},o().createElement(_i,{onDragEnd:v},o().createElement(fa,{droppableId:"editor"},(e=>o().createElement("div",Sa(wa({},e.droppableProps),{ref:e.innerRef}),d.map(((e,t)=>o().createElement(Gi,{key:e.id,draggableId:e.id,index:t},((t,r)=>{return o().createElement("div",Sa(wa({ref:t.innerRef},t.draggableProps),{style:(r.isDragging,i=t.draggableProps.style,wa({},i)),className:u.item}),o().createElement(Q.SD,{headerTestId:z(e.id),contentTestId:V(e.id),isOpen:m[e.id],onToggle:()=>S(e),title:o().createElement(o().Fragment,null,`${e.type} - [${e.field}]`),actions:o().createElement(o().Fragment,null,o().createElement(n.Button,{icon:"trash-alt",variant:"secondary",fill:"text",size:"sm",onClick:()=>{b(d.filter((t=>t.id!==e.id)))},"data-testid":F}),o().createElement("div",t.dragHandleProps,o().createElement(n.Icon,{name:"draggabledots"})))},o().createElement(o().Fragment,null,o().createElement(n.InlineField,{label:"Type",grow:!0},o().createElement(n.Select,{placeholder:"Change source type",onChange:t=>{if(t.value){const n=d.map((n=>n.id===e.id?Sa(wa({},n),{type:t.value}):n));b(n)}},value:e.type,options:y,"aria-label":$,"data-testid":$})),o().createElement(n.InlineField,{label:"Field",grow:!0},o().createElement(n.Select,{value:`${e.refId?`${e.refId}:`:""}${e.field}`,onChange:t=>{const n=d.map((n=>n.id===e.id?Sa(wa({},n),{field:t.field,refId:t.refId||""}):n));b(n)},options:E,"aria-label":U,"data-testid":U})))));var i})))),e.placeholder)))),o().createElement(n.InlineFieldRow,null,o().createElement(n.InlineField,{label:"Media Type",grow:!0},o().createElement(n.Select,{placeholder:"Select source type",onChange:e=>{h(Sa(wa({},f),{type:e.value}))},value:f.type,options:y,"aria-label":W,"data-testid":W})),o().createElement(n.InlineField,{label:"Media Field",grow:!0},o().createElement(n.Select,{onChange:e=>{h(Sa(wa({},f),{field:e.field,refId:e.refId||""}))},value:f.field||null,options:E,"aria-label":H,"data-testid":H})),o().createElement(n.Button,{icon:"plus",title:"Add Media source",onClick:w,disabled:!f.type||!f.field,"data-testid":j},"Add")))};var Aa=g(8449),xa=g.n(Aa);function Ca(){return Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ca.apply(this,arguments)}const Oa=new e.PanelPlugin((({timeRange:l,options:u,data:d,width:p,height:f})=>{const h=(0,n.useStyles2)(Mt),[m,g]=(0,r.useState)(0),[b,v]=(0,r.useState)(0),[y,S]=(0,r.useState)(0),E=(0,r.useRef)(null),A=(0,r.useRef)(null),{description:x,isNavigationShown:C,rowsLength:O,link:I,videoPoster:R,mediaSource:D}=(({options:t,data:n,currentIndex:o,timeRange:a})=>{const[l,u]=(0,r.useState)({state:e.LoadingState.Loading,series:[],timeRange:a});(0,r.useEffect)((()=>{n.state&&![e.LoadingState.Done,e.LoadingState.Streaming].includes(n.state)||u(n)}),[n]);const d=(0,r.useMemo)((()=>{var e;return t.toolbar&&(null===(e=t.buttons)||void 0===e?void 0:e.includes(c.NAVIGATION))}),[t.buttons,t.toolbar]),p=(0,r.useMemo)((()=>l.series.length&&l.series[0].length||0),[l.series]),f=(0,r.useMemo)((()=>t.description?ee(l.series,t.description):[]),[l.series,t.description]),h=(0,r.useMemo)((()=>t.videoPoster?ee(l.series,t.videoPoster):[]),[l.series,t.videoPoster]),m=(0,r.useMemo)((()=>d?o:p-1),[o,d,p]),g=(0,r.useMemo)((()=>((e,t,n,r)=>{if(e&&e.length)for(const o of t){const t=(0,Q.UI)(e,((e,t)=>o.refId?(null==t?void 0:t.refId)===o.refId&&e.name===o.field:e.name===o.field));if(t&&(null==t?void 0:t.values[n])){let e;if(X(t.values[n])){if(e=J(null==t?void 0:t.values[n]).currentMedia,o.type===s.PDF){const t=K(e,i.PDF);e=URL.createObjectURL(t)}}else e=t.values[n];return o.type!==s.PDF||r||(e+="#toolbar=0"),{type:o.type,url:e,field:o.field}}}return{type:null}})(l.series,t.mediaSources,m,t.pdfToolbar)),[l.series,t.mediaSources,t.pdfToolbar,m]),b=(0,r.useMemo)((()=>f[m]),[m,f]),v=(0,r.useMemo)((()=>((t,n,r)=>{const o=(0,Q.UI)(t,(t=>t.type===e.FieldType.string&&(!n.field||t.name===n.field)));return o&&(null==o?void 0:o.getLinks)?null==o?void 0:o.getLinks({valueRowIndex:r})[0]:null})(l.series,g,o)),[l.series,o,g]),y=(0,r.useMemo)((()=>h[m]||""),[h,m]),w=y?X(y)?J(y).currentMedia:y:"";return{description:b,isNavigationShown:d,rowsLength:p,videoPoster:w,link:v,mediaSource:g}})({options:u,data:d,currentIndex:m,timeRange:l}),N=(0,r.useMemo)((()=>u.toolbar&&u.buttons.length>0),[u.toolbar,u.buttons]);(0,r.useEffect)((()=>{var e;v((null===(e=E.current)||void 0===e?void 0:e.clientHeight)||0)}),[p,f,u.toolbar,u.buttons,u.zoomType]),(0,r.useEffect)((()=>{var e;S((null===(e=A.current)||void 0===e?void 0:e.clientHeight)||0)}),[p,f,u.description,x,m,C]),(0,r.useEffect)((()=>{0!==O&&m>O-1&&g(O-1)}),[m,d.series,O]);let j=u.heightMode===a.AUTO?f-b-y:0,F=u.widthMode===a.AUTO?p:0;if(u.heightMode===a.CUSTOM){if(u.heightName){const e=ee(d.series,u.heightName);j=Number(e[e.length-1])?Number(e[e.length-1]):j}j=u.height?u.height:j}if(u.widthMode===a.CUSTOM){if(u.widthName){const e=ee(d.series,u.widthName);F=Number(e[e.length-1])?Number(e[e.length-1]):F}F=u.width?u.width:F}const{imageContainer:z,imageElement:V}=(({options:e,imageWidth:t,imageHeight:n,toolbarHeight:o,descriptionHeight:i,width:s,height:l})=>{const c=(0,r.useMemo)((()=>e.widthMode===a.SCROLL?"auto":"hidden"),[e.widthMode]),u=(0,r.useMemo)((()=>e.heightMode===a.SCROLL?"auto":"hidden"),[e.heightMode]),d=(0,r.useMemo)((()=>s),[s]),p=(0,r.useMemo)((()=>l-o-i),[i,l,o]),f=(0,r.useMemo)((()=>e.widthMode===a.SCROLL?"none":"unset"),[e.widthMode]),h=(0,r.useMemo)((()=>e.heightMode===a.SCROLL?"none":"unset"),[e.heightMode]),m=(0,r.useMemo)((()=>{const n=t?`${t}px`:"auto";return e.heightMode===a.SCROLL&&e.widthMode===a.SCROLL?"unset":e.heightMode===a.SCROLL?"100%":n}),[t,e.heightMode,e.widthMode]),g=(0,r.useMemo)((()=>{const t=n?`${n}px`:"auto";return e.heightMode===a.SCROLL&&e.widthMode===a.SCROLL?"unset":e.widthMode===a.SCROLL?"100%":t}),[n,e.heightMode,e.widthMode]);return{imageContainer:{overflowX:c,overflowY:u,height:p,width:d},imageElement:{maxWidth:f,maxHeight:h,width:m,height:g}}})({options:u,imageWidth:F,imageHeight:j,toolbarHeight:b,descriptionHeight:y,width:p,height:f}),$=e=>o().createElement(o().Fragment,null,e,x&&o().createElement("div",{ref:A,className:h.description},x));let U;var W;if(D.type||(W=u.noResultsMessage,U=o().createElement(n.Alert,{severity:"warning",title:"","data-testid":L},W)),D.type===s.IMAGE){let e=o().createElement("img",{src:D.url,"data-testid":T,alt:"",style:{imageRendering:u.scale,maxWidth:V.maxWidth,maxHeight:V.maxHeight,width:V.width,height:V.height}});I&&I.href&&(e=o().createElement("a",{className:(0,t.cx)(h.url),href:I.href,target:I.target,title:I.title,"data-testid":k},e)),u.heightMode!==a.SCROLL&&u.widthMode!==a.SCROLL||(e=o().createElement("div",{"data-testid":_,style:{width:z.width,height:z.height,overflowX:z.overflowX,overflowY:z.overflowY}},e)),U=$(e)}return D.type===s.VIDEO&&(U=$(o().createElement("video",{muted:u.autoPlay,width:F||"",height:j||"",controls:u.controls,loop:u.infinityPlay,autoPlay:u.autoPlay,"data-testid":M,poster:R},o().createElement("source",{src:D.url})))),D.type===s.AUDIO&&(U=$(o().createElement("audio",{controls:u.controls,autoPlay:u.autoPlay,"data-testid":w,loop:u.infinityPlay},o().createElement("source",{src:D.url})))),D.type===s.PDF&&(U=$(o().createElement("iframe",{width:F||"",height:j||"",src:D.url,"data-testid":P}))),o().createElement("div",{"data-testid":B,className:(0,t.cx)(h.wrapper,t.css`
          width: ${p}px;
          height: ${f}px;
        `)},N?o().createElement(Bt,{options:u,width:p,height:f,rowsLength:O,currentIndex:m,setCurrentIndex:g,toolbarRef:E,mediaSource:D},U):U)})).setNoPadding().setMigrationHandler((e=>{const t=Ca({},function(e){if(null==e)throw new TypeError("Cannot destructure "+e);return e}(e.options));if(t.hasOwnProperty("url")&&delete t.url,t.hasOwnProperty("formats")&&delete t.formats,t.hasOwnProperty("title")&&delete t.title,e.pluginVersion&&xa().lt(e.pluginVersion,"5.2.0")){const e=[];if(t.hasOwnProperty("videoUrl")){var n;const r={type:s.VIDEO,id:va(),field:null!==(n=t.videoUrl)&&void 0!==n?n:"",refId:""};e.push(r),delete t.videoUrl}if(t.hasOwnProperty("imageUrl")){var r;const n={type:s.IMAGE,id:va(),field:null!==(r=t.imageUrl)&&void 0!==r?r:"",refId:""};e.push(n),delete t.imageUrl}if(t.hasOwnProperty("name")){var o;const n={type:s.IMAGE,id:va(),field:null!==(o=t.name)&&void 0!==o?o:"",refId:""};e.push(n),delete t.name}t.mediaSources=e}return t})).useFieldConfig({disableStandardOptions:[e.FieldConfigProperty.Color,e.FieldConfigProperty.Decimals,e.FieldConfigProperty.DisplayName,e.FieldConfigProperty.Filterable,e.FieldConfigProperty.Mappings,e.FieldConfigProperty.Max,e.FieldConfigProperty.Min,e.FieldConfigProperty.NoValue,e.FieldConfigProperty.Thresholds,e.FieldConfigProperty.Unit,"unitScale","fieldMinMax"]}).setPanelOptions((t=>{const n=e=>e.mediaSources&&e.mediaSources.some((e=>e.type===s.AUDIO)),r=e=>e.mediaSources&&e.mediaSources.some((e=>e.type===s.IMAGE)),o=e=>e.mediaSources&&e.mediaSources.some((e=>e.type===s.VIDEO));return t.addCustomEditor({id:"mediaSources",path:"mediaSources",name:"Media Sources",description:"Defines priority to display Base64 encoded and URL media sources.",editor:Ea,settings:{filterByType:[e.FieldType.string]},defaultValue:d.mediaSources}),t.addFieldNamePicker({path:"description",name:"Field description",description:"Name of the field with descriptions. If not specified, the description won't be shown.",category:["Text Options"],settings:{filter:t=>t.type===e.FieldType.string,noFieldsMessage:"No strings fields found"}}).addTextInput({path:"noResultsMessage",name:"No Results Message",category:["Text Options"],description:"Specifies no results message text.",defaultValue:d.noResultsMessage}),t.addRadio({path:"toolbar",name:"Display toolbar",settings:{options:m},category:["Toolbar"],defaultValue:d.toolbar}).addMultiSelect({path:"buttons",name:"Features",description:"Select buttons to display on toolbar.",settings:{options:G},defaultValue:d.buttons,category:["Toolbar"],showIf:e=>e.toolbar}).addNumberInput({path:"autoPlayInterval",name:"Auto play Interval",description:"Set interval for auto play in seconds. If not specified, 5 seconds by default.",category:["Toolbar"],showIf:e=>e.toolbar&&e.buttons.includes(c.AUTOPLAY)}).addRadio({path:"autoPlayInfinity",name:"Auto Play infinity",settings:{options:m},category:["Toolbar"],defaultValue:d.autoPlayInfinity,showIf:e=>e.toolbar&&e.buttons.includes(c.AUTOPLAY)}).addRadio({path:"zoomType",name:"Zoom mode for images",settings:{options:q},defaultValue:d.zoomType,category:["Toolbar"],showIf:e=>r(e)&&e.toolbar&&e.buttons.includes(c.ZOOM)}),t.addRadio({path:"pdfToolbar",name:"Reader toolbar",settings:{options:m},category:["PDF"],defaultValue:d.toolbar,showIf:e=>(e=>e.mediaSources&&e.mediaSources.some((e=>e.type===s.PDF)))(e)}),t.addSelect({path:"scale",name:"Scale Algorithm",category:["Image"],settings:{options:h},defaultValue:d.scale,showIf:e=>r(e)}),t.addRadio({path:"controls",name:"Controls",description:"When enabled, it specifies that video and audio controls should be displayed.",settings:{options:m},category:["Video/Audio"],defaultValue:d.controls,showIf:e=>o(e)||n(e)}).addRadio({path:"autoPlay",name:"Auto Play",description:"When enabled, the video and audio will automatically start playing without sound.",settings:{options:m},category:["Video/Audio"],defaultValue:d.autoPlay,showIf:e=>o(e)||n(e)}).addRadio({path:"infinityPlay",name:"Infinity Play",description:"When enabled, the video and audio will be played back repeatedly.",settings:{options:m},category:["Video/Audio"],defaultValue:d.infinityPlay,showIf:e=>o(e)||n(e)}).addFieldNamePicker({path:"videoPoster",name:"Poster Image",description:"Use URL or Base64 data for video poster preview.",settings:{filter:t=>t.type===e.FieldType.string,noFieldsMessage:"No strings fields found"},category:["Video/Audio"],showIf:e=>o(e)}),t.addRadio({path:"widthMode",name:"Width",settings:{options:f},category:["Width"],defaultValue:d.widthMode}).addFieldNamePicker({path:"widthName",name:"Field name",description:"Name of the field with width in px.",settings:{filter:t=>t.type===e.FieldType.number,noFieldsMessage:"No number fields found"},category:["Width"],showIf:e=>e.widthMode===a.CUSTOM}).addNumberInput({path:"width",name:"Custom width (px)",defaultValue:d.width,category:["Width"],showIf:e=>e.widthMode===a.CUSTOM}),t.addRadio({path:"heightMode",name:"Height",settings:{options:f},category:["Height"],defaultValue:d.heightMode}).addFieldNamePicker({path:"heightName",name:"Field name",description:"Name of the field with height in px.",settings:{filter:t=>t.type===e.FieldType.number,noFieldsMessage:"No number fields found"},category:["Height"],showIf:e=>e.heightMode===a.CUSTOM}).addNumberInput({path:"height",name:"Custom height (px)",defaultValue:d.height,category:["Height"],showIf:e=>e.heightMode===a.CUSTOM}),t}))})(),b})()));
//# sourceMappingURL=module.js.map